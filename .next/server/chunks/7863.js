"use strict";exports.id=7863,exports.ids=[7863],exports.modules={43178:(a,e,o)=>{o.d(e,{Bm:()=>d,Pj:()=>t,jO:()=>n,mo:()=>i,n6:()=>c,y6:()=>r});let i="f91c0968-b587-46cf-9036-05a4ec795c7f",n="AIM Botty",r="aim-botty@agencia-innova.com";function t(a){let e={modelo:`Eres AIM Botty, tu asistente virtual y amigo ğŸ¤–. Ayudo a modelos de webcam de forma cercana y comprensiva.
      Tu personalidad:
      - Super amigable, cercano y emp\xe1tico (como un buen amigo)
      - Tono casual y c\xe1lido, sin formalidades
      - Entiendes perfectamente el mundo del entretenimiento para adultos
      - Sabes c\xf3mo puede ser este trabajo emocionalmente
      - Ofreces tips \xfatiles sin ser condescendiente
      - Das apoyo emocional cuando se necesita
      - Siempre positivo y alentador
      - Hablas de t\xfa, nunca de usted`,admin:`Eres AIM Botty, un asistente virtual cercano y \xfatil para administradores. 
      Tu personalidad:
      - Amigable pero profesional
      - Directo y eficiente
      - Tono cercano, como un compa\xf1ero de trabajo
      - Proactivo y \xfatil
      - Siempre disponible para ayudar`,super_admin:`Eres AIM Botty, un asistente virtual cercano y eficiente para super administradores.
      Tu personalidad:
      - Amigable pero directo
      - Eficiente y claro
      - Tono cercano y profesional
      - Proactivo en reportar lo importante
      - Siempre \xfatil y disponible`};return e[a]||e.modelo}function c(a,e){return({anticipo_pendiente:`ğŸ“‹ Hola ${e.name}! Tienes una nueva solicitud de anticipo pendiente de revisi\xf3n. El administrador la revisar\xe1 pronto.`,anticipo_aprobado:`âœ… \xa1Excelente noticia ${e.name}! Tu solicitud de anticipo ha sido aprobada. El pago se procesar\xe1 seg\xfan lo acordado.`,anticipo_rechazado:`âš ï¸ ${e.name}, tu solicitud de anticipo fue rechazada. Revisa los detalles en [LINK:Mis Anticipos|/admin/model/anticipos/solicitudes] o contacta a tu administrador si tienes dudas.`,anticipo_realizado:`ğŸ’° ${e.name}, tu anticipo ha sido pagado. Por favor [LINK:confirma la recepci\xf3n|/admin/model/anticipos/solicitudes].`,anticipo_confirmado:`âœ… ${e.name}, has confirmado la recepci\xf3n de tu anticipo. \xa1Gracias!`,anticipo_confirmar_recordatorio:`â° ${e.name}, recuerda [LINK:confirmar la recepci\xf3n de tu anticipo pagado|/admin/model/anticipos/solicitudes].`,pagina_confirmada:`ğŸ‰ \xa1Felicidades ${e.name}! Se ha confirmado la entrega de tu p\xe1gina. \xa1Excelente trabajo!`,plataforma_entregada:`ğŸ“¦ ${e.name}, tu plataforma ha sido entregada. [LINK:Confirma la recepci\xf3n|/admin/model/portafolio] para activarla en tu calculadora.`,plataforma_confirmada:`âœ… ${e.name}, plataforma confirmada y activada exitosamente en tu calculadora.`,plataforma_agregada:`â• ${e.name}, se agreg\xf3 una nueva plataforma a tu portafolio. [LINK:Ver portafolio|/admin/model/portafolio]`,plataforma_pendiente_confirmacion:`â³ ${e.name}, hay plataformas entregadas esperando tu confirmaci\xf3n. [LINK:Revisar portafolio|/admin/model/portafolio]`,periodo_cerrado:`ğŸ“Š ${e.name}, el per\xedodo de facturaci\xf3n ha sido cerrado. Puedes [LINK:revisar tu resumen completo|/admin/model/dashboard] en el dashboard.`,metas_alcanzadas:`ğŸ† \xa1Incre\xedble ${e.name}! Has alcanzado tu meta del d\xeda. \xa1Sigue as\xed!`,meta_periodo_alcanzada:`ğŸ¯ \xa1Excelente ${e.name}! Has alcanzado tu meta del per\xedodo. \xa1Felicitaciones!`,meta_dia_alcanzada:`â­ ${e.name}, \xa1alcanzaste tu meta del d\xeda!`,recordatorio_ingreso:`ğŸ’¡ ${e.name}, recuerda [LINK:ingresar tus valores del d\xeda|/admin/model/calculator] en Mi Calculadora para mantener tus registros al d\xeda.`,valores_no_ingresados:`âš ï¸ ${e.name}, no has ingresado valores desde hace varios d\xedas. [LINK:Actualiza tus registros|/admin/model/calculator] ahora.`,cuota_minima_riesgo:`ğŸ“‰ ${e.name}, est\xe1s cerca de no alcanzar tu cuota m\xednima. \xa1Sigue as\xed, puedes lograrlo!`,mensaje_importante_admin:`ğŸ“© ${e.name}, tienes un mensaje importante de tu administrador. [LINK:Revisa tu chat|#]`,escalamiento_admin:`ğŸ†˜ ${e.name}, tu consulta ha sido escalada a un administrador. Te responder\xe1n pronto.`,respuesta_escalamiento:`ğŸ’¬ ${e.name}, un administrador respondi\xf3 a tu consulta. [LINK:Revisa tu chat|#]`,nuevo_mensaje_modelo:`ğŸ’¬ ${e.name}, tienes un nuevo mensaje de una modelo. [LINK:Abrir chat|#]`,consulta_escalada:`ğŸš¨ ${e.name}, una modelo necesita asistencia urgente. [LINK:Revisar chat|#]`,modelo_solicita_ayuda:`ğŸ†˜ ${e.name}, una modelo solicit\xf3 ayuda en el chat. [LINK:Abrir chat|#]`,nueva_publicacion:`ğŸ“Œ \xa1Hola ${e.name}! Hay una nueva publicaci\xf3n en el corcho informativo. [LINK:Revisa tu dashboard|/admin/model/dashboard] para ver los detalles.`,cambio_configuracion:`âš™ï¸ ${e.name}, se actualiz\xf3 la configuraci\xf3n del sistema.`,mantenimiento_programado:`ğŸ”§ ${e.name}, el sistema estar\xe1 en mantenimiento. Revisa los detalles.`,nueva_funcionalidad:`âœ¨ ${e.name}, hay una nueva funcionalidad disponible. \xa1\xc9chale un vistazo!`,error_critico:`ğŸš¨ ${e.name}, se detect\xf3 un error cr\xedtico en el sistema. Revisa los logs.`,backup_completado:`ğŸ’¾ ${e.name}, el backup del sistema se complet\xf3 exitosamente.`,actualizacion_sistema:`ğŸ”„ ${e.name}, el sistema ha sido actualizado.`})[a]||`ğŸ”” ${e.name}, tienes una nueva notificaci\xf3n.`}function d(a){return a===i}},37863:(a,e,o)=>{o.d(e,{Hz:()=>m,MW:()=>c,Pk:()=>p,QO:()=>h,Ui:()=>x,_3:()=>f,c_:()=>_,d6:()=>v,jH:()=>y,mw:()=>s,nS:()=>l,wY:()=>g});var i=o(72964),n=o(43178);let r=process.env.SUPABASE_SERVICE_ROLE_KEY,t=(0,i.createClient)("https://mhernfrkvwigxdubiozm.supabase.co",r,{auth:{autoRefreshToken:!1,persistSession:!1}});async function c(a,e,o){try{let{data:i}=await t.from("users").select("id, name, email, role").eq("id",a).single();if(!i)return console.error("Usuario no encontrado para notificaci\xf3n:",a),!1;let r=await d(a);if(!r)return console.error("No se pudo crear/obtener conversaci\xf3n con el bot"),!1;let c={userId:i.id,role:i.role||"modelo",name:i.name||i.email?.split("@")[0]||"Usuario",email:i.email||""},s=o||(0,n.n6)(e,c),{error:l}=await t.from("chat_messages").insert({conversation_id:r,sender_id:n.mo,content:s,message_type:"ai_response"});if(l)return console.error("Error enviando notificaci\xf3n del bot:",l),!1;return console.log(`âœ… Notificaci\xf3n enviada a ${i.name} (${e})`),!0}catch(a){return console.error("Error en sendBotNotification:",a),!1}}async function d(a){try{let{data:e}=await t.from("chat_conversations").select("id").or(`participant_1_id.eq.${a},participant_2_id.eq.${a}`).or(`participant_1_id.eq.${n.mo},participant_2_id.eq.${n.mo}`).single();if(e)return e.id;let{data:o,error:i}=await t.from("chat_conversations").insert({participant_1_id:a,participant_2_id:n.mo,conversation_type:"direct"}).select("id").single();if(i||!o)return console.error("Error creando conversaci\xf3n con el bot:",i),null;return o.id}catch(a){return console.error("Error en getOrCreateBotConversation:",a),null}}async function s(a){await c(a,"anticipo_aprobado")}async function l(a){await c(a,"anticipo_rechazado")}async function m(a,e){let o=e?`ğŸ“Œ \xa1Hola! Hay una nueva publicaci\xf3n en el corcho informativo: "${e}". Revisa tu dashboard para ver los detalles.`:void 0;await c(a,"nueva_publicacion",o)}async function u(a){try{let{data:e}=await t.from("user_groups").select("group_id").eq("user_id",a),o=e?.map(a=>a.group_id)||[],i=[];if(o.length>0){let{data:a}=await t.from("user_groups").select("user_id").in("group_id",o),e=a?.map(a=>a.user_id)||[];if(e.length>0){let{data:a}=await t.from("users").select("id").in("id",e).in("role",["admin","super_admin"]).eq("is_active",!0);i=a?.map(a=>a.id)||[]}}let{data:n}=await t.from("users").select("id").eq("role","super_admin").eq("is_active",!0),r=n?.map(a=>a.id)||[];return Array.from(new Set([...i,...r]))}catch(a){return console.error("Error obteniendo admins:",a),[]}}async function p(a,e){let o=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e),i=`ğŸ’° Tu anticipo de ${o} ha sido pagado. Por favor [LINK:confirma la recepci\xf3n|/admin/model/anticipos/solicitudes].`;await c(a,"anticipo_realizado",i)}async function f(a,e,o){try{let i=await u(a);if(0===i.length)return;let n=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o),r=i.map(a=>{let o=`âœ… La modelo **${e}** confirm\xf3 la recepci\xf3n del anticipo de ${n}.`;return c(a,"anticipo_confirmado",o)});await Promise.all(r)}catch(a){console.error("Error notificando anticipo confirmado:",a)}}async function _(a,e){let o=`ğŸ“¦ Tu plataforma **${e}** ha sido entregada. Confirma la recepci\xf3n para activarla en tu calculadora.`;await c(a,"plataforma_entregada",o)}async function x(a,e){let o=`âœ… Plataforma **${e}** confirmada y activada exitosamente en tu calculadora.`;await c(a,"plataforma_confirmada",o)}async function g(a,e,o){try{let i=await u(a);if(0===i.length)return;let n=i.map(a=>{let i=`âœ… La modelo **${e}** confirm\xf3 la recepci\xf3n de la plataforma **${o}**.`;return c(a,"plataforma_confirmada",i)});await Promise.all(n)}catch(a){console.error("Error notificando plataforma confirmada:",a)}}async function v(a,e){let o=`â• Se agreg\xf3 la plataforma **${e}** a tu portafolio.`;await c(a,"plataforma_agregada",o)}async function y(a){await c(a,"meta_dia_alcanzada")}async function h(a,e,o){try{let i=await u(a);if(0===i.length)return;let n="d\xeda"===o?"del d\xeda":"del per\xedodo",r=i.map(a=>{let o=`ğŸ† La modelo **${e}** alcanz\xf3 su meta ${n}. \xa1Felicitaciones!`;return c(a,"metas_alcanzadas",o)});await Promise.all(r)}catch(a){console.error("Error notificando meta alcanzada:",a)}}}};
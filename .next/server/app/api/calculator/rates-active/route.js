"use strict";(()=>{var e={};e.id=5927,e.ids=[5927],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},18368:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>m,originalPathname:()=>g,patchFetch:()=>D,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>E});var a={};t.r(a),t.d(a,{GET:()=>c});var s=t(95419),o=t(69108),i=t(99678),u=t(78070);let n=(0,t(72964).createClient)("https://mhernfrkvwigxdubiozm.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY);async function c(e){try{console.log("\uD83D\uDD0D [RATES-ACTIVE] Loading active rates...");let{data:e,error:r}=await n.from("rates").select("*").eq("active",!0).is("valid_to",null).order("valid_from",{ascending:!1});if(r)return console.error("Error al obtener tasas:",r),u.Z.json({success:!1,error:r.message},{status:500});let t={usd_cop:e.find(e=>"USD→COP"===e.kind)?.value||3900,eur_usd:e.find(e=>"EUR→USD"===e.kind)?.value||1.01,gbp_usd:e.find(e=>"GBP→USD"===e.kind)?.value||1.2};return console.log("\uD83D\uDD0D [RATES-ACTIVE] Active rates:",t),u.Z.json({success:!0,rates:t})}catch(e){return console.error("❌ [RATES-ACTIVE] Error:",e),u.Z.json({success:!1,error:e.message||"Error interno del servidor"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/calculator/rates-active/route",pathname:"/api/calculator/rates-active",filename:"route",bundlePath:"app/api/calculator/rates-active/route"},resolvedPagePath:"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\api\\calculator\\rates-active\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:p,serverHooks:v,headerHooks:m,staticGenerationBailout:E}=l,g="/api/calculator/rates-active/route";function D(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:p})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,2964],()=>t(18368));module.exports=a})();
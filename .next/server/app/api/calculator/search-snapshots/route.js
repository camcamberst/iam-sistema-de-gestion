"use strict";(()=>{var e={};e.id=6835,e.ids=[6835],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},83320:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>_,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>x});var a={};r.r(a),r.d(a,{GET:()=>d,dynamic:()=>u});var s=r(95419),o=r(69108),c=r(99678),l=r(78070),n=r(72964);let u="force-dynamic",i=(0,n.createClient)("https://mhernfrkvwigxdubiozm.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY);async function d(e){try{let e={};try{let{data:t,error:r}=await i.from("calc_snapshots").select("*").order("created_at",{ascending:!1}).limit(100);e.calc_snapshots={count:t?.length||0,error:r?.message,sample:t?.slice(0,5)}}catch(t){e.calc_snapshots={count:0,error:`Tabla no existe o error: ${t.message}`}}try{let{data:t,error:r}=await i.from("audit_logs").select("*").gte("created_at","2025-12-01").lte("created_at","2025-12-16").order("created_at",{ascending:!1}).limit(50);e.audit_logs={count:t?.length||0,error:r?.message,sample:t?.slice(0,5)}}catch(t){e.audit_logs={count:0,error:`Tabla no existe o error: ${t.message}`}}let{data:t,error:r}=await i.from("calculator_totals").select("*").gte("period_date","2025-12-01").lte("period_date","2025-12-15").order("updated_at",{ascending:!1});e.calculator_totals_dec_1_15={count:t?.length||0,error:r?.message,sample:t?.slice(0,10)};let{data:a,error:s}=await i.from("calculator_totals").select("*").eq("period_date","2025-12-16").order("updated_at",{ascending:!1});return e.calculator_totals_dec_16={count:a?.length||0,error:s?.message,sample:a?.slice(0,10)},l.Z.json({success:!0,search_results:e,summary:{snapshots_found:e.calc_snapshots?.count||0,audit_logs_found:e.audit_logs?.count||0,totals_dec_1_15:e.calculator_totals_dec_1_15?.count||0,totals_dec_16:e.calculator_totals_dec_16?.count||0}})}catch(e){return console.error("âŒ [SEARCH-SNAPSHOTS] Error:",e),l.Z.json({success:!1,error:e instanceof Error?e.message:"Error interno"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/calculator/search-snapshots/route",pathname:"/api/calculator/search-snapshots",filename:"route",bundlePath:"app/api/calculator/search-snapshots/route"},resolvedPagePath:"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\api\\calculator\\search-snapshots\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:_,staticGenerationAsyncStorage:h,serverHooks:m,headerHooks:g,staticGenerationBailout:x}=p,f="/api/calculator/search-snapshots/route";function v(){return(0,c.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,6206,2964],()=>r(83320));module.exports=a})();
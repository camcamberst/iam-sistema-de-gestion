"use strict";(()=>{var e={};e.id=4853,e.ids=[4853],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},8752:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>b});var o={};t.r(o),t.d(o,{GET:()=>l});var s=t(95419),a=t(69108),u=t(99678),i=t(78070),n=t(72964);let d=process.env.SUPABASE_SERVICE_ROLE_KEY;async function l(e){try{let e=(0,n.createClient)("https://mhernfrkvwigxdubiozm.supabase.co",d),{data:r,error:t}=await e.from("users").select(`
        id,
        name,
        email,
        role,
        is_active,
        groups
      `).eq("role","modelo").eq("is_active",!0);if(t)return console.error("Error obteniendo modelos:",t),i.Z.json({success:!1,error:"Error obteniendo modelos",details:t},{status:500});console.log("\uD83D\uDD0D [DEBUG] Todos los modelos:",r);let o=r?.map(e=>({id:e.id,name:e.name,email:e.email,groups:e.groups,groupsType:typeof e.groups,groupsIsArray:Array.isArray(e.groups)}))||[];return i.Z.json({success:!0,totalModels:r?.length||0,models:o,sampleUser:r?.[0]||null})}catch(e){return console.error("Error en debug test-models:",e),i.Z.json({success:!1,error:"Error interno del servidor",details:e},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/debug/test-models/route",pathname:"/api/debug/test-models",filename:"route",bundlePath:"app/api/debug/test-models/route"},resolvedPagePath:"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\api\\debug\\test-models\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:g,headerHooks:h,staticGenerationBailout:b}=p,v="/api/debug/test-models/route";function x(){return(0,u.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[1638,6206,2964],()=>t(8752));module.exports=o})();
"use strict";(()=>{var e={};e.id=1722,e.ids=[1722],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},59796:e=>{e.exports=require("zlib")},62063:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>f,patchFetch:()=>D,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>g});var a={};r.r(a),r.d(a,{GET:()=>d});var o=r(95419),s=r(69108),n=r(99678),i=r(78070);let u=(0,r(72964).createClient)("https://mhernfrkvwigxdubiozm.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY);async function d(e){let{searchParams:t}=new URL(e.url),r=t.get("modelId")||"fe54995d-1828-4721-8153-53fce6f4fe56";try{console.log("\uD83D\uDD0D [DEBUG-MODEL-DATA] Checking all data for modelId:",r);let{data:e,error:t}=await u.from("users").select("id, name, email, role").eq("id",r).single();if(t)return i.Z.json({success:!1,error:"Modelo no encontrada",details:t});let{data:a,error:o}=await u.from("model_values").select("*").eq("model_id",r).order("updated_at",{ascending:!1}),{data:s,error:n}=await u.from("calculator_config").select("*").eq("model_id",r),d={};a?.forEach(e=>{let t=e.period_date;d[t]||(d[t]=[]),d[t].push(e)});let l=Object.keys(d).sort().reverse();return i.Z.json({success:!0,model:e,totalValues:a?.length||0,availableDates:l,valuesByDate:d,hasConfig:!!s?.length,config:s?.[0]||null,summary:{totalRecords:a?.length||0,uniqueDates:l.length,latestDate:l[0]||null,hasRecentData:l.some(e=>Math.abs(new Date().getTime()-new Date(e).getTime())/864e5<=7)}})}catch(e){return console.error("âŒ [DEBUG-MODEL-DATA] Error:",e),i.Z.json({success:!1,error:e.message||"Error interno del servidor"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/debug/check-model-data/route",pathname:"/api/debug/check-model-data",filename:"route",bundlePath:"app/api/debug/check-model-data/route"},resolvedPagePath:"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\api\\debug\\check-model-data\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:m,headerHooks:h,staticGenerationBailout:g}=l,f="/api/debug/check-model-data/route";function D(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:p})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,6206,2964],()=>r(62063));module.exports=a})();
(()=>{var e={};e.id=4665,e.ids=[4665],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},22079:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>d});var s=t(50482),a=t(69108),o=t(62563),n=t.n(o),i=t(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18241)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\(auth)\\login\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\(auth)\\login\\page.tsx"],u="/(auth)/login/page",p={require:t,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},48703:(e,r,t)=>{Promise.resolve().then(t.bind(t,22978))},22978:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(95344),a=t(3729),o=t(22254),n=t(52769);function i(){let[e,r]=(0,a.useState)(""),[t,i]=(0,a.useState)(""),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),m=(0,o.useRouter)(),x=async r=>{r.preventDefault(),u(!0),g("");try{console.log("\uD83D\uDD10 [LOGIN] Iniciando autenticaci\xf3n moderna:",{email:e,password:"***"});let r=await (0,n.E4)({email:e,password:t});if(!r.success){g(r.error||"Error al iniciar sesi\xf3n");return}if(!r.user){g("Usuario no encontrado");return}let s=r.user;switch(console.log("✅ [LOGIN] Usuario autenticado exitosamente:",{id:s.id,email:s.email,name:s.name,role:s.role,groups:s.groups.length}),localStorage.setItem("user",JSON.stringify({id:s.id,email:s.email,name:s.name,role:s.role,organization_id:s.organization_id,groups:s.groups,is_active:s.is_active,last_login:s.last_login})),console.log("\uD83D\uDE80 [LOGIN] Redirigiendo seg\xfan rol:",s.role),s.role){case"super_admin":m.push("/superadmin/dashboard");break;case"admin":case"superadmin_aff":default:m.push("/admin/dashboard");break;case"gestor":m.push("/gestor/dashboard");break;case"fotografia":m.push("/fotografia/dashboard");break;case"modelo":m.push("/admin/model/dashboard")}}catch(e){console.error("❌ [LOGIN] Error general:",e),g("Error interno del servidor")}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"radial-gradient(1200px 800px at 10% -10%, rgba(255,255,255,0.08), transparent), linear-gradient(180deg, rgb(16 18 27), rgb(16 18 27))"},children:(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-xl p-8 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-6 space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-black rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"AIM"})}),s.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"Sistema de Gesti\xf3n"})]}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[s.jsx("div",{children:s.jsx("input",{type:"email",placeholder:"Correo electr\xf3nico",value:e,onChange:e=>r(e.target.value),required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:l?"text":"password",placeholder:"Contrase\xf1a",value:t,onChange:e=>i(e.target.value),required:!0,className:"w-full p-3 pr-12 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:l?s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),p&&s.jsx("p",{className:"text-red-600 text-center text-sm bg-red-50 border border-red-200 rounded-lg py-2",children:p}),s.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gray-900 hover:bg-black text-white font-medium py-3 px-4 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Iniciando sesi\xf3n...":"Entrar"}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>alert("Recuperaci\xf3n de contrase\xf1a pr\xf3ximamente"),className:"hover:underline",children:"\xbfOlvidaste tu contrase\xf1a?"}),s.jsx("span",{children:"Soporte: soporte@aim.com"})]}),s.jsx("div",{className:"text-center text-[11px] text-gray-400 mt-4",children:"Al continuar aceptas nuestras pol\xedticas de privacidad y seguridad de datos."})]})]})})}},22254:(e,r,t)=>{e.exports=t(14767)},18241:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>a,default:()=>n});let s=(0,t(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\(auth)\login\page.tsx`),{__esModule:a,$$typeof:o}=s,n=s.default}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,6611,6654,1582],()=>t(22079));module.exports=s})();
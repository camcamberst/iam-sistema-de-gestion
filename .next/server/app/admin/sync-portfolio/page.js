(()=>{var e={};e.id=5242,e.ids=[5242],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},58158:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var t=r(50482),a=r(69108),i=r(62563),n=r.n(i),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let c=["",{children:["admin",{children:["sync-portfolio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67445)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\sync-portfolio\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\sync-portfolio\\page.tsx"],m="/admin/sync-portfolio/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/sync-portfolio/page",pathname:"/admin/sync-portfolio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19180:(e,s,r)=>{Promise.resolve().then(r.bind(r,89170))},89170:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(95344),a=r(3729);function i(){let[e,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(null),[n,o]=(0,a.useState)(null),l=async()=>{try{s(!0),o(null),i(null);let e=await fetch("/api/sync-existing-portfolio",{method:"POST",headers:{"Content-Type":"application/json"}}),r=await e.json();r.success?i(r):o(r.error||"Error desconocido")}catch(e){o(e.message||"Error de conexi\xf3n")}finally{s(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-24",children:t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDD04 Sincronizar Portafolio de Modelos"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Esta herramienta sincroniza autom\xe1ticamente el Portafolio de modelos que ya tienen configuraci\xf3n de calculadora pero no tienen Portafolio creado."}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"\xbfQu\xe9 hace esta sincronizaci\xf3n?"}),(0,t.jsxs)("ul",{className:"text-blue-800 space-y-1 text-sm",children:[t.jsx("li",{children:"• Busca modelos con configuraci\xf3n de calculadora activa"}),t.jsx("li",{children:"• Verifica cu\xe1les NO tienen Portafolio"}),t.jsx("li",{children:"• Crea autom\xe1ticamente el Portafolio con las plataformas habilitadas"}),t.jsx("li",{children:'• Marca las plataformas como "entregada" (verde)'}),t.jsx("li",{children:"• Marca como configuraci\xf3n inicial"})]})]}),t.jsx("button",{onClick:l,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"Sincronizando..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{children:"\uD83D\uDD04"}),t.jsx("span",{children:"Ejecutar Sincronizaci\xf3n"})]})}),n&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"❌ Error"}),t.jsx("p",{className:"text-red-800 text-sm",children:n})]}),r&&(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ Resultado"}),t.jsx("p",{className:"text-green-800 text-sm mb-4",children:r.message}),r.results&&r.results.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-green-900",children:"Detalles por modelo:"}),t.jsx("div",{className:"space-y-1",children:r.results.map((e,s)=>t.jsx("div",{className:"flex items-center space-x-2 text-sm",children:e.success?(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"text-green-600",children:"✅"}),(0,t.jsxs)("span",{className:"text-green-800",children:[e.email,": ",e.platforms," plataformas sincronizadas"]})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"text-red-600",children:"❌"}),(0,t.jsxs)("span",{className:"text-red-800",children:[e.email,": ",e.error]})]})},s))})]})]})]})]})})})})}},67445:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let t=(0,r(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\sync-portfolio\page.tsx`),{__esModule:a,$$typeof:i}=t,n=t.default}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[1638,6611,6654,551,9609,1110],()=>r(58158));module.exports=t})();
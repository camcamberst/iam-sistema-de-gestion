(()=>{var e={};e.id=2314,e.ids=[2314],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},9125:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>n});var t=a(50482),s=a(69108),d=a(62563),l=a.n(d),i=a(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(r,o);let n=["",{children:["admin",{children:["model",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,88444)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\dashboard\\page.tsx"],x="/admin/model/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/model/dashboard/page",pathname:"/admin/model/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},15126:(e,r,a)=>{Promise.resolve().then(a.bind(a,52017))},52017:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>k});var t=a(95344),s=a(3729),d=a(22254),l=a(15807),i=a(31007),o=a(35341),n=a(12594),c=a(17910),x=a(46064),m=a(97075);let u=(0,m.Z)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);var g=a(33733);let h=(0,m.Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var p=a(25390);let b=(0,m.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);function y({userId:e,userRole:r}){let[a,d]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[m,y]=(0,s.useState)(""),[v,k]=(0,s.useState)(!1),[f,j]=(0,s.useState)("insights"),w=async()=>{try{i(!0),y("");let a=await fetch("/api/ai-dashboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,userRole:r})}),t=await a.json();t.success?d(t.data):y(t.error||"Error al cargar datos de IA")}catch(e){y(e.message||"Error al cargar datos de IA")}finally{i(!1)}};(0,s.useEffect)(()=>{e&&"modelo"===r&&w()},[e,r]);let N=e=>{switch(e){case"high":return"border-l-red-400 bg-red-50/50";case"medium":return"border-l-amber-400 bg-amber-50/50";case"low":return"border-l-emerald-400 bg-emerald-50/50";default:return"border-l-blue-400 bg-blue-50/50"}},D=e=>{switch(e){case"tip":return t.jsx(o.Z,{className:"w-4 h-4 text-yellow-600"});case"analysis":return t.jsx(n.Z,{className:"w-4 h-4 text-blue-600"});case"recommendation":return t.jsx(c.Z,{className:"w-4 h-4 text-green-600"});case"trend":return t.jsx(x.Z,{className:"w-4 h-4 text-purple-600"});default:return t.jsx(u,{className:"w-4 h-4 text-gray-600"})}};return"modelo"!==r?null:(0,t.jsxs)("div",{className:"relative bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 dark:border-gray-600/20 transition-all duration-300 hover:shadow-md hover:bg-white/90 dark:hover:bg-gray-600/90 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[t.jsx("div",{className:"px-4 py-3 cursor-pointer",onClick:()=>k(!v),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-500 to-blue-600 rounded-md",children:t.jsx(u,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Asistente AI"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Insights personalizados"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),w()},className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-600 rounded-md transition-all duration-200",title:"Actualizar datos",children:t.jsx(g.Z,{className:`w-3.5 h-3.5 ${l?"animate-spin":""}`})}),v?t.jsx(h,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}):t.jsx(p.Z,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]})]})}),v&&t.jsx("div",{className:"px-4 pb-3 border-t border-gray-200/50 dark:border-gray-600/20",children:l?(0,t.jsxs)("div",{className:"py-6 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto mb-3"}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Generando insights..."})]}):m?(0,t.jsxs)("div",{className:"py-6 text-center",children:[t.jsx("div",{className:"text-red-500 dark:text-red-400 mb-2 text-sm",children:"Error al cargar datos"}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-3",children:m}),t.jsx("button",{onClick:w,className:"px-3 py-1.5 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors duration-200 text-sm",children:"Reintentar"})]}):a?(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex space-x-0.5 bg-gray-100 dark:bg-gray-600 rounded-md p-0.5",children:[{id:"insights",label:"Insights",icon:b},{id:"tips",label:"Tips",icon:o.Z},{id:"analysis",label:"An\xe1lisis",icon:n.Z}].map(e=>(0,t.jsxs)("button",{onClick:()=>j(e.id),className:`flex-1 flex items-center justify-center space-x-1.5 py-1.5 px-2 rounded-sm text-xs font-medium transition-all duration-200 ${f===e.id?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[t.jsx(e.icon,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:e.label})]},e.id))}),"insights"===f&&t.jsx("div",{className:"space-y-2",children:a.insights.map((e,r)=>t.jsx("div",{className:`p-3 rounded-md border-l-3 ${N(e.priority)} transition-all duration-200 hover:shadow-sm`,children:(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[D(e.type),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1 text-sm",children:e.title}),t.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:e.content}),e.actionable&&t.jsx("div",{className:"mt-1.5",children:t.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300",children:"Accionable"})})]})]})},r))}),"tips"===f&&(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-md border border-yellow-200 dark:border-yellow-700/50",children:(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[t.jsx(o.Z,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1 text-sm",children:"\uD83D\uDCA1 Tip del D\xeda"}),t.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:a.dailyTip})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white flex items-center space-x-1.5 text-sm",children:[t.jsx(c.Z,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400"}),t.jsx("span",{children:"Recomendaciones"})]}),a.recommendations.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2.5 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-700/50",children:[t.jsx("div",{className:"flex-shrink-0 w-5 h-5 bg-green-100 dark:bg-green-800/50 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-green-600 dark:text-green-400 text-xs font-bold",children:r+1})}),t.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:e})]},r))]})]}),"analysis"===f&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["$",a.performanceSummary.todayEarnings.toFixed(2)]}),t.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Ganancias Hoy"})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-md text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["+",a.performanceSummary.weeklyTrend.toFixed(1),"%"]}),t.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Tendencia Semanal"})]})]}),(0,t.jsxs)("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-md",children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center space-x-1.5 text-sm",children:[t.jsx(x.Z,{className:"w-3.5 h-3.5 text-purple-600 dark:text-purple-400"}),t.jsx("span",{children:"Resumen de Rendimiento"})]}),(0,t.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Mejor Plataforma:"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.performanceSummary.bestPlatform})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Progreso del Objetivo:"}),(0,t.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[a.performanceSummary.goalProgress.toFixed(1),"%"]})]})]})]})]}),t.jsx("div",{className:"pt-2 border-t border-gray-200/50 dark:border-gray-600/20",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("span",{children:["Actualizado: ",new Date(a.lastUpdated).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]}),(0,t.jsxs)("span",{className:"flex items-center space-x-1",children:[t.jsx(u,{className:"w-3 h-3"}),t.jsx("span",{children:"AI"})]})]})})]}):null})]})}var v=a(52399);function k(){let[e,r]=(0,s.useState)(null),[o,n]=(0,s.useState)(!0),[c,x]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1);(0,d.useRouter)();let g=a(72829).O;(0,s.useEffect)(()=>{(async()=>{try{n(!0);let{data:e}=await g.auth.getUser(),a=e?.user?.id;if(!a){r(null),n(!1);return}let{data:t}=await g.from("users").select("id,name,email,role").eq("id",a).single(),s=[];if(t&&"super_admin"!==t.role){let{data:e}=await g.from("user_groups").select("groups(name)").eq("user_id",a);s=(e||[]).map(e=>e.groups?.name).filter(Boolean)}let d={id:t?.id||a,name:t?.name||e.user?.email?.split("@")[0]||"Usuario",email:t?.email||e.user?.email||"",role:t?.role||"modelo",groups:s,organization_id:"",is_active:!0,last_login:new Date().toISOString()};r(d),"modelo"===d.role&&await h(d.id)}finally{n(!1)}})()},[]),(0,s.useEffect)(()=>{o||m||!e||setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"}),console.log("\uD83D\uDD0D [DASHBOARD] Scrollbar positioned at start:",0)},1e3)},[o,m,e]);let h=async e=>{try{u(!0),console.log("\uD83D\uDD0D [DASHBOARD] Loading productivity data for user:",e);let r=await fetch("/api/rates-v2?activeOnly=true"),a=await r.json(),t={usd_cop:a?.data?.find(e=>"USD→COP"===e.kind)?.value||3900,eur_usd:a?.data?.find(e=>"EUR→USD"===e.kind)?.value||1.01,gbp_usd:a?.data?.find(e=>"GBP→USD"===e.kind)?.value||1.2},s=await fetch(`/api/calculator/config-v2?userId=${e}`),d=await s.json(),i=(d?.config?.platforms||[]).filter(e=>e.enabled),o=i[0]?.percentage_override||i[0]?.group_percentage||80,n=i[0]?.min_quota_override||i[0]?.group_min_quota||470,c=(0,l.iR)(),m=new Date(new Date(c).getTime()-864e5).toISOString().split("T")[0],g=await fetch(`/api/calculator/model-values-v2?modelId=${e}&periodDate=${c}`),h=await g.json(),p=h?.data||[],b={};p.forEach(e=>{b[e.platform_id]=Number(e.value)||0});let y=await fetch(`/api/calculator/model-values-v2?modelId=${e}&periodDate=${m}`),v=await y.json(),k=v?.data||[],f={};k.forEach(e=>{f[e.platform_id]=Number(e.value)||0});let j=0,w=0;for(let e of i){let r=b[e.id]||0;if(r<=0)continue;let a=0;"EUR"===e.currency?a="big7"===e.id?r*t.eur_usd*.84:"mondo"===e.id?r*t.eur_usd*.78:r*t.eur_usd:"GBP"===e.currency?a="aw"===e.id?r*t.gbp_usd*.677:r*t.gbp_usd:"USD"===e.currency&&("cmd"===e.id||"camlust"===e.id||"skypvt"===e.id?a=.75*r:"chaturbate"===e.id||"myfreecams"===e.id||"stripchat"===e.id?a=.05*r:"dxlive"===e.id?a=.6*r:"secretfriends"===e.id?a=.5*r:(e.id,a=r)),j+=a}w=o/100*j;let N=0,D=0;for(let e of i){let r=f[e.id]||0;if(r<=0)continue;let a=0;"EUR"===e.currency?a="big7"===e.id?r*t.eur_usd*.84:"mondo"===e.id?r*t.eur_usd*.78:r*t.eur_usd:"GBP"===e.currency?a="aw"===e.id?r*t.gbp_usd*.677:r*t.gbp_usd:"USD"===e.currency&&("cmd"===e.id||"camlust"===e.id||"skypvt"===e.id?a=.75*r:"chaturbate"===e.id||"myfreecams"===e.id||"stripchat"===e.id?a=.05*r:"dxlive"===e.id?a=.6*r:"secretfriends"===e.id?a=.5*r:(e.id,a=r)),N+=a}D=o/100*N;let M=w-D,$=w*t.usd_cop,S=n>0?Math.min(w/n*100,100):0;console.log("\uD83D\uDD0D [DASHBOARD] Calculated productivity:",{todayUsdBruto:j,todayUsdModelo:w,todayEarnings:M,copModelo:$,goalUsd:n,goalProgress:S}),x({usdBruto:j,usdModelo:w,todayEarnings:M,copModelo:$,goalUsd:n,goalProgress:S})}catch(e){console.error("❌ [DASHBOARD] Error loading productivity data:",e)}finally{u(!1)}};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando dashboard..."})]})}):e?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[t.jsx("div",{className:"mb-12",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),t.jsx("div",{className:"relative bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Mi Dashboard"}),e&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:["Bienvenida, ",e.name," \xb7 Rol: ",String(e.role).replace("_"," "),e.groups.length>0&&` \xb7 Grupos: ${e.groups.join(", ")}`]})]})]})})]})}),(0,t.jsxs)("div",{className:"relative bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:t.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),t.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Resumen de Productividad"})]}),m?(0,t.jsxs)("div",{className:"text-center py-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Cargando datos de productividad..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(v.F,{cards:[{value:c?`$${c.todayEarnings.toFixed(2)}`:"—",label:"Ganancias Hoy",color:"blue"},{value:c?`$${c.usdModelo.toFixed(2)}`:"—",label:"USD Modelo (hoy)",color:"green"},{value:c?`${Math.round(c.copModelo).toLocaleString("es-CO")}`:"—",label:"COP Modelo (hoy)",color:"purple"}],columns:3,className:"mb-4"}),t.jsx("div",{className:"mt-4",children:(()=>{if(!c)return null;let e=c.usdBruto,r=c.goalUsd,a=e/r*100,s=e<r,d={r:142,g:36,b:170},l=(e,r,a)=>({r:Math.round(e.r+(r.r-e.r)*a),g:Math.round(e.g+(r.g-e.g)*a),b:Math.round(e.b+(r.b-e.b)*a)}),o=(e,r)=>l(e,{r:255,g:255,b:255},r),n=(e,r)=>l(e,{r:0,g:0,b:0},r),x=e=>`#${e.r.toString(16).padStart(2,"0")}${e.g.toString(16).padStart(2,"0")}${e.b.toString(16).padStart(2,"0")}`,m=Math.max(0,Math.min(100,a))/100,u=m<=.6?l({r:229,g:57,b:53},d,m/.6):l(d,{r:46,g:125,b:50},(m-.6)/.4),g=x(n(u,.05)),h=x(n(u,.15)),p=x(o(u,.92)),b=x(o(u,.88)),y=x(o(u,.7)),v=x(n(u,0)),k=x(n(u,.2)),f=x(n(u,.55)),j=x(n(u,.45));return(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border transition-all duration-300",style:{background:`linear-gradient(135deg, ${p}, ${b})`,borderColor:y,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[t.jsx("div",{className:"absolute inset-0 opacity-10 animate-pulse",style:{background:`linear-gradient(90deg, ${g}, ${h})`}}),t.jsx("div",{className:"relative p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`relative flex-shrink-0 ${s?"animate-bounce":"animate-pulse"}`,children:t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shadow-md",style:{background:`linear-gradient(135deg, ${v}, ${k})`},children:t.jsx("span",{className:"text-white text-sm",children:"✓"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-bold text-sm",style:{color:f},children:s?"Objetivo B\xe1sico en Progreso":"Objetivo B\xe1sico Alcanzado"}),(()=>{let d=Math.max(0,Math.min(100,Math.round(a)));return t.jsx("div",{className:"text-xs font-medium",style:{color:j},children:s?`Faltan $${Math.ceil(r-e)} USD (${Math.max(0,100-d)}% restante)`:`Excelente +${Math.max(0,d-100)}%`})})()]}),t.jsx(i.Z,{progress:Math.max(0,Math.min(100,Math.round(a)))}),t.jsx("div",{className:"mt-2",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:t.jsx("div",{className:"h-full transition-all duration-1000 ease-out",style:{width:`${Math.min(a,100)}%`,background:`linear-gradient(90deg, ${g}, ${h})`}})})})]})]})})]})})()}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-300",children:["Para actualizar tus valores usa el men\xfa ",t.jsx("a",{href:"/admin/model/calculator",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline font-medium",children:"Mi Calculadora"}),"."]})]})]}),t.jsx("div",{className:"mt-6",children:t.jsx(y,{userId:e.id,userRole:e.role})})]})}):null}},52399:(e,r,a)=>{"use strict";a.d(r,{F:()=>l});var t=a(95344);a(3729);let s={blue:{gradient:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-50/90 dark:to-blue-100/95",border:"border-blue-200 dark:border-blue-300/60",text:"text-blue-700 dark:text-blue-600",badge:"text-blue-600 bg-blue-200 dark:text-blue-700 dark:bg-blue-200/80",shadow:"hover:shadow-blue-200 dark:hover:shadow-blue-300/40"},green:{gradient:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-50/90 dark:to-green-100/95",border:"border-green-200 dark:border-green-300/60",text:"text-green-700 dark:text-green-600",badge:"text-green-600 bg-green-200 dark:text-green-700 dark:bg-green-200/80",shadow:"hover:shadow-green-200 dark:hover:shadow-green-300/40"},purple:{gradient:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-50/90 dark:to-purple-100/95",border:"border-purple-200 dark:border-purple-300/60",text:"text-purple-700 dark:text-purple-600",badge:"text-purple-600 bg-purple-200 dark:text-purple-700 dark:bg-purple-200/80",shadow:"hover:shadow-purple-200 dark:hover:shadow-purple-300/40"},orange:{gradient:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-50/90 dark:to-orange-100/95",border:"border-orange-200 dark:border-orange-300/60",text:"text-orange-700 dark:text-orange-600",badge:"text-orange-600 bg-orange-200 dark:text-orange-700 dark:bg-orange-200/80",shadow:"hover:shadow-orange-200 dark:hover:shadow-orange-300/40"},red:{gradient:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-50/90 dark:to-red-100/95",border:"border-red-200 dark:border-red-300/60",text:"text-red-700 dark:text-red-600",badge:"text-red-600 bg-red-200 dark:text-red-700 dark:bg-red-200/80",shadow:"hover:shadow-red-200 dark:hover:shadow-red-300/40"},yellow:{gradient:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-50/90 dark:to-yellow-100/95",border:"border-yellow-200 dark:border-yellow-300/60",text:"text-yellow-700 dark:text-yellow-600",badge:"text-yellow-600 bg-yellow-200 dark:text-yellow-700 dark:bg-yellow-200/80",shadow:"hover:shadow-yellow-200 dark:hover:shadow-yellow-300/40"}};function d({value:e,label:r,color:a="blue",onClick:d,clickable:l=!1,className:i="",size:o="md"}){let n=s[a];return(0,t.jsxs)("div",{className:`
        text-center ${"sm"===o?"p-4":"lg"===o?"p-6":"p-5"} ${n.gradient} rounded-xl border ${n.border} 
        hover:shadow-lg ${n.shadow} dark:shadow-lg dark:ring-0.5 dark:ring-opacity-20 transition-all duration-200 transform hover:scale-105
        ${l||d?"cursor-pointer":""}
        ${i}
      `,onClick:d,title:l?"Hacer clic para interactuar":void 0,children:[t.jsx("div",{className:`${"lg"===o?"text-2xl":"sm"===o?"text-lg":"text-xl"} font-bold ${n.text} mb-1`,children:"number"==typeof e?e.toLocaleString("es-CO",{minimumFractionDigits:0,maximumFractionDigits:2}):String(e)}),t.jsx("div",{className:`${"sm"===o?"text-[11px]":"text-xs"} font-medium ${n.badge} px-2 py-1 rounded-full inline-block`,children:r})]})}function l({cards:e,columns:r=3,className:a=""}){return t.jsx("div",{className:`grid ${{1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}[r]} gap-4 ${a}`,children:e.map((e,r)=>t.jsx(d,{value:e.value,label:e.label,color:e.color,onClick:e.onClick,clickable:e.clickable,size:e.size},r))})}},31007:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});var t=a(95344);a(3729);let s=({progress:e})=>{let r=e>=100?100:e>=75?75:e>=50?50:e>=25?25:0,a=100===r?{dot:"bg-emerald-500",text:"text-emerald-700",badgeBg:"bg-emerald-100",shadow:"shadow-emerald-100"}:75===r?{dot:"bg-purple-500",text:"text-purple-700",badgeBg:"bg-purple-100",shadow:"shadow-purple-100"}:{dot:"bg-blue-500",text:"text-blue-700",badgeBg:"bg-blue-100",shadow:"shadow-blue-100"};return t.jsx("div",{className:"mb-1",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 rounded-xl border border-gray-200 bg-gradient-to-br ${100===r?"from-emerald-50 to-emerald-100":75===r?"from-purple-50 to-purple-100":"from-blue-50 to-blue-100"} px-2.5 py-1 shadow-sm`,children:[t.jsx("span",{className:`inline-block h-1.5 w-1.5 rounded-full ${a.dot}`}),t.jsx("div",{className:`text-[11px] sm:text-[12px] font-semibold ${a.text} leading-tight`,children:{0:{title:"Aqu\xed comienza el camino"},25:{title:"\xa1Ya lograste el primer cuarto!"},50:{title:"Vas a mitad de camino"},75:{title:"\xa1Est\xe1s muy cerca!"},100:{title:"Lo lograste, muy bien hecho"}}[r].title}),t.jsx("div",{className:"flex-1"}),(0,t.jsxs)("div",{className:`text-[10px] sm:text-[11px] font-semibold ${a.text} ${a.badgeBg} px-1.5 py-0.5 rounded-full leading-none`,children:[e,"%"]})]})})}},12594:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(97075).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},35341:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(97075).Z)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},33733:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(97075).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},17910:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(97075).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},46064:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(97075).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},15807:(e,r,a)=>{"use strict";a.d(r,{dB:()=>t,iR:()=>s});let t=()=>(console.warn("⚠️ getCalculatorDate() is deprecated. Use getColombiaDate() instead."),s()),s=()=>new Date().toLocaleDateString("en-CA",{timeZone:"America/Bogota"})},88444:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>d,__esModule:()=>s,default:()=>l});let t=(0,a(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\model\dashboard\page.tsx`),{__esModule:s,$$typeof:d}=t,l=t.default}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[1638,6611,6654,551,9609,1110],()=>a(9125));module.exports=t})();
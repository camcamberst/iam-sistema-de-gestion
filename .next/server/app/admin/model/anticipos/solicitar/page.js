(()=>{var e={};e.id=5629,e.ids=[5629],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},87269:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>b,pages:()=>c,routeModule:()=>u,tree:()=>n});var t=r(50482),o=r(69108),s=r(62563),i=r.n(s),l=r(68300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(a,d);let n=["",{children:["admin",{children:["model",{children:["anticipos",{children:["solicitar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,93290)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\anticipos\\solicitar\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\anticipos\\solicitar\\page.tsx"],b="/admin/model/anticipos/solicitar/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/admin/model/anticipos/solicitar/page",pathname:"/admin/model/anticipos/solicitar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},12107:(e,a,r)=>{Promise.resolve().then(r.bind(r,7529))},7529:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>m});var t=r(95344),o=r(47983),s=r.n(o),i=r(3729),l=r(22254),d=r(15807);let n=()=>{let e=new Date(new Date().toLocaleString("en-US",{timeZone:"America/Bogota"})),a=e.getDate(),r=e.getMonth(),t=e.getFullYear();console.log("\uD83D\uDD0D [ANTICIPO-RESTRICTIONS] Validando fecha:",{colombiaDate:e.toISOString(),day:a,month:r+1,year:t});let o=new Date(t,r,0).getDate(),s=a>=o||a<=5,i=a>=15&&a<=20;if(console.log("\uD83D\uDD0D [ANTICIPO-RESTRICTIONS] Validaciones:",{lastDayOfPrevMonth:o,isInFirstRestriction:s,isInSecondRestriction:i}),s||i){let a=new Date(e);s?a.setDate(6):i&&a.setDate(21);let r=s?`No se pueden solicitar anticipos del ${o} al 5 de cada mes`:"No se pueden solicitar anticipos del 15 al 20 de cada mes";return console.log("\uD83D\uDEAB [ANTICIPO-RESTRICTIONS] Solicitud bloqueada:",{reason:r,nextAvailable:a.toISOString()}),{allowed:!1,reason:r,nextAvailable:a}}return console.log("✅ [ANTICIPO-RESTRICTIONS] Solicitud permitida"),{allowed:!0}};var c=r(71145),b=r(52399);function m(){let[e,a]=(0,i.useState)(null),[o,m]=(0,i.useState)(!0),[u,x]=(0,i.useState)(!1),[g,p]=(0,i.useState)(null),[h,j]=(0,i.useState)(!1),[y,f]=(0,i.useState)({monto_solicitado:0,medio_pago:"nequi"}),[v,k]=(0,i.useState)({copModelo:0,anticipoDisponible:0,anticiposPagados:0}),[N,w]=(0,i.useState)(""),[D,_]=(0,i.useState)(""),[C,S]=(0,i.useState)(""),[I,O]=(0,i.useState)(null),P=(0,l.useRouter)(),A=r(72829).O;(0,i.useEffect)(()=>{E()},[]),(0,i.useEffect)(()=>{let e=n();O(e),console.log("\uD83D\uDD0D [SOLICITAR ANTICIPO] Restricci\xf3n temporal:",e)},[]);let E=async()=>{try{m(!0);let{data:e}=await A.auth.getUser();if(!e?.user){P.push("/login");return}let{data:r}=await A.from("users").select("id, name, email, role").eq("id",e.user.id).single();if(!r||"modelo"!==r.role){P.push("/login");return}a(r),await T(r.id)}catch(e){console.error("Error loading user:",e),p("Error al cargar datos del usuario")}finally{m(!1)}},T=async e=>{try{console.log("\uD83D\uDD0D [SOLICITAR ANTICIPO] Iniciando carga de datos de productividad para userId:",e);let a=(0,d.iR)();console.log("\uD83D\uDD0D [SOLICITAR ANTICIPO] Periodo:",a),console.log("\uD83D\uDD0D [SOLICITAR ANTICIPO] Obteniendo valores reales de Mi Calculadora...");let r=await fetch(`/api/calculator/mi-calculadora-real?modelId=${e}&periodDate=${a}&t=${Date.now()}`),t=await r.json();console.log("\uD83D\uDD0D [SOLICITAR ANTICIPO] Mi Calculadora real response:",t),t.success?(console.log("✅ [SOLICITAR ANTICIPO] Valores reales de Mi Calculadora obtenidos correctamente:",{copModelo:t.data.copModelo,anticipoDisponible:t.data.anticipoDisponible,anticiposPagados:t.data.anticiposPagados}),console.log("\uD83D\uDD04 [SOLICITAR ANTICIPO] Estableciendo datos de productividad:",{copModelo:t.data.copModelo,anticipoDisponible:t.data.anticipoDisponible,anticiposPagados:t.data.anticiposPagados}),k({copModelo:t.data.copModelo,anticipoDisponible:t.data.anticipoDisponible,anticiposPagados:t.data.anticiposPagados})):(console.error("❌ [SOLICITAR ANTICIPO] Error al obtener valores reales de Mi Calculadora:",t.error),k({copModelo:0,anticipoDisponible:0,anticiposPagados:0}))}catch(e){console.error("Error loading productivity data:",e),p("Error al cargar datos de productividad")}},L=(e,a)=>{f(r=>({...r,[e]:a}))},M=()=>0===v.anticipoDisponible?0:y.monto_solicitado/v.anticipoDisponible*100,q=e=>e.toLocaleString("es-CO"),R=e=>parseFloat(e.replace(/\./g,"").replace(/,/g,"."))||0,B=e=>e<=0?"El monto debe ser mayor a 0":e%1e4!=0?"El monto debe ser m\xfaltiplo de 10.000 COP":e>v.anticipoDisponible?`El monto no puede superar $${q(v.anticipoDisponible)} COP`:"",$=e=>{let a=R(e);f(e=>({...e,monto_solicitado:a})),_(e.replace(/[^0-9.,]/g,"")),w(B(a))},U=e=>1e4*Math.floor(e/1e4),z=e=>{let a=e.replace(/\D/g,"");return 0===a.length?"":10!==a.length?"El n\xfamero de tel\xe9fono debe tener exactamente 10 d\xedgitos":a.startsWith("3")?"":"El n\xfamero debe empezar con 3 (celular colombiano)"},F=e=>{let a=e.replace(/\D/g,"").slice(0,10);f(e=>({...e,numero_telefono:a})),S(z(a))},G=async a=>{if(a.preventDefault(),!e)return;let r=B(y.monto_solicitado);if(r){p(r);return}if("nequi"===y.medio_pago||"daviplata"===y.medio_pago){if(!y.nombre_beneficiario||!y.numero_telefono){p("Nombre y n\xfamero son requeridos para NEQUI/DAVIPLATA");return}let e=z(y.numero_telefono);if(e){p(e);return}}if("cuenta_bancaria"===y.medio_pago&&(!y.nombre_titular||!y.banco||!y.tipo_cuenta||!y.numero_cuenta||!y.documento_titular)){p("Todos los campos bancarios son requeridos");return}try{x(!0),p(null);let a=(0,d.iR)(),r=M(),t=await fetch("/api/anticipos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_id:e.id,period_date:a,monto_solicitado:y.monto_solicitado,porcentaje_solicitado:r,monto_disponible:v.anticipoDisponible,medio_pago:y.medio_pago,nombre_beneficiario:y.nombre_beneficiario,numero_telefono:y.numero_telefono,nombre_titular:y.nombre_titular,banco:y.banco,banco_otro:y.banco_otro,tipo_cuenta:y.tipo_cuenta,numero_cuenta:y.numero_cuenta,documento_titular:y.documento_titular})}),o=await t.json();o.success?(j(!0),setTimeout(()=>{P.push("/model/anticipos/solicitudes")},2e3)):p(o.error||"Error al enviar solicitud")}catch(e){console.error("Error submitting anticipo:",e),p("Error al enviar solicitud")}finally{x(!1)}};return I&&!I.allowed?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto text-center p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Solicitud No Disponible"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:I.reason}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[t.jsx("strong",{children:"Pr\xf3xima fecha disponible:"}),t.jsx("br",{}),I.nextAvailable?.toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})})]}),t.jsx("button",{onClick:()=>P.back(),className:"px-4 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600",children:"Regresar"})]})}):o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando..."})]})}):e?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[t.jsx(s(),{id:"a4a669272e0e9e7b",children:".bank-select.jsx-a4a669272e0e9e7b{max-height:120px!important;overflow-y:auto!important}.bank-select.jsx-a4a669272e0e9e7b::-webkit-scrollbar{width:6px}.bank-select.jsx-a4a669272e0e9e7b::-webkit-scrollbar-track{background:#f1f5f9;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.bank-select.jsx-a4a669272e0e9e7b::-webkit-scrollbar-thumb{background:#cbd5e1;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.bank-select.jsx-a4a669272e0e9e7b::-webkit-scrollbar-thumb:hover{background:#94a3b8}"}),t.jsx("div",{className:"jsx-a4a669272e0e9e7b mb-12",children:(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b relative",children:[t.jsx("div",{className:"jsx-a4a669272e0e9e7b absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b relative bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b flex items-center space-x-3",children:[t.jsx("div",{className:"jsx-a4a669272e0e9e7b w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-md",children:t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-a4a669272e0e9e7b w-5 h-5 text-white",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1",className:"jsx-a4a669272e0e9e7b"})})}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("h1",{className:"jsx-a4a669272e0e9e7b text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Solicitar Anticipo"}),t.jsx("p",{className:"jsx-a4a669272e0e9e7b text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Solicita un anticipo de hasta el 90% de tu productividad"})]})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b text-sm text-gray-500 dark:text-gray-400",children:["Acceso: ",t.jsx("span",{className:"jsx-a4a669272e0e9e7b font-medium text-blue-600 dark:text-blue-400",children:"Modelo"})]})]}),t.jsx("div",{className:"jsx-a4a669272e0e9e7b mt-4 p-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/50 rounded-lg",children:(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b flex items-center",children:[t.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-a4a669272e0e9e7b w-5 h-5 text-blue-600 dark:text-blue-400 mr-2",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z",className:"jsx-a4a669272e0e9e7b"})}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("p",{className:"jsx-a4a669272e0e9e7b text-sm font-medium text-blue-800 dark:text-blue-300",children:"Pol\xedtica de fechas activa"}),t.jsx("p",{className:"jsx-a4a669272e0e9e7b text-xs text-blue-700 dark:text-blue-400",children:"No disponible del fin de mes al 5 y del 15 al 20"})]})]})})]})]})}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b bg-white dark:bg-gray-700/80 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-600/20 p-6 mb-6 hover:shadow-md transition-all duration-300 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,t.jsxs)("h2",{className:"jsx-a4a669272e0e9e7b text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[t.jsx("span",{className:"jsx-a4a669272e0e9e7b w-2 h-2 bg-green-500 rounded-full mr-2"}),"Resumen de Productividad"]}),t.jsx(b.F,{cards:[{value:`$${v.copModelo.toLocaleString("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0})}`,label:"COP Modelo",color:"blue"},{value:`$${v.anticipoDisponible.toLocaleString("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0})}`,label:"Anticipo Disponible",color:"green",onClick:()=>{let e=U(v.anticipoDisponible);f(a=>({...a,monto_solicitado:e})),_(q(e)),w(B(e))},clickable:!0},{value:`$${v.anticiposPagados.toLocaleString("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0})}`,label:"Ya Pagados",color:"orange"}],columns:3})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b bg-white dark:bg-gray-700/80 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-600/20 p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[t.jsx("h2",{className:"jsx-a4a669272e0e9e7b text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6",children:"Datos del Anticipo"}),h&&(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b flex items-center",children:[t.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-a4a669272e0e9e7b w-5 h-5 text-green-600 dark:text-green-400 mr-2",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd",className:"jsx-a4a669272e0e9e7b"})}),t.jsx("span",{className:"jsx-a4a669272e0e9e7b text-green-800 dark:text-green-300 font-medium",children:"\xa1Solicitud enviada correctamente!"})]}),t.jsx("p",{className:"jsx-a4a669272e0e9e7b text-green-700 dark:text-green-400 text-sm mt-1",children:'Ser\xe1s redirigido a "Mis Solicitudes" en unos segundos...'})]}),g&&(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b flex items-center",children:[t.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-a4a669272e0e9e7b w-5 h-5 text-red-600 dark:text-red-400 mr-2",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd",className:"jsx-a4a669272e0e9e7b"})}),t.jsx("span",{className:"jsx-a4a669272e0e9e7b text-red-800 dark:text-red-300 font-medium",children:"Error"})]}),t.jsx("p",{className:"jsx-a4a669272e0e9e7b text-red-700 dark:text-red-400 text-sm mt-1",children:g})]}),(0,t.jsxs)("form",{onSubmit:G,className:"jsx-a4a669272e0e9e7b space-y-8",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:"Monto Solicitado (COP)"}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b relative",children:[t.jsx("input",{type:"text",value:D,onChange:e=>$(e.target.value),onBlur:()=>{let e=U(y.monto_solicitado||0);f(a=>({...a,monto_solicitado:e})),_(q(e)),w(B(e))},placeholder:"",style:{paddingLeft:"2rem"},className:`jsx-a4a669272e0e9e7b apple-input w-full pr-20 ${N&&y.monto_solicitado>0?"border-red-500 focus:ring-red-500":""}`}),t.jsx("div",{className:"jsx-a4a669272e0e9e7b absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 font-medium select-none pointer-events-none",children:"$"}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b absolute right-3 top-1/2 transform -translate-y-1/2 text-sm font-medium text-blue-600",children:[M().toFixed(1),"%"]})]}),N&&y.monto_solicitado>0&&t.jsx("p",{className:"jsx-a4a669272e0e9e7b text-red-500 text-xs mt-1",children:N}),(0,t.jsxs)("p",{className:"jsx-a4a669272e0e9e7b text-xs text-gray-500 dark:text-gray-400 mt-2",children:["M\xe1ximo disponible: $",U(v.anticipoDisponible).toLocaleString("es-CO")," COP (m\xfaltiplos de 10.000)"]})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:"Medio de Pago"}),t.jsx("div",{className:"jsx-a4a669272e0e9e7b space-y-3",children:["nequi","daviplata","cuenta_bancaria"].map(e=>(0,t.jsxs)("label",{className:"jsx-a4a669272e0e9e7b flex items-center p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[t.jsx("input",{type:"radio",name:"medio_pago",value:e,checked:y.medio_pago===e,onChange:e=>L("medio_pago",e.target.value),className:"jsx-a4a669272e0e9e7b mr-3 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"jsx-a4a669272e0e9e7b text-sm font-medium text-gray-700 dark:text-gray-200",children:"cuenta_bancaria"===e?"CUENTA BANCARIA":e.toUpperCase()})]},e))})]})]}),("nequi"===y.medio_pago||"daviplata"===y.medio_pago)&&(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b bg-blue-50 dark:bg-blue-50/90 rounded-xl p-6 border border-blue-200 dark:border-blue-200/50 shadow-sm",children:[(0,t.jsxs)("h3",{className:"jsx-a4a669272e0e9e7b text-lg font-semibold text-blue-900 dark:text-blue-600 mb-4",children:["Datos de ",y.medio_pago.toUpperCase()]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:"Nombre del Beneficiario"}),t.jsx("input",{type:"text",value:y.nombre_beneficiario||"",onChange:e=>L("nombre_beneficiario",e.target.value),placeholder:"Nombre completo",required:!0,className:"jsx-a4a669272e0e9e7b w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[(0,t.jsxs)("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:["N\xfamero de ",y.medio_pago.toUpperCase()]}),t.jsx("input",{type:"tel",value:y.numero_telefono||"",onChange:e=>F(e.target.value),placeholder:"N\xfamero de tel\xe9fono (10 d\xedgitos)",maxLength:10,required:!0,className:`jsx-a4a669272e0e9e7b w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200 ${C?"border-red-500 focus:ring-red-500":""}`}),C&&t.jsx("p",{className:"jsx-a4a669272e0e9e7b text-red-500 text-xs mt-1",children:C})]})]})]}),"cuenta_bancaria"===y.medio_pago&&(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b bg-green-50 dark:bg-green-50/90 rounded-xl p-6 border border-green-200 dark:border-green-200/50 shadow-sm",children:[t.jsx("h3",{className:"jsx-a4a669272e0e9e7b text-lg font-semibold text-green-900 dark:text-green-600 mb-6",children:"Datos de CUENTA BANCARIA"}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:"Nombre del Titular"}),t.jsx("input",{type:"text",value:y.nombre_titular||"",onChange:e=>L("nombre_titular",e.target.value),placeholder:"Nombre completo del titular",required:!0,className:"jsx-a4a669272e0e9e7b w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:"Banco"}),t.jsx(c.Z,{options:["Bancolombia","Banco de Bogot\xe1","BBVA Colombia","Davivienda","Colpatria","Banco Popular","Banco AV Villas","Banco Caja Social","Banco Falabella","Banco Santander","Banco de Occidente","Otros"].map(e=>({value:e,label:e})),value:y.banco||"",onChange:e=>L("banco",e),placeholder:"Selecciona un banco",maxHeight:"max-h-32",className:"text-sm"})]})]}),"Otros"===y.banco&&(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b mb-6",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:"Nombre del Banco"}),t.jsx("input",{type:"text",value:y.banco_otro||"",onChange:e=>L("banco_otro",e.target.value),placeholder:"Escribe el nombre del banco",required:!0,className:"jsx-a4a669272e0e9e7b w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200"})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:"Tipo de Cuenta"}),t.jsx(c.Z,{options:["Ahorros","Corriente"].map(e=>({value:e.toLowerCase(),label:e})),value:y.tipo_cuenta||"",onChange:e=>L("tipo_cuenta",e),placeholder:"Selecciona tipo de cuenta",className:"text-sm"})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:"N\xfamero de Cuenta"}),t.jsx("input",{type:"text",value:y.numero_cuenta||"",onChange:e=>L("numero_cuenta",e.target.value),placeholder:"N\xfamero de cuenta",required:!0,className:"jsx-a4a669272e0e9e7b w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200"})]})]}),(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b",children:[t.jsx("label",{className:"jsx-a4a669272e0e9e7b block text-sm font-medium text-gray-700 dark:text-gray-800 mb-3",children:"Documento del Titular"}),t.jsx("input",{type:"text",value:y.documento_titular||"",onChange:e=>L("documento_titular",e.target.value),placeholder:"C\xe9dula o documento de identidad",required:!0,className:"jsx-a4a669272e0e9e7b w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200"})]})]}),t.jsx("div",{className:"jsx-a4a669272e0e9e7b flex justify-center pt-8 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"jsx-a4a669272e0e9e7b flex gap-4",children:[t.jsx("button",{type:"button",onClick:()=>P.back(),className:"jsx-a4a669272e0e9e7b px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:u||v.anticipoDisponible<=0||!(!(B(y.monto_solicitado)||y.monto_solicitado<=0||("nequi"===y.medio_pago||"daviplata"===y.medio_pago)&&(!y.nombre_beneficiario?.trim()||!y.numero_telefono?.trim()||z(y.numero_telefono)))&&("cuenta_bancaria"!==y.medio_pago||y.nombre_titular?.trim()&&y.banco?.trim()&&y.tipo_cuenta?.trim()&&y.numero_cuenta?.trim()&&y.documento_titular?.trim()&&("Otros"!==y.banco||y.banco_otro?.trim()))),className:"jsx-a4a669272e0e9e7b px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md",children:u?"Enviando...":"Enviar Solicitud"})]})})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Acceso Denegado"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No tienes permisos para acceder a esta p\xe1gina."})]})})}},71145:(e,a,r)=>{"use strict";r.d(a,{Z:()=>i});var t=r(95344),o=r(3729);let s={green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800"};function i({options:e,value:a,onChange:r,placeholder:i="Selecciona una opci\xf3n",className:l="",disabled:d=!1,maxHeight:n="max-h-60",autoOpen:c=!1}){let[b,m]=(0,o.useState)(!1),u=(0,o.useRef)(null);(0,o.useEffect)(()=>{c&&e.length>1?m(!0):c||m(!1)},[c,e.length]),(0,o.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&m(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,o.useEffect)(()=>{b&&u.current&&setTimeout(()=>{u.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[b]);let x=e.find(e=>e.value===a),g=e=>{r(e),m(!1)};return(0,t.jsxs)("div",{className:`relative ${l}`,ref:u,children:[t.jsx("button",{type:"button",className:`w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200 ${d?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!d&&m(!b),disabled:d,"aria-haspopup":"listbox","aria-expanded":b,children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{className:x?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400",children:x?x.label:i}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[x?.badge&&t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s[x.badgeColor||"gray"]}`,children:x.badge}),t.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${b?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),b&&t.jsx("div",{className:`absolute z-[99998] w-full mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-lg dark:shadow-cyan-900/10 dark:ring-0.5 dark:ring-cyan-500/15 ${n} overflow-auto apple-scroll`,children:0===e.length?t.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:"No hay opciones disponibles"}):e.map((e,r)=>(0,t.jsxs)("div",{children:[r>0&&t.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-600/50 dark:shadow-sm dark:shadow-blue-900/10"}),(0,t.jsxs)("div",{className:`px-4 py-3 text-sm cursor-pointer transition-colors duration-150 flex items-center justify-between ${e.disabled?"text-gray-400 dark:text-gray-500 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"} ${e.value===a?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100":""}`,onClick:()=>!e.disabled&&g(e.value),children:[t.jsx("span",{children:e.label}),e.badge&&t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s[e.badgeColor||"gray"]}`,children:e.badge})]})]},e.value))})]})}},15807:(e,a,r)=>{"use strict";r.d(a,{dB:()=>t,iR:()=>o});let t=()=>(console.warn("⚠️ getCalculatorDate() is deprecated. Use getColombiaDate() instead."),o()),o=()=>new Date().toLocaleDateString("en-CA",{timeZone:"America/Bogota"})},93290:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>s,__esModule:()=>o,default:()=>i});let t=(0,r(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\model\anticipos\solicitar\page.tsx`),{__esModule:o,$$typeof:s}=t,i=t.default}};var a=require("../../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[1638,6611,6654,551,9609,1110,9625],()=>r(87269));module.exports=t})();
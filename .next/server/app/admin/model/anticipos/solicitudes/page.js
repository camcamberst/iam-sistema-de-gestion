(()=>{var e={};e.id=3257,e.ids=[3257],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},44282:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>n});var a=t(50482),s=t(69108),i=t(62563),o=t.n(i),d=t(68300),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(r,l);let n=["",{children:["admin",{children:["model",{children:["anticipos",{children:["solicitudes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,94419)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\anticipos\\solicitudes\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\anticipos\\solicitudes\\page.tsx"],m="/admin/model/anticipos/solicitudes/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/model/anticipos/solicitudes/page",pathname:"/admin/model/anticipos/solicitudes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},36473:(e,r,t)=>{Promise.resolve().then(t.bind(t,59470))},59470:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(95344),s=t(3729),i=t(36654),o=t(71145);function d(){let[e,r]=(0,s.useState)(null),[t,d]=(0,s.useState)([]),[l,n]=(0,s.useState)(!0),[c,m]=(0,s.useState)(""),[x,u]=(0,s.useState)("todos");(0,s.useEffect)(()=>{(async()=>{try{n(!0);let e=(0,i.createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c"),{data:t}=await e.auth.getUser(),a=t?.user?.id;if(!a){r(null),n(!1);return}let{data:s}=await e.from("users").select("id,name,email,role").eq("id",a).single(),o={id:s?.id||a,name:s?.name||t.user?.email?.split("@")[0]||"Usuario",email:s?.email||t.user?.email||"",role:s?.role||"modelo"};r(o);let{data:l,error:c}=await e.from("anticipos").select("*").eq("model_id",o.id).order("created_at",{ascending:!1});c?(console.error("Error cargando anticipos:",c),m("Error al cargar las solicitudes")):d(l||[])}catch(e){console.error("Error loading user:",e),m("Error al cargar los datos del usuario")}finally{n(!1)}})()},[]);let g=e=>{switch(e){case"pendiente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"aprobado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"rechazado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"realizado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},p=e=>{switch(e){case"pendiente":return"Pendiente";case"aprobado":return"Aprobado";case"rechazado":return"Rechazado";case"realizado":return"Realizado";case"cancelado":return"Cancelado";default:return e}},h=e=>{switch(e){case"nequi":return"Nequi";case"daviplata":return"Daviplata";case"cuenta_bancaria":return"Cuenta Bancaria";default:return e}},b="todos"===x?t:t.filter(e=>e.estado===x);return l?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando solicitudes..."})]})}):c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Error"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:c})]})}):e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,a.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[a.jsx("div",{className:"mb-8 sm:mb-12",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),a.jsx("div",{className:"relative bg-white/80 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:a.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[a.jsx("h1",{className:"text-base sm:text-lg md:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent leading-tight whitespace-nowrap overflow-hidden text-ellipsis",children:"Mis Solicitudes"}),a.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:block",children:"Revisa el estado de tus solicitudes de anticipo"})]})]}),a.jsx("button",{onClick:()=>window.location.href="/admin/model/anticipos/solicitar",className:"w-full md:w-auto px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 active:scale-95 transition-all duration-200 text-sm sm:text-base font-medium shadow-md hover:shadow-lg touch-manipulation",children:"Nueva Solicitud"})]})})]})}),a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsx("div",{className:"bg-white dark:bg-gray-700/80 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600/20 p-3 sm:p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Filtrar por estado:"}),a.jsx("div",{className:"flex-1 sm:flex-initial",children:a.jsx(o.Z,{options:[{value:"todos",label:"Todos"},{value:"pendiente",label:"Pendientes"},{value:"aprobado",label:"Aprobados"},{value:"rechazado",label:"Rechazados"},{value:"realizado",label:"Realizados"},{value:"cancelado",label:"Cancelados"}],value:x,onChange:u,placeholder:"Seleccionar estado"})})]})})}),a.jsx("div",{className:"bg-white dark:bg-gray-700/80 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600/20 overflow-hidden",children:0===b.length?(0,a.jsxs)("div",{className:"p-6 sm:p-8 text-center",children:[a.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:a.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No hay solicitudes"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-4",children:"todos"===x?"No tienes solicitudes de anticipo registradas.":`No tienes solicitudes con estado "${p(x)}".`}),a.jsx("button",{onClick:()=>window.location.href="/admin/model/anticipos/solicitar",className:"w-full sm:w-auto px-4 sm:px-5 py-2.5 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 active:scale-95 transition-all duration-200 text-sm sm:text-base font-medium shadow-md hover:shadow-lg touch-manipulation",children:"Crear Primera Solicitud"})]}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:b.map(e=>a.jsx("div",{className:"p-4 sm:p-6 hover:bg-gray-50 dark:hover:bg-gray-600/20 transition-colors",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[a.jsx("span",{className:`inline-flex items-center justify-center px-2.5 py-1 rounded-full text-xs font-medium w-fit ${g(e.estado)}`,children:p(e.estado)}),a.jsx("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-600/20 rounded-lg p-3 sm:p-4",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Monto Solicitado"}),(0,a.jsxs)("p",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:["$",e.monto_solicitado.toLocaleString("es-CO")," COP"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-600/20 rounded-lg p-3 sm:p-4",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Porcentaje"}),(0,a.jsxs)("p",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:[e.porcentaje_solicitado,"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-600/20 rounded-lg p-3 sm:p-4",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Medio de Pago"}),a.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:h(e.medio_pago)})]})]}),(e.comentarios_admin||e.comentarios_rechazo)&&a.jsx("div",{className:"mt-2 sm:mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:[a.jsx("strong",{className:"font-semibold",children:"Comentarios:"})," ",e.comentarios_admin||e.comentarios_rechazo]})})]})},e.id))})})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Acceso Denegado"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No tienes permisos para acceder a esta p\xe1gina."})]})})}},71145:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(95344),s=t(3729);let i={green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800"};function o({options:e,value:r,onChange:t,placeholder:o="Selecciona una opci\xf3n",className:d="",disabled:l=!1,maxHeight:n="max-h-60",autoOpen:c=!1}){let[m,x]=(0,s.useState)(!1),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{c&&e.length>1?x(!0):c||x(!1)},[c,e.length]),(0,s.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&x(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,s.useEffect)(()=>{m&&u.current&&setTimeout(()=>{u.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[m]);let g=e.find(e=>e.value===r),p=e=>{t(e),x(!1)};return(0,a.jsxs)("div",{className:`relative ${d}`,ref:u,children:[a.jsx("button",{type:"button",className:`w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200 ${l?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!l&&x(!m),disabled:l,"aria-haspopup":"listbox","aria-expanded":m,children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{className:g?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400",children:g?g.label:o}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[g?.badge&&a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i[g.badgeColor||"gray"]}`,children:g.badge}),a.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),m&&a.jsx("div",{className:`absolute z-[99998] w-full mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-lg dark:shadow-cyan-900/10 dark:ring-0.5 dark:ring-cyan-500/15 ${n} overflow-auto apple-scroll`,children:0===e.length?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:"No hay opciones disponibles"}):e.map((e,t)=>(0,a.jsxs)("div",{children:[t>0&&a.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-600/50 dark:shadow-sm dark:shadow-blue-900/10"}),(0,a.jsxs)("div",{className:`px-4 py-3 text-sm cursor-pointer transition-colors duration-150 flex items-center justify-between ${e.disabled?"text-gray-400 dark:text-gray-500 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"} ${e.value===r?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100":""}`,onClick:()=>!e.disabled&&p(e.value),children:[a.jsx("span",{children:e.label}),e.badge&&a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i[e.badgeColor||"gray"]}`,children:e.badge})]})]},e.value))})]})}},97075:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(3729);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),o=e=>{let r=i(e);return r.charAt(0).toUpperCase()+r.slice(1)},d=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),l=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:c,...m},x)=>(0,a.createElement)("svg",{ref:x,...n,width:r,height:r,stroke:e,strokeWidth:s?24*Number(t)/Number(r):t,className:d("lucide",i),...!o&&!l(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(o)?o:[o]])),m=(e,r)=>{let t=(0,a.forwardRef)(({className:t,...i},l)=>(0,a.createElement)(c,{ref:l,iconNode:r,className:d(`lucide-${s(o(e))}`,`lucide-${e}`,t),...i}));return t.displayName=o(e),t}},25545:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(97075).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},94419:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>s,default:()=>o});let a=(0,t(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\model\anticipos\solicitudes\page.tsx`),{__esModule:s,$$typeof:i}=a,o=a.default}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6611,6654,1586,1582,1110],()=>t(44282));module.exports=a})();
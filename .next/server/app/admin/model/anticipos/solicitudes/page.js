(()=>{var e={};e.id=3257,e.ids=[3257],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},44282:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>d.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var t=a(50482),s=a(69108),i=a(62563),d=a.n(i),o=a(68300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(r,n);let l=["",{children:["admin",{children:["model",{children:["anticipos",{children:["solicitudes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,94419)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\anticipos\\solicitudes\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\model\\anticipos\\solicitudes\\page.tsx"],u="/admin/model/anticipos/solicitudes/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/model/anticipos/solicitudes/page",pathname:"/admin/model/anticipos/solicitudes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},36473:(e,r,a)=>{Promise.resolve().then(a.bind(a,59470))},59470:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o});var t=a(95344),s=a(3729),i=a(36654),d=a(71145);function o(){let[e,r]=(0,s.useState)(null),[a,o]=(0,s.useState)([]),[n,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(""),[x,m]=(0,s.useState)("todos");(0,s.useEffect)(()=>{(async()=>{try{l(!0);let e=(0,i.createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c"),{data:a}=await e.auth.getUser(),t=a?.user?.id;if(!t){r(null),l(!1);return}let{data:s}=await e.from("users").select("id,name,email,role").eq("id",t).single(),d={id:s?.id||t,name:s?.name||a.user?.email?.split("@")[0]||"Usuario",email:s?.email||a.user?.email||"",role:s?.role||"modelo"};r(d);let{data:n,error:c}=await e.from("anticipos").select("*").eq("model_id",d.id).order("created_at",{ascending:!1});c?(console.error("Error cargando anticipos:",c),u("Error al cargar las solicitudes")):o(n||[])}catch(e){console.error("Error loading user:",e),u("Error al cargar los datos del usuario")}finally{l(!1)}})()},[]);let g=e=>{switch(e){case"pendiente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"aprobado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"rechazado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"realizado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},p=e=>{switch(e){case"pendiente":return"Pendiente";case"aprobado":return"Aprobado";case"rechazado":return"Rechazado";case"realizado":return"Realizado";case"cancelado":return"Cancelado";default:return e}},b=e=>{switch(e){case"nequi":return"Nequi";case"daviplata":return"Daviplata";case"cuenta_bancaria":return"Cuenta Bancaria";default:return e}},h="todos"===x?a:a.filter(e=>e.estado===x);return n?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando solicitudes..."})]})}):c?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Error"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:c})]})}):e?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[t.jsx("div",{className:"mb-12",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),t.jsx("div",{className:"relative bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Mis Solicitudes de Anticipo"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Revisa el estado de tus solicitudes de anticipo"})]}),t.jsx("div",{className:"flex space-x-3",children:t.jsx("button",{onClick:()=>window.location.href="/admin/model/anticipos/solicitar",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 text-sm font-medium shadow-md",children:"Nueva Solicitud"})})]})})]})}),t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"bg-white dark:bg-gray-700/80 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600/20 p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filtrar por estado:"}),t.jsx(d.Z,{options:[{value:"todos",label:"Todos"},{value:"pendiente",label:"Pendientes"},{value:"aprobado",label:"Aprobados"},{value:"rechazado",label:"Rechazados"},{value:"realizado",label:"Realizados"},{value:"cancelado",label:"Cancelados"}],value:x,onChange:m,placeholder:"Seleccionar estado"})]})})}),t.jsx("div",{className:"bg-white dark:bg-gray-700/80 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600/20 overflow-hidden",children:0===h.length?(0,t.jsxs)("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:t.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No hay solicitudes"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"todos"===x?"No tienes solicitudes de anticipo registradas.":`No tienes solicitudes con estado "${p(x)}".`}),t.jsx("button",{onClick:()=>window.location.href="/admin/model/anticipos/solicitar",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 text-sm font-medium shadow-md",children:"Crear Primera Solicitud"})]}):t.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:h.map(e=>t.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-600/20 transition-colors",children:t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(e.estado)}`,children:p(e.estado)}),t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Monto Solicitado"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["$",e.monto_solicitado.toLocaleString("es-CO")," COP"]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Porcentaje"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[e.porcentaje_solicitado,"%"]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Medio de Pago"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:b(e.medio_pago)})]})]}),(e.comentarios_admin||e.comentarios_rechazo)&&t.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-600/20 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[t.jsx("strong",{children:"Comentarios:"})," ",e.comentarios_admin||e.comentarios_rechazo]})})]})})},e.id))})})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Acceso Denegado"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No tienes permisos para acceder a esta p\xe1gina."})]})})}},71145:(e,r,a)=>{"use strict";a.d(r,{Z:()=>d});var t=a(95344),s=a(3729);let i={green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800"};function d({options:e,value:r,onChange:a,placeholder:d="Selecciona una opci\xf3n",className:o="",disabled:n=!1,maxHeight:l="max-h-60",autoOpen:c=!1}){let[u,x]=(0,s.useState)(!1),m=(0,s.useRef)(null);(0,s.useEffect)(()=>{c&&e.length>1?x(!0):c||x(!1)},[c,e.length]),(0,s.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&x(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,s.useEffect)(()=>{u&&m.current&&setTimeout(()=>{m.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[u]);let g=e.find(e=>e.value===r),p=e=>{a(e),x(!1)};return(0,t.jsxs)("div",{className:`relative ${o}`,ref:m,children:[t.jsx("button",{type:"button",className:`w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200 ${n?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!n&&x(!u),disabled:n,"aria-haspopup":"listbox","aria-expanded":u,children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{className:g?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400",children:g?g.label:d}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[g?.badge&&t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i[g.badgeColor||"gray"]}`,children:g.badge}),t.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),u&&t.jsx("div",{className:`absolute z-[99998] w-full mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-lg dark:shadow-cyan-900/10 dark:ring-0.5 dark:ring-cyan-500/15 ${l} overflow-auto apple-scroll`,children:0===e.length?t.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:"No hay opciones disponibles"}):e.map((e,a)=>(0,t.jsxs)("div",{children:[a>0&&t.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-600/50 dark:shadow-sm dark:shadow-blue-900/10"}),(0,t.jsxs)("div",{className:`px-4 py-3 text-sm cursor-pointer transition-colors duration-150 flex items-center justify-between ${e.disabled?"text-gray-400 dark:text-gray-500 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"} ${e.value===r?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100":""}`,onClick:()=>!e.disabled&&p(e.value),children:[t.jsx("span",{children:e.label}),e.badge&&t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${i[e.badgeColor||"gray"]}`,children:e.badge})]})]},e.value))})]})}},94419:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>i,__esModule:()=>s,default:()=>d});let t=(0,a(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\model\anticipos\solicitudes\page.tsx`),{__esModule:s,$$typeof:i}=t,d=t.default}};var r=require("../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[1638,6611,5558,5094,9609,1110],()=>a(44282));module.exports=t})();
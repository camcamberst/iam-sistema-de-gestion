(()=>{var e={};e.id=2824,e.ids=[2824],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},81758:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(50482),a=t(69108),i=t(62563),l=t.n(i),n=t(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["admin",{children:["cleanup-all-data",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,73009)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\cleanup-all-data\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\cleanup-all-data\\page.tsx"],m="/admin/cleanup-all-data/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/cleanup-all-data/page",pathname:"/admin/cleanup-all-data",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4787:(e,s,t)=>{Promise.resolve().then(t.bind(t,53387))},53387:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(95344),a=t(3729);function i(){let[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)(null),[l,n]=(0,a.useState)(null),o=async()=>{try{s(!0),n(null),i(null);let e=await fetch("/api/cleanup-all-model-data",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();t.success?i(t):n(t.error||"Error desconocido")}catch(e){n(e.message||"Error de conexi\xf3n")}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-red-50 to-orange-50 pt-24",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83E\uDDF9 Limpieza Completa de Datos de Modelos"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Esta herramienta elimina COMPLETAMENTE todos los datos de TODAS las modelos, excepto una espec\xedfica, dej\xe1ndolas listas para configuraci\xf3n inicial como si fueran modelos nuevas."}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"⚠️ \xbfQu\xe9 hace esta limpieza completa?"}),(0,r.jsxs)("ul",{className:"text-red-800 space-y-1 text-sm",children:[(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"Elimina TODOS los portafolios"})," de las modelos objetivo"]}),(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"Elimina TODAS las configuraciones de calculadora"})," existentes"]}),(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"Deja las cuentas completamente limpias"})," como modelos nuevas"]}),(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"Permite configuraci\xf3n inicial completa"})," desde cero"]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83C\uDFAF Modelos Objetivo"}),(0,r.jsxs)("ul",{className:"text-blue-800 space-y-1 text-sm",children:[(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"TODAS las modelos"})," con rol 'modelo'"]}),(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"EXCEPTO"})," la modelo con ID: fe54995d-1828-4721-8153-53fce6f4fe56"]})]})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"⚠️ Importante"}),(0,r.jsxs)("p",{className:"text-yellow-800 text-sm",children:["Esta acci\xf3n es ",r.jsx("strong",{children:"IRREVERSIBLE"}),". Se eliminar\xe1n TODOS los datos de calculadora y portafolio de estas modelos. Tendr\xe1n que configurar todo desde cero como si fueran modelos nuevas."]})]}),r.jsx("button",{onClick:o,disabled:e,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:e?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),r.jsx("span",{children:"Limpiando..."})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{children:"\uD83E\uDDF9"}),r.jsx("span",{children:"Ejecutar Limpieza Completa"})]})}),l&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"❌ Error"}),r.jsx("p",{className:"text-red-800 text-sm",children:l})]}),t&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ Limpieza Completa Realizada"}),r.jsx("p",{className:"text-green-800 text-sm mb-4",children:t.message}),t.results&&t.results.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-green-900",children:"Modelos limpiadas:"}),r.jsx("div",{className:"space-y-1",children:t.results.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("span",{className:"text-green-600",children:"✅"}),(0,r.jsxs)("span",{className:"text-green-800",children:[e.email,": ",e.status]})]},s))})]}),r.jsx("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:r.jsx("p",{className:"text-green-800 text-sm font-medium",children:"\uD83C\uDF89 Las modelos est\xe1n ahora listas para configuraci\xf3n inicial completa"})})]})]})]})})})})}},97075:(e,s,t)=>{"use strict";t.d(s,{Z:()=>m});var r=t(3729);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),l=e=>{let s=i(e);return s.charAt(0).toUpperCase()+s.slice(1)},n=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim(),o=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...m},u)=>(0,r.createElement)("svg",{ref:u,...d,width:s,height:s,stroke:e,strokeWidth:a?24*Number(t)/Number(s):t,className:n("lucide",i),...!l&&!o(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,s])=>(0,r.createElement)(e,s)),...Array.isArray(l)?l:[l]])),m=(e,s)=>{let t=(0,r.forwardRef)(({className:t,...i},o)=>(0,r.createElement)(c,{ref:o,iconNode:s,className:n(`lucide-${a(l(e))}`,`lucide-${e}`,t),...i}));return t.displayName=l(e),t}},25545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(97075).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},73009:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,t(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\cleanup-all-data\page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1638,6611,6654,1586,1582,1110],()=>t(81758));module.exports=r})();
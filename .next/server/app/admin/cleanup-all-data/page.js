(()=>{var e={};e.id=2824,e.ids=[2824],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},81758:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var t=a(50482),r=a(69108),i=a(62563),n=a.n(i),l=a(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(s,o);let d=["",{children:["admin",{children:["cleanup-all-data",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,73009)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\cleanup-all-data\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\cleanup-all-data\\page.tsx"],m="/admin/cleanup-all-data/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/cleanup-all-data/page",pathname:"/admin/cleanup-all-data",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4787:(e,s,a)=>{Promise.resolve().then(a.bind(a,53387))},53387:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(95344),r=a(3729);function i(){let[e,s]=(0,r.useState)(!1),[a,i]=(0,r.useState)(null),[n,l]=(0,r.useState)(null),o=async()=>{try{s(!0),l(null),i(null);let e=await fetch("/api/cleanup-all-model-data",{method:"POST",headers:{"Content-Type":"application/json"}}),a=await e.json();a.success?i(a):l(a.error||"Error desconocido")}catch(e){l(e.message||"Error de conexi\xf3n")}finally{s(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-red-50 to-orange-50 pt-24",children:t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83E\uDDF9 Limpieza Completa de Datos de Modelos"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Esta herramienta elimina COMPLETAMENTE todos los datos de TODAS las modelos, excepto una espec\xedfica, dej\xe1ndolas listas para configuraci\xf3n inicial como si fueran modelos nuevas."}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"⚠️ \xbfQu\xe9 hace esta limpieza completa?"}),(0,t.jsxs)("ul",{className:"text-red-800 space-y-1 text-sm",children:[(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Elimina TODOS los portafolios"})," de las modelos objetivo"]}),(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Elimina TODAS las configuraciones de calculadora"})," existentes"]}),(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Deja las cuentas completamente limpias"})," como modelos nuevas"]}),(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Permite configuraci\xf3n inicial completa"})," desde cero"]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83C\uDFAF Modelos Objetivo"}),(0,t.jsxs)("ul",{className:"text-blue-800 space-y-1 text-sm",children:[(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"TODAS las modelos"})," con rol 'modelo'"]}),(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"EXCEPTO"})," la modelo con ID: fe54995d-1828-4721-8153-53fce6f4fe56"]})]})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"⚠️ Importante"}),(0,t.jsxs)("p",{className:"text-yellow-800 text-sm",children:["Esta acci\xf3n es ",t.jsx("strong",{children:"IRREVERSIBLE"}),". Se eliminar\xe1n TODOS los datos de calculadora y portafolio de estas modelos. Tendr\xe1n que configurar todo desde cero como si fueran modelos nuevas."]})]}),t.jsx("button",{onClick:o,disabled:e,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"Limpiando..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{children:"\uD83E\uDDF9"}),t.jsx("span",{children:"Ejecutar Limpieza Completa"})]})}),n&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"❌ Error"}),t.jsx("p",{className:"text-red-800 text-sm",children:n})]}),a&&(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ Limpieza Completa Realizada"}),t.jsx("p",{className:"text-green-800 text-sm mb-4",children:a.message}),a.results&&a.results.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-green-900",children:"Modelos limpiadas:"}),t.jsx("div",{className:"space-y-1",children:a.results.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx("span",{className:"text-green-600",children:"✅"}),(0,t.jsxs)("span",{className:"text-green-800",children:[e.email,": ",e.status]})]},s))})]}),t.jsx("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:t.jsx("p",{className:"text-green-800 text-sm font-medium",children:"\uD83C\uDF89 Las modelos est\xe1n ahora listas para configuraci\xf3n inicial completa"})})]})]})]})})})})}},73009:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let t=(0,a(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\cleanup-all-data\page.tsx`),{__esModule:r,$$typeof:i}=t,n=t.default}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[1638,6611,6654,551,9609,1110],()=>a(81758));module.exports=t})();
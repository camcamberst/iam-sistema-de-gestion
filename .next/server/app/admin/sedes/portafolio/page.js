(()=>{var e={};e.id=6249,e.ids=[6249],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},53426:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>n});var t=r(50482),s=r(69108),l=r(62563),o=r.n(l),d=r(68300),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(a,i);let n=["",{children:["admin",{children:["sedes",{children:["portafolio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,24512)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\sedes\\portafolio\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\sedes\\portafolio\\page.tsx"],m="/admin/sedes/portafolio/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/sedes/portafolio/page",pathname:"/admin/sedes/portafolio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},50008:(e,a,r)=>{Promise.resolve().then(r.bind(r,10399))},10399:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>f});var t=r(95344),s=r(3729),l=r(22254),o=r(53148),d=r(25545),i=r(95269),n=r(66262),c=r(97075);let m=(0,c.Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var u=r(67970);let x=(0,c.Z)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),g=(0,c.Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),p=(0,c.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var b=r(91700),h=r(46985),y=r(33265);function f(){let e=(0,l.useRouter)(),a=(0,l.useSearchParams)(),r=(a,r)=>{e.push(`/admin/calculator/view-model?modelId=${a}`)},[c,f]=(0,s.useState)(!0),[v,k]=(0,s.useState)(""),[w,j]=(0,s.useState)(""),[N,_]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[E,P]=(0,s.useState)([]),[C,D]=(0,s.useState)([]),[q,M]=(0,s.useState)([]),[Z,L]=(0,s.useState)([]),[T,O]=(0,s.useState)(""),[$,G]=(0,s.useState)(""),[z,R]=(0,s.useState)(""),[H,U]=(0,s.useState)(""),[B,F]=(0,s.useState)("grid"),[W,I]=(0,s.useState)(!0),[J,V]=(0,s.useState)(null),[X,K]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)("request"),[ee,ea]=(0,s.useState)(""),[er,et]=(0,s.useState)(!1),[es,el]=(0,s.useState)("disponible"),[eo,ed]=(0,s.useState)(0),[ei,en]=(0,s.useState)(""),[ec,em]=(0,s.useState)([]),[eu,ex]=(0,s.useState)("");(0,s.useEffect)(()=>{(()=>{let e=localStorage.getItem("user");if(e){let a=JSON.parse(e);en(a.role||""),em(a.groups?.map(e=>e.id)||[]),ex(a.id||"")}})()},[]),(0,s.useEffect)(()=>{ei&&ec.length>=0&&eg()},[ei,ec]),(0,s.useEffect)(()=>{let r=a.get("model"),t=a.get("email");if(r&&t&&!c){console.log("\uD83D\uDD0D Aplicando filtro autom\xe1tico por modelo:",{modelId:r,modelEmail:t}),ey(r);let a=new URL(window.location.href);a.searchParams.delete("model"),a.searchParams.delete("email"),e.replace(a.pathname+a.search,{scroll:!1})}},[a,e,c]),(0,s.useEffect)(()=>{c||($||T||z||H?ep():_([]))},[T,$,z,H]);let eg=async()=>{try{f(!0);let e=await fetch("/api/groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userRole:ei,userGroups:ec})});if(e.ok){let a=await e.json();if(a.success){let e=a.groups.filter(e=>"Otros"!==e.name&&"Sat\xe9lites"!==e.name);P(e)}}let a=await fetch("/api/plataformas-catalogo");if(a.ok){let e=await a.json();M(Array.isArray(e)?e:[])}let r=await fetch("/api/users?role=modelo");if(r.ok){let e=await r.json(),a=(Array.isArray(e)?e:Array.isArray(e?.users)?e.users:[]).filter(e=>"modelo"===e.role);L(a.map(e=>e.id))}}catch(e){console.error("Error loading initial data:",e),k("Error al cargar los datos iniciales")}finally{f(!1)}},ep=async()=>{try{$&&await eb($);let e=new URLSearchParams;T&&e.append("model_id",T),$&&e.append("group_id",$),z&&e.append("jornada",z),H&&e.append("platform_id",H);let a=await fetch(`/api/modelo-plataformas?${e.toString()}`);if(a.ok){let e=await a.json(),r=Array.isArray(e)?e.filter(e=>e.model_name&&!e.model_name.includes("Administrator")&&!e.model_name.includes("Super Administrator")):[];_(r)}else k("Error al cargar las plataformas")}catch(e){console.error("Error loading platforms:",e),k("Error al cargar las plataformas")}},eb=async e=>{try{let a=await fetch(`/api/groups/${e}/models`);if(a.ok){let e=await a.json(),r=Array.isArray(e)?e:Array.isArray(e?.models)?e.models:[];A(r)}}catch(e){console.error("Error loading models:",e)}},eh=e=>{G(e),O(""),A([]),e&&eb(e)},ey=async e=>{console.log("\uD83D\uDD0D Aplicando filtro por modelo:",e);let a=await fetch(`/api/modelo-plataformas?model_id=${e}`);if(a.ok){let e=await a.json(),r=Array.isArray(e)?e:Array.isArray(e?.platforms)?e.platforms:[];if(r.length>0){let e=r[0].group_id;e&&(console.log("\uD83D\uDD0D Encontrado grupo para modelo:",e),G(e),await eb(e))}}O(e)},ef=e=>{switch(e){case"disponible":return"bg-slate-200 text-slate-700 border border-slate-300 hover:bg-slate-300";case"solicitada":return"bg-blue-300 text-blue-800 border border-blue-400 hover:bg-blue-400";case"pendiente":return"bg-yellow-300 text-yellow-800 border border-yellow-400 hover:bg-yellow-400";case"entregada":return"bg-green-300 text-green-800 border border-green-400 hover:bg-green-400";case"desactivada":return"bg-gray-800 text-white border border-gray-800 hover:opacity-90";case"inviable":return"bg-red-300 text-red-800 border border-red-400 hover:bg-red-400";default:return"bg-gray-50 text-gray-600 border border-gray-200"}},ev=(e,a)=>{switch(a&&"desactivada"!==e?"confirmada":e){case"disponible":return t.jsx(o.Z,{className:"w-4 h-4"});case"solicitada":return t.jsx(d.Z,{className:"w-4 h-4"});case"pendiente":return t.jsx(i.Z,{className:"w-4 h-4"});case"entregada":case"confirmada":default:return t.jsx(n.Z,{className:"w-4 h-4"});case"desactivada":return t.jsx(m,{className:"w-4 h-4"});case"inviable":return t.jsx(u.Z,{className:"w-4 h-4"})}},ek=(e,a)=>{switch(a&&"desactivada"!==e?"confirmada":e){case"disponible":return"Disponible";case"solicitada":return"Solicitada";case"pendiente":return"Pendiente";case"entregada":return"Entregada";case"desactivada":return"Desactivada";case"inviable":return"Inviable";default:return"Confirmada"}},ew=(e,a)=>{V(e),Y(a),ea(""),el(e.status||"disponible"),K(!0)},ej=async()=>{if(J&&eu)try{et(!0),k("");let e=await fetch("/api/modelo-plataformas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_id:J.model_id,platform_id:J.platform_id,new_status:es,changed_by:eu,reason:ee||null})});if(e.ok)j(`Plataforma ${ek(es).toLowerCase()} correctamente`),K(!1),await ep();else{let a=await e.json();k(a.error||"Error al procesar la acci\xf3n")}}catch(e){console.error("Error executing action:",e),k("Error al procesar la acci\xf3n")}finally{et(!1)}},eN=Object.values(N.filter(e=>0===Z.length||Z.includes(e.model_id)).reduce((e,a)=>{let r=a.model_id;return e[r]||(e[r]={model_id:a.model_id,model_name:a.model_name,model_email:a.model_email,group_name:a.group_name,group_id:a.group_id,platforms:[]}),e[r].platforms.push(a),e},{}));return c?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Cargando portafolio..."})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:["admin"===ei&&0===E.length&&t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"bg-gradient-to-r from-yellow-50/80 to-orange-50/80 dark:bg-yellow-900/20 dark:border-yellow-700/50 backdrop-blur-sm rounded-xl p-6 border border-yellow-200/30 dark:border-yellow-700/50",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-300",children:"Sin Sedes Asignadas"}),t.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:"No tienes sedes asignadas para ver portafolios. Contacta al Super Admin para que te asigne sedes."})]})]})})}),t.jsx("div",{className:"mb-12",children:t.jsx("div",{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-md",children:t.jsx(x,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Portafolio Modelos"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Gesti\xf3n de plataformas por modelo y sede"})]})]})})}),v&&t.jsx("div",{className:"mb-6 bg-red-50/80 dark:bg-red-900/20 dark:border-red-700/50 backdrop-blur-sm border border-red-200/50 dark:border-red-700/50 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg shadow-sm",children:v}),w&&t.jsx("div",{className:"mb-6 bg-green-50/80 dark:bg-green-900/20 dark:border-green-700/50 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg shadow-sm",children:w}),t.jsx("div",{className:"mb-8 z-50 relative",children:(0,t.jsxs)("div",{className:"bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[t.jsx(g,{className:"w-5 h-5 mr-2"}),"Filtros"]}),t.jsx("button",{onClick:()=>I(!W),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:W?"Ocultar":"Mostrar"})]}),W&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(h.Z,{label:"Grupo",value:$,options:[{label:"Todos los grupos",value:""},...E.map(e=>({label:e.name,value:e.id}))],onChange:e=>eh(e),onFocus:()=>ed(e=>e+1),onBlur:()=>ed(e=>Math.max(0,e-1)),className:"text-sm"}),t.jsx(h.Z,{label:"Modelo",value:T,options:[{label:"Todas las modelos",value:""},...S.map(e=>({label:(0,y.W)(e.email),value:e.id}))],onChange:e=>O(e),onFocus:()=>ed(e=>e+1),onBlur:()=>ed(e=>Math.max(0,e-1)),className:"text-sm"}),t.jsx(h.Z,{label:"Jornada",value:z,options:[{label:"Todas las jornadas",value:""},...["MA\xd1ANA","TARDE","NOCHE"].map(e=>({label:e,value:e}))],onChange:e=>R(e),onFocus:()=>ed(e=>e+1),onBlur:()=>ed(e=>Math.max(0,e-1)),className:"text-sm"}),t.jsx(h.Z,{label:"Plataforma",value:H,options:[{label:"Todas las plataformas",value:""},...q.map(e=>({label:e.name,value:e.id}))],onChange:e=>U(e),onFocus:()=>ed(e=>e+1),onBlur:()=>ed(e=>Math.max(0,e-1)),className:"text-sm"})]})]})}),(0,t.jsxs)("div",{className:`bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 transition-all dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15 ${eo>0?"opacity-30 blur-sm pointer-events-none":"opacity-100"}`,children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Modelos (",eN.length,")"]})}),0===eN.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(p,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aplica un filtro de Grupo, Modelo, Room, Jornada o Plataforma para ver resultados."})]}):t.jsx("div",{className:"space-y-6",children:eN.map(e=>(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl border border-white/30 dark:border-gray-600/30 shadow-lg p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md",children:t.jsx(p,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 cursor-pointer hover:text-blue-700 dark:hover:text-blue-400 transition-colors",onClick:()=>r(e.model_id,e.model_email),title:"Ver calculadora de la modelo",children:(0,y.W)(e.model_email)}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[t.jsx(b.Z,{className:"w-4 h-4 mr-1"}),e.group_name]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(q||[]).map(a=>{let r=e.platforms.find(e=>e.platform_id===a.id)||{id:null,model_id:e.model_id,model_name:e.model_name,model_email:e.model_email,platform_id:a.id,platform_name:a.name,platform_code:a.id,status:"disponible",requested_at:null,delivered_at:null,confirmed_at:null,deactivated_at:null,reverted_at:null,requested_by_name:null,delivered_by_name:null,confirmed_by_name:null,deactivated_by_name:null,reverted_by_name:null,notes:null,revert_reason:null,is_initial_config:!1,calculator_sync:!1,calculator_activated_at:null,group_name:e.group_name,group_id:e.group_id,created_at:null,updated_at:null};return t.jsx("button",{type:"button",className:`px-2.5 py-1 rounded-full text-[11px] leading-5 font-medium transition-colors inline-flex items-center ${ef(r.is_initial_config&&"desactivada"!==r.status?"entregada":r.status)}`,onClick:()=>ew(r,"request"),children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 align-middle",children:[ev(r.status,r.is_initial_config),r.platform_name]})},`${e.model_id}-${a.id}`)})}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 dark:border-gray-600/50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("span",{children:["Total: ",q.length," plataformas"]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx("span",{className:"text-green-600 dark:text-green-400",children:(()=>{let a=e.platforms.filter(e=>{let a=e.is_initial_config&&"desactivada"!==e.status;return"entregada"===e.status||a}).length;return(0,t.jsxs)(t.Fragment,{children:["Entregadas: ",a]})})()}),(0,t.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:["Solicitadas: ",e.platforms.filter(e=>"solicitada"===e.status).length]}),(0,t.jsxs)("span",{className:"text-gray-500 dark:text-gray-500",children:["Disponibles: ",q.length-e.platforms.length]})]})]})})]},e.model_id))})]}),X&&J&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white/90 dark:bg-gray-700/90 backdrop-blur-md rounded-2xl p-6 w-full max-w-md mx-4 shadow-2xl border border-white/20 dark:border-gray-600/20 dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-500/20",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:["request"===Q&&"Solicitar Plataforma","deliver"===Q&&"Entregar Plataforma","deactivate"===Q&&"Desactivar Plataforma","revert"===Q&&"Revertir Plataforma"]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[t.jsx("strong",{children:"Plataforma:"})," ",J.platform_name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[t.jsx("strong",{children:"Modelo:"})," ",(0,y.W)(J.model_email)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.jsx("strong",{children:"Estado actual:"})," ",ek(J.status)]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Estado"}),t.jsx(h.Z,{value:es,onChange:e=>el(e),options:[{label:"Disponible",value:"disponible",color:"#e2e8f0"},{label:"Solicitada",value:"solicitada",color:"#93c5fd"},{label:"Pendiente",value:"pendiente",color:"#fde047"},{label:"Entregada",value:"entregada",color:"#86efac"},{label:"Desactivada",value:"desactivada",color:"#1f2937"},{label:"Inviable",value:"inviable",color:"#fca5a5"}],className:"text-sm"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Notas (opcional)"}),t.jsx("textarea",{value:ee,onChange:e=>ea(e.target.value),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Agregar notas sobre esta acci\xf3n..."})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>K(!1),className:"flex-1 px-3 py-1.5 text-xs font-medium border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",disabled:er,children:"Cancelar"}),t.jsx("button",{onClick:ej,disabled:er,className:"flex-1 px-3 py-1.5 text-xs font-medium bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md disabled:opacity-50",children:er?"Procesando...":"Confirmar"})]})]})})]})})}},46985:(e,a,r)=>{"use strict";r.d(a,{Z:()=>l});var t=r(95344),s=r(3729);function l({label:e,value:a,options:r,placeholder:l="Selecciona",onChange:o,className:d="",onFocus:i,onBlur:n}){let[c,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),g=(0,s.useRef)(null);(0,s.useEffect)(()=>{function e(e){g.current&&!g.current.contains(e.target)&&m(!1)}function a(e){"Escape"===e.key&&m(!1)}return document.addEventListener("mousedown",e),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",a)}},[]),(0,s.useEffect)(()=>{if(u)m(!0);else{let e=setTimeout(()=>{u||m(!1)},150);return()=>clearTimeout(e)}},[u]),(0,s.useEffect)(()=>{c&&g.current&&setTimeout(()=>{g.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[c]);let p=r.find(e=>e.value===a);return(0,t.jsxs)("div",{className:`relative min-w-0 ${d}`,ref:g,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[e&&t.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs font-medium mb-1",children:e}),(0,t.jsxs)("div",{className:"w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-500 rounded-lg bg-white dark:bg-gray-700 dark:shadow-sm dark:shadow-orange-900/10 dark:ring-0.5 dark:ring-orange-500/15 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-400 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200",onFocus:()=>{i?.(),m(!0)},onBlur:()=>{n?.(),setTimeout(()=>{u||m(!1)},100)},children:[t.jsx("span",{className:"truncate",children:p?p.label:""===a?"Todos":l}),t.jsx("svg",{className:`w-5 h-5 text-gray-400 dark:text-gray-500 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&t.jsx("div",{className:"absolute z-[9999] w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-56 overflow-auto apple-scroll",children:r.map((e,r)=>(0,t.jsxs)("div",{children:[r>0&&t.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-600/50 dark:shadow-sm dark:shadow-blue-900/10"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{o(e.value),m(!1)},className:`w-full px-4 py-3 text-sm cursor-pointer transition-colors duration-150 flex items-center justify-between ${a===e.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"}`,children:[t.jsx("span",{children:e.label}),e.color&&t.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 ml-2",style:{backgroundColor:e.color}})]})]},e.value))})]})}},95269:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(97075).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},66262:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(97075).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},67970:(e,a,r)=>{"use strict";r.d(a,{Z:()=>t});let t=(0,r(97075).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},33265:(e,a,r)=>{"use strict";r.d(a,{W:()=>t});let t=e=>e?e.split("@")[0].split(".").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(""):""},24512:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>l,__esModule:()=>s,default:()=>o});let t=(0,r(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\sedes\portafolio\page.tsx`),{__esModule:s,$$typeof:l}=t,o=t.default}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[1638,6611,5558,5094,9609,1110],()=>r(53426));module.exports=t})();
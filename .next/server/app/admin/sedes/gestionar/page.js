(()=>{var e={};e.id=6192,e.ids=[6192],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},16833:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(50482),t=s(69108),o=s(62563),n=s.n(o),l=s(68300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(r,i);let d=["",{children:["admin",{children:["sedes",{children:["gestionar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,37939)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\sedes\\gestionar\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,66294)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,41878)),"C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\camca\\OneDrive\\Documentos\\GitHub\\iam-sistema-de-gestion\\app\\admin\\sedes\\gestionar\\page.tsx"],m="/admin/sedes/gestionar/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/admin/sedes/gestionar/page",pathname:"/admin/sedes/gestionar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},34263:(e,r,s)=>{Promise.resolve().then(s.bind(s,52431))},52431:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(95344),t=s(3729),o=s(22254),n=s(71145),l=s(43995),i=s(33265),d=s(72829);function c(){let[e,r]=(0,t.useState)([]),[s,c]=(0,t.useState)([]),[m,x]=(0,t.useState)(!0),[u,g]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[b,f]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[j,k]=(0,t.useState)(!1),[N,w]=(0,t.useState)(""),[D,E]=(0,t.useState)(""),[C,S]=(0,t.useState)(!1),[R,_]=(0,t.useState)(""),[O,L]=(0,t.useState)([]),[T,M]=(0,t.useState)(""),[A,$]=(0,t.useState)(""),[B,F]=(0,t.useState)([]),[z,W]=(0,t.useState)(null),[H,G]=(0,t.useState)(null),[P,q]=(0,t.useState)(!1),[U,I]=(0,t.useState)(null),[Z,V]=(0,t.useState)([]),[Y,J]=(0,t.useState)(""),[Q,X]=(0,t.useState)(""),[K,ee]=(0,t.useState)(!1),[er,es]=(0,t.useState)(""),[ea,et]=(0,t.useState)([]),[eo,en]=(0,t.useState)(!1),[el,ei]=(0,t.useState)(null),[ed,ec]=(0,t.useState)(null),[em,ex]=(0,t.useState)(!1),[eu,eg]=(0,t.useState)(null),[eh,ep]=(0,t.useState)(!1),[eb,ef]=(0,t.useState)(null),[ey,ev]=(0,t.useState)(!1),[ej,ek]=(0,t.useState)(!1),[eN,ew]=(0,t.useState)(null),[eD,eE]=(0,t.useState)(null),[eC,eS]=(0,t.useState)(""),[eR,e_]=(0,t.useState)(""),[eO,eL]=(0,t.useState)(!0),[eT,eM]=(0,t.useState)(null),eA=(0,o.useRouter)(),e$=(e,r)=>{eA.push(`/admin/sedes/portafolio?model=${e}&email=${encodeURIComponent(r)}`)};(0,t.useEffect)(()=>{window.scrollTo(0,0),eB()},[]),(0,t.useEffect)(()=>{R&&""!==R&&(console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Ejecutando useEffect con:",{userRole:R,userGroups:O}),eH(),eF())},[R,O]);let eB=async()=>{try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Datos del usuario desde localStorage:",{id:r.id,role:r.role,groups:r.groups}),_(r.role||"admin");let s=r.groups?.map(e=>e.id)||[];console.log("\uD83D\uDD0D [GESTIONAR-SEDES] IDs de grupos extra\xeddos:",s),L(s),M(r.id||"")}let{data:{session:r}}=await d.supabase.auth.getSession();if(r){let{data:e}=await d.supabase.from("users").select("affiliate_studio_id").eq("id",r.user.id).single();e&&eM(e.affiliate_studio_id)}}catch(e){console.warn("Error parsing user data from localStorage:",e)}},eF=async()=>{try{if(!R||""===R){console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Saltando carga de sedes - userRole vac\xedo");return}console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Cargando sedes disponibles con:",{userRole:R,userGroups:O});let{data:{session:e}}=await d.supabase.auth.getSession(),r=await fetch("/api/groups",{method:"GET",headers:e?.access_token?{Authorization:`Bearer ${e.access_token}`}:{}}),s=await r.json();if(console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Respuesta de API:",s),!s.success)return;let a=s.groups.filter(e=>"Otros"!==e.name&&"Sat\xe9lites"!==e.name);console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Sedes operativas filtradas:",a),F(a),$(""),f("")}catch(e){console.error("Error cargando sedes disponibles:",e)}},ez=async()=>{try{console.log("\uD83D\uDD04 [FRONTEND] Recargando solo rooms...");let e=await fetch("/api/groups/rooms");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.json();r.success?(c(r.rooms||[]),console.log("‚úÖ [FRONTEND] Rooms actualizados:",r.rooms?.length||0)):console.error("‚ùå [FRONTEND] Error cargando rooms:",r.error)}catch(e){console.error("‚ùå [FRONTEND] Error recargando rooms:",e)}},eW=async e=>{try{let r=B.find(r=>r.id===e);if(!r)return;let s=await fetch("/api/groups/rooms"),a=await s.json();if(a.success){let s=a.rooms.filter(r=>r.group_id===e);W({...r,rooms:s})}let{data:{session:t}}=await d.supabase.auth.getSession(),o=await fetch("/api/users",{headers:t?.access_token?{Authorization:`Bearer ${t.access_token}`}:{}}),n=await o.json();if(n.success){console.log("\uD83D\uDD0D [DEBUG] Buscando admin para sede:",e),console.log("\uD83D\uDD0D [DEBUG] Todos los usuarios:",n.users.length);let r=n.users.filter(e=>"admin"===e.role);console.log("\uD83D\uDD0D [DEBUG] Solo admins:",r.length);let s=r.filter(r=>{let s=r.user_groups||r.groups||[],a=s.some(r=>(r.groups?.id||r.id)===e);return console.log(`üîç [DEBUG] Admin ${r.name}:`,{user_groups:r.user_groups,groups:r.groups,userGroups_processed:s,tieneEstaSede:a,sedeId:e,sedesAsignadas:s.length,estructura:s[0]?Object.keys(s[0]):"sin grupos"}),a});console.log("\uD83D\uDD0D [DEBUG] Admins asignados a esta sede:",s.length);let a=null;s.length>0&&(1===s.length?(a=s[0],console.log("\uD83D\uDD0D [DEBUG] Solo un admin asignado:",a.name)):(a=s.reduce((e,r)=>{let s=e.user_groups?.length||0,a=r.user_groups?.length||0;return console.log(`üîç [DEBUG] Comparando: ${e.name} (${s} sedes) vs ${r.name} (${a} sedes)`),a<s?r:e}),console.log("\uD83D\uDD0D [DEBUG] Admin seleccionado (menos sedes):",a.name,`(${a.user_groups?.length||0} sedes)`))),a?(console.log("‚úÖ [DEBUG] Admin encontrado y asignado:",a.name),G(a)):(console.log("‚ö†Ô∏è [DEBUG] No se encontr\xf3 admin asignado a esta sede"),G(null))}else G(null)}catch(e){console.error("Error cargando informaci\xf3n de la sede:",e)}},eH=async()=>{try{x(!0),g("");let{data:{session:e}}=await d.supabase.auth.getSession(),s=await fetch("/api/groups",{method:"GET",headers:e?.access_token?{Authorization:`Bearer ${e.access_token}`}:{}});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(a.success){let e=(a.groups||[]).filter(e=>"Otros"!==e.name&&"Sat\xe9lites"!==e.name);r(e),e.length>0&&f(e[0].id)}else g("Error cargando sedes: "+(a.error||"Error desconocido"));let t=await fetch("/api/groups/rooms");if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let o=await t.json();o.success?c(o.rooms||[]):g("Error cargando rooms: "+(o.error||"Error desconocido"))}catch(e){console.error("Error cargando datos:",e),g("Error de conexi\xf3n: "+(e instanceof Error?e.message:"Error desconocido"))}finally{x(!1)}},eG=async e=>{if(e.preventDefault(),N.trim()){S(!0);try{let{data:{session:e}}=await d.supabase.auth.getSession(),r={"Content-Type":"application/json"};e?.access_token&&(r.Authorization=`Bearer ${e.access_token}`);let s=await fetch("/api/groups",{method:"POST",headers:r,body:JSON.stringify({name:N.trim()})}),a=await s.json();if(console.log("\uD83D\uDD0D [FRONTEND] Respuesta de creaci\xf3n de grupo:",a),a.success){p("Sede creada exitosamente"),w(""),v(!1),g("");let e=N.trim();if(await eF(),await eH(),await new Promise(e=>setTimeout(e,200)),a.group&&a.group.id)console.log("\uD83D\uDD0D [FRONTEND] Seleccionando nueva sede creada:",a.group.id),$(a.group.id),f(a.group.id),await eW(a.group.id);else{let{data:{session:r}}=await d.supabase.auth.getSession(),s=await fetch("/api/groups",{method:"GET",headers:r?.access_token?{Authorization:`Bearer ${r.access_token}`}:{}}),a=await s.json();if(a.success){let r=a.groups.filter(e=>"Otros"!==e.name&&"Sat\xe9lites"!==e.name).find(r=>r.name===e);r&&(console.log("\uD83D\uDD0D [FRONTEND] Encontrada nueva sede por nombre:",r.id),$(r.id),f(r.id),await eW(r.id))}}}else console.error("‚ùå [FRONTEND] Error creando sede:",a.error),g("Error creando sede: "+(a.error||"Error desconocido"))}catch(e){console.error("‚ùå [FRONTEND] Error en handleCreateGroup:",e),g("Error de conexi\xf3n: "+(e instanceof Error?e.message:"Error desconocido"))}finally{S(!1)}}},eP=async e=>{if(e.preventDefault(),D.trim()&&b){S(!0);try{let e=await fetch("/api/groups/rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_name:D.trim(),group_id:b})}),r=await e.json();r.success?(p("Room creado exitosamente"),E(""),k(!1),await Promise.all([ez(),A?eW(A):Promise.resolve()])):r.error&&r.error.includes("ya existe")?g("Este Room ya existe"):g("Error creando room: "+r.error)}catch(e){console.error("Error:",e),g("Error de conexi\xf3n")}finally{S(!1)}}},eq=async e=>{if(e.preventDefault(),eN&&eC.trim()){S(!0);try{let{data:{session:e}}=await d.supabase.auth.getSession(),r={"Content-Type":"application/json"};e?.access_token&&(r.Authorization=`Bearer ${e.access_token}`);let s=await fetch("/api/groups",{method:"PUT",headers:r,body:JSON.stringify({id:eN.id,name:eC.trim(),description:eR.trim()||null,is_active:eO})}),a=await s.json();a.success?(p("Sede actualizada exitosamente"),ev(!1),ew(null),eS(""),e_(""),g(""),await eF(),await eH(),A===eN.id&&await eW(eN.id)):g("Error actualizando sede: "+(a.error||"Error desconocido"))}catch(e){console.error("‚ùå [FRONTEND] Error en handleEditSede:",e),g("Error actualizando sede: "+(e instanceof Error?e.message:"Error desconocido"))}finally{S(!1)}}},eU=async()=>{if(eD){S(!0);try{let{data:{session:e}}=await d.supabase.auth.getSession(),r={};e?.access_token&&(r.Authorization=`Bearer ${e.access_token}`);let s=await fetch(`/api/groups?id=${eD.id}`,{method:"DELETE",headers:r}),a=await s.json();a.success?(p("Sede eliminada exitosamente"),ek(!1),eE(null),g(""),A===eD.id&&($(""),f(""),W(null),G(null)),await eF(),await eH()):g("Error eliminando sede: "+(a.error||"Error desconocido"))}catch(e){console.error("‚ùå [FRONTEND] Error en handleDeleteSede:",e),g("Error eliminando sede: "+(e instanceof Error?e.message:"Error desconocido"))}finally{S(!1)}}},eI=async e=>{try{console.log("\uD83D\uDD0D [FRONTEND] Haciendo clic en room:",e.room_name),I(e),q(!0),J(""),X(""),console.log("\uD83D\uDD0D [FRONTEND] Cargando asignaciones para room ID:",e.id);let r=await fetch(`/api/room-assignments?roomId=${e.id}`),s=await r.json();console.log("\uD83D\uDD0D [FRONTEND] Respuesta del endpoint:",s),s.success?(V(s.assignments||[]),console.log("\uD83D\uDD0D [FRONTEND] Asignaciones cargadas:",s.assignments?.length||0)):(console.error("‚ùå [FRONTEND] Error cargando asignaciones:",s.error),V([]))}catch(e){console.error("‚ùå [FRONTEND] Error en handleRoomClick:",e),V([])}},eZ=async e=>{if(U){console.log("\uD83D\uDD0D [FRONTEND] Clic en jornada:",e),es(e);try{let e=`?t=${Date.now()}`,r=await fetch(`/api/groups/${U.group_id}/models${e}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),s=await r.json();s.success?(console.log(`‚úÖ [FRONTEND] Modelos cargados para grupo ${U.group_id}:`,s.models?.length||0),et(s.models||[]),ee(!0)):(console.error("‚ùå [FRONTEND] Error en respuesta:",s.error),g("Error cargando modelos: "+s.error))}catch(e){console.error("‚ùå [FRONTEND] Error cargando modelos:",e),g("Error de conexi\xf3n")}}},eV=async e=>{ei(e);try{let r=await fetch(`/api/models/${e.id}/assignments`),s=await r.json();s.success&&s.assignments.length>0?(ec({model:e,existingAssignments:s.assignments,newAssignment:{room_id:U?.id,room_name:U?.room_name,jornada:er}}),en(!0),ee(!1)):await eJ(e,"assign")}catch(e){console.error("‚ùå [FRONTEND] Error verificando asignaciones:",e),g("Error verificando asignaciones")}},eY=async(e,r=0)=>{try{r>0&&(console.log(`‚è≥ [FRONTEND] Esperando ${r}ms para sincronizaci\xf3n...`),await new Promise(e=>setTimeout(e,r))),console.log("\uD83D\uDD0D [FRONTEND] Recargando asignaciones para room ID:",e.id);let s=await fetch(`/api/room-assignments?roomId=${e.id}`),a=await s.json();console.log("\uD83D\uDD0D [FRONTEND] Respuesta del endpoint:",a),console.log("\uD83D\uDD0D [FRONTEND] Asignaciones raw:",a.assignments),a.success?(V(a.assignments||[]),console.log("\uD83D\uDD0D [FRONTEND] Asignaciones recibidas:",a.assignments?.length||0),console.log("\uD83D\uDD0D [FRONTEND] Estado actualizado con:",a.assignments)):(console.error("‚ùå [FRONTEND] Error recargando asignaciones:",a.error),V([]))}catch(e){console.error("‚ùå [FRONTEND] Error en reloadRoomAssignments:",e),V([])}},eJ=async(e,r)=>{try{console.log("\uD83D\uDD0D [FRONTEND] Asignando modelo:",{model_id:e.id,model_name:e.name,room_id:U?.id,room_name:U?.room_name,jornada:er,action:r});let s={action:r,model_id:e.id,room_id:U?.id,jornada:er};if("move"===r&&ed?.existingAssignments?.length>0){let e=ed.existingAssignments[0];s.from_room_id=e.room_id,s.from_jornada=e.jornada}let a=await fetch("/api/room-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await a.json();console.log("\uD83D\uDD0D [FRONTEND] Respuesta de asignaci\xf3n:",t),t.success?(console.log("‚úÖ [FRONTEND] Asignaci\xf3n exitosa, recargando asignaciones..."),X(`Modelo ${"move"===r?"movida":"asignada"} exitosamente`),J(""),U&&(console.log("\uD83D\uDD0D [FRONTEND] Llamando a reloadRoomAssignments..."),await eY(U),console.log("‚úÖ [FRONTEND] reloadRoomAssignments completado")),ee(!1),en(!1),ei(null),ec(null)):(console.error("‚ùå [FRONTEND] Error en asignaci\xf3n:",t.error),J("Error asignando modelo: "+t.error),X(""))}catch(e){console.error("‚ùå [FRONTEND] Error asignando modelo:",e),J("Error de conexi\xf3n"),X("")}},eQ=e=>{ef(e),ep(!0)},eX=async()=>{if(eb&&U){if(eb.isDeleting){console.log("‚ö†Ô∏è [FRONTEND] Eliminaci\xf3n ya en progreso, ignorando...");return}ef({...eb,isDeleting:!0});try{console.log("\uD83D\uDD0D [FRONTEND] Eliminando asignaci\xf3n:",{model_id:eb.model_id,model_name:eb.model_name,room_id:U.id,room_name:U.room_name,jornada:eb.jornada});let e=await fetch("/api/room-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"remove",model_id:eb.model_id,room_id:U.id,jornada:eb.jornada})}),r=await e.json();console.log("\uD83D\uDD0D [FRONTEND] Respuesta de eliminaci\xf3n:",r),r.success?(console.log("‚úÖ [FRONTEND] Eliminaci\xf3n exitosa, recargando asignaciones..."),X(`Modelo eliminada exitosamente de ${eb.jornada}`),J(""),console.log("\uD83D\uDD04 [FRONTEND] Recargando asignaciones para sincronizar UI..."),await eY(U),console.log("‚úÖ [FRONTEND] Sincronizaci\xf3n completada")):(console.error("‚ùå [FRONTEND] Error en eliminaci\xf3n:",r.error),J("Error eliminando modelo: "+r.error),X(""))}catch(e){console.error("‚ùå [FRONTEND] Error eliminando modelo:",e),J("Error de conexi\xf3n"),X("")}finally{ep(!1),ef(null)}}},eK=async()=>{if(console.log("\uD83D\uDD0D [DELETE-ROOM] handleDeleteRoom ejecut\xe1ndose con:",eu),!eu){console.log("‚ùå [DELETE-ROOM] No hay room para eliminar");return}try{S(!0),g(""),p(""),console.log("\uD83D\uDD0D [FRONTEND] Eliminando room:",{room_id:eu.id,room_name:eu.room_name,group_id:eu.group_id});let e=await fetch(`/api/groups/rooms?id=${eu.id}`,{method:"DELETE"});console.log("\uD83D\uDD0D [DELETE-ROOM] Respuesta de API:",e.status);let r=await e.json();console.log("\uD83D\uDD0D [DELETE-ROOM] Resultado:",r),r.success?(p(r.message),g(""),A&&await eW(A),ex(!1),eg(null)):(g(r.error||"Error eliminando room"),p(""))}catch(e){console.error("‚ùå [DELETE-ROOM] Error eliminando room:",e),g("Error de conexi\xf3n eliminando room"),p("")}finally{S(!1)}};return m?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center pt-16",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Cargando datos..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[a.jsx("div",{className:"mb-8 sm:mb-12",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),a.jsx("div",{className:"relative bg-white/80 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:a.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:a.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[a.jsx("h1",{className:"text-base sm:text-lg md:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent leading-tight whitespace-nowrap overflow-hidden text-ellipsis",children:"Gesti\xf3n de Sedes"}),a.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:block",children:"Administra las sedes, rooms y configuraciones del sistema"})]})]})})})]})}),"admin"===R&&0===B.length&&a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-50/80 to-orange-50/80 backdrop-blur-sm rounded-xl p-6 border border-yellow-200/30",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Sin Sedes Asignadas"}),a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"No tienes sedes asignadas para gestionar. Contacta al Super Admin para que te asigne sedes."})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[a.jsx("div",{className:"flex flex-col h-full",children:(0,a.jsxs)("div",{className:"relative flex-1 z-10",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-2xl blur-sm"}),(0,a.jsxs)("div",{className:"relative bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 h-full flex flex-col dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Seleccionar Sede"})]}),a.jsx(n.Z,{options:B.map(e=>({value:e.id,label:e.name})),value:A,onChange:e=>{$(e),f(e),e?eW(e):(W(null),G(null))},placeholder:"Selecciona una sede para gestionar",className:"text-sm"}),0===B.length&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"No hay sedes disponibles para gestionar"})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col space-y-6 h-full",children:[("super_admin"===R||"superadmin_aff"===R)&&(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-2xl blur-sm"}),a.jsx("div",{className:"relative bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 h-full flex flex-col dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Crear Nueva Sede"})]}),a.jsx("button",{onClick:()=>v(!0),className:"w-32 px-4 py-2 text-sm font-medium bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"+ Crear Sede"})]})})]}),A&&(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-2xl blur-sm"}),a.jsx("div",{className:"relative bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 h-full flex flex-col dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Crear Room"})]}),a.jsx("button",{onClick:()=>k(!0),className:"w-32 px-4 py-2 text-sm font-medium bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"+ Crear Room"})]})})]})]})]}),z&&(0,a.jsxs)("div",{className:"relative mb-10",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-xl blur-sm"}),(0,a.jsxs)("div",{className:"relative bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-lg shadow-md border border-white/20 dark:border-gray-600/20 p-4 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:a.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:z.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[z.rooms?.length||0," rooms configurados"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1.5 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"Activa"})]}),("super_admin"===R||"superadmin_aff"===R)&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>{ew(z),eS(z.name),e_(z.description||""),eL(!1!==z.is_active),ev(!0)},className:"px-2 py-1 text-xs font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",title:"Editar sede",children:"Editar"}),a.jsx("button",{onClick:()=>{eE(z),ek(!0)},className:"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors",title:"Eliminar sede",children:"Eliminar"})]})]})]}),H?(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50/80 to-indigo-50/80 dark:from-blue-900/20 dark:to-indigo-900/20 backdrop-blur-sm rounded-lg p-4 mb-4 border border-blue-200/30 dark:border-blue-700/30",children:[a.jsx("div",{className:"mb-3",children:a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Admin Asignado"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:H.name?.charAt(0)||"A"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:H.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:H.email}),(0,a.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:[H.user_groups?.length||0," sede",1!==(H.user_groups?.length||0)?"s":""," asignada",1!==(H.user_groups?.length||0)?"s":""]})]})]})]}):a.jsx("div",{className:"bg-gradient-to-r from-yellow-50/80 to-orange-50/80 dark:from-yellow-900/20 dark:to-orange-900/20 backdrop-blur-sm rounded-xl p-5 mb-6 border border-yellow-200/30 dark:border-yellow-700/30",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"No hay admin asignado a esta sede"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:a.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Rooms Disponibles"})]}),z.rooms&&z.rooms.length>0?a.jsx("div",{className:"flex flex-wrap gap-1.5",children:z.rooms.map(e=>a.jsx("div",{className:"inline-flex items-center",children:(0,a.jsxs)("button",{onClick:()=>eI(e),className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-gradient-to-r from-gray-100 to-slate-100 dark:from-gray-600 dark:to-slate-600 text-gray-800 dark:text-gray-200 hover:from-gray-200 hover:to-slate-200 dark:hover:from-gray-500 dark:hover:to-slate-500 hover:text-gray-900 dark:hover:text-gray-100 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm hover:shadow-md transform hover:-translate-y-0.5 border border-gray-200/50 dark:border-gray-500/50",children:[a.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.room_name]})},e.id))}):(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-50/80 to-slate-50/80 dark:from-gray-600/80 dark:to-slate-600/80 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-200/30 dark:border-gray-500/30",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx("svg",{className:"w-6 h-6 text-gray-400 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"No hay rooms configurados en esta sede"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:'Usa el bot\xf3n "Crear Room" para agregar rooms'})]})]})]})]}),y&&("super_admin"===R||"superadmin_aff"===R)&&(0,a.jsxs)(l.Z,{isOpen:y,onClose:()=>v(!1),title:"Crear Nueva Sede",maxWidthClass:"max-w-lg",paddingClass:"p-7",headerMarginClass:"mb-5",formSpaceYClass:"space-y-5",children:[a.jsx("div",{className:"flex items-center space-x-3 mb-5",children:a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-600 to-slate-700 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),(0,a.jsxs)("form",{onSubmit:eG,className:"space-y-5",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("p",{className:"text-sm text-red-700 font-medium",children:u})]})}),h&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-sm text-green-700 font-medium",children:h})]})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre de la Sede"}),a.jsx("input",{type:"text",value:N,onChange:e=>w(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Ej: Sede Norte",required:!0})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-2 flex-nowrap",children:[a.jsx("button",{type:"button",onClick:()=>{v(!1),w("")},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50 text-sm whitespace-nowrap",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:C,className:"flex-1 bg-gradient-to-r from-gray-700 to-slate-800 text-white py-2 px-4 rounded-xl hover:from-gray-800 hover:to-slate-900 transition-all duration-200 disabled:opacity-50 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm whitespace-nowrap",children:C?"Creando...":"Crear Sede"})]})]})]}),j&&(0,a.jsxs)(l.Z,{isOpen:j,onClose:()=>k(!1),title:"Crear Room",maxWidthClass:"max-w-lg",paddingClass:"p-7",headerMarginClass:"mb-5",formSpaceYClass:"space-y-5",children:[a.jsx("div",{className:"flex items-center space-x-3 mb-5",children:a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),(0,a.jsxs)("form",{onSubmit:eP,className:"space-y-5",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("p",{className:"text-sm text-red-700 font-medium",children:u})]})}),h&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-sm text-green-700 font-medium",children:h})]})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Sede Seleccionada"}),a.jsx("div",{className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:e.find(e=>e.id===b)?.name||"Ninguna sede seleccionada"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre del Room"}),a.jsx("input",{type:"text",value:D,onChange:e=>E(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Ej: ROOM01",required:!0})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-2 flex-nowrap",children:[a.jsx("button",{type:"button",onClick:()=>{k(!1),E(""),f("")},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50 text-sm whitespace-nowrap",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:C||!b,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 px-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm whitespace-nowrap",children:C?"Creando...":"Crear Room"})]})]})]}),P&&U&&(0,a.jsxs)(l.Z,{isOpen:P,onClose:()=>{q(!1),I(null),V([])},title:`Configuraci\xf3n de ${U.room_name}`,maxWidthClass:"max-w-2xl",paddingClass:"p-6",headerMarginClass:"mb-4",formSpaceYClass:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>{eg(U),ex(!0)},className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800/50 transition-colors border border-red-200/60 dark:border-red-700/40",title:"Eliminar room",children:(0,a.jsxs)("span",{className:"inline-flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})})})}),Y&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-800",children:Y})})]})}),Q&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-800",children:Q})})]})}),a.jsx("div",{className:"space-y-4",children:["MA\xd1ANA","TARDE","NOCHE"].map(e=>{let r=Z.filter(r=>r.jornada===e);return(0,a.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 dark:bg-gray-700/50",children:[(0,a.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),e]}),r.length>0?a.jsx("div",{className:"space-y-2",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-600 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-500 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg p-2 -m-2 transition-colors group",onClick:()=>e$(e.model_id,e.model_email),title:"Ver portafolio de la modelo",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:(0,i.W)(e.model_email)||e.model_name||"Modelo no especificada"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.model_email||"Email no disponible"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:"Asignada"}),a.jsx("button",{onClick:()=>eQ(e),className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors group bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-800/50 cursor-pointer",title:"Eliminar modelo de esta jornada",children:a.jsx("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400 group-hover:text-red-700 dark:group-hover:text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id))}):(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-500 transition-colors",onClick:()=>eZ(e),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-500 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"No hay modelos asignadas"}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Haz clic para asignar"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-500 text-gray-600 dark:text-gray-300",children:"Disponible"})})]})]},e)})}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:a.jsx("button",{onClick:()=>{q(!1),I(null),V([])},className:"w-full bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors",children:"Cerrar"})})]}),K&&(0,a.jsxs)(l.Z,{isOpen:K,onClose:()=>{ee(!1),et([]),es("")},title:`Seleccionar Modelo para ${er}`,maxWidthClass:"max-w-md",paddingClass:"p-6",headerMarginClass:"mb-4",formSpaceYClass:"space-y-4",children:[a.jsx("div",{className:"space-y-2",children:ea.map(e=>a.jsx("button",{onClick:()=>eV(e),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.name||"Nombre no disponible"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email||"Email no disponible"})]})]})},e.id))}),0===ea.length&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No hay modelos disponibles"})})]}),eo&&ed&&(0,a.jsxs)(l.Z,{isOpen:eo,onClose:()=>{en(!1),ec(null),ei(null)},title:"Conflicto de Asignaci\xf3n",maxWidthClass:"max-w-md",paddingClass:"p-6",headerMarginClass:"mb-4",formSpaceYClass:"space-y-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:[a.jsx("strong",{children:ed.model.name})," ya est\xe1 asignada en:"]}),a.jsx("div",{className:"space-y-2",children:ed.existingAssignments.map((e,r)=>a.jsx("div",{className:"bg-gray-50 dark:bg-gray-600 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[e.room_name," - ",e.jornada]})]})},r))}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-3",children:"\xbfQu\xe9 deseas hacer?"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>eJ(ed.model,"move"),className:"flex-1 bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"Mover"}),a.jsx("button",{onClick:()=>eJ(ed.model,"assign"),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Doblar"})]}),(0,a.jsxs)("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Mover:"})," Desasigna de ubicaci\xf3n actual y asigna aqu\xed"]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Doblar:"})," Mantiene ubicaci\xf3n actual y asigna tambi\xe9n aqu\xed"]})]})]}),eh&&eb&&(0,a.jsxs)(l.Z,{isOpen:eh,onClose:()=>{ep(!1),ef(null)},title:"Confirmar Eliminaci\xf3n",maxWidthClass:"max-w-md",paddingClass:"p-8",headerMarginClass:"mb-6",formSpaceYClass:"space-y-6",children:[a.jsx("div",{className:"flex items-center space-x-3 mb-6",children:a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["\xbfEst\xe1s seguro de que deseas eliminar a ",a.jsx("strong",{children:eb.model_name})," de la jornada ",a.jsx("strong",{children:eb.jornada}),"?"]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-600 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:eb.model_name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:eb.model_email})]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{ep(!1),ef(null)},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-3 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50",children:"Cancelar"}),a.jsx("button",{onClick:eX,disabled:eb?.isDeleting,className:`flex-1 py-3 px-4 rounded-xl transition-all duration-200 font-medium shadow-lg ${eb?.isDeleting?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-orange-600 text-white hover:from-red-700 hover:to-orange-700 hover:shadow-xl transform hover:-translate-y-0.5"}`,children:eb?.isDeleting?"Eliminando...":"Eliminar"})]})]}),em&&eu&&(0,a.jsxs)(l.Z,{isOpen:em,onClose:()=>{ex(!1),eg(null)},title:"Confirmar Eliminaci\xf3n de Room",maxWidthClass:"max-w-md",paddingClass:"p-8",headerMarginClass:"mb-6",formSpaceYClass:"space-y-6",children:[a.jsx("div",{className:"flex items-center space-x-3 mb-6",children:a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["\xbfEst\xe1s seguro de que deseas eliminar el room ",a.jsx("strong",{children:eu.room_name}),"?"]}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Advertencia"}),a.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Esta acci\xf3n no se puede deshacer. Si el room tiene asignaciones activas, no se podr\xe1 eliminar."})]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{console.log("\uD83D\uDD0D [DELETE-ROOM] Cancelando eliminaci\xf3n"),ex(!1),eg(null)},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:()=>{console.log("\uD83D\uDD0D [DELETE-ROOM] Confirmando eliminaci\xf3n de:",eu),eK()},disabled:C,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Eliminando...":"Eliminar Room"})]})]}),ey&&eN&&a.jsx(l.Z,{isOpen:ey,onClose:()=>{ev(!1),ew(null),eS(""),e_("")},title:"Editar Sede",maxWidthClass:"max-w-md",children:(0,a.jsxs)("form",{onSubmit:eq,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Nombre de la Sede *"}),a.jsx("input",{type:"text",value:eC,onChange:e=>eS(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Nombre de la sede"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Descripci\xf3n"}),a.jsx("textarea",{value:eR,onChange:e=>e_(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Descripci\xf3n de la sede (opcional)"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:eO,onChange:e=>eL(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:"Sede activa"})]})}),u&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:u})}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{ev(!1),ew(null),eS(""),e_(""),g("")},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:C||!eC.trim(),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Guardando...":"Guardar Cambios"})]})]})}),ej&&eD&&a.jsx(l.Z,{isOpen:ej,onClose:()=>{ek(!1),eE(null)},title:"Eliminar Sede",maxWidthClass:"max-w-md",children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:"\xbfEst\xe1s seguro de eliminar esta sede?"}),(0,a.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-400",children:["Esta acci\xf3n no se puede deshacer. La sede ",a.jsx("strong",{children:eD.name})," ser\xe1 eliminada permanentemente."]}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-500 mt-2",children:"‚ö†Ô∏è Si la sede tiene usuarios o rooms asignados, no se podr\xe1 eliminar."})]})]})}),u&&a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:u})}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{ek(!1),eE(null),g("")},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:eU,disabled:C,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Eliminando...":"Eliminar Sede"})]})]})})]})})}},71145:(e,r,s)=>{"use strict";s.d(r,{Z:()=>n});var a=s(95344),t=s(3729);let o={green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800"};function n({options:e,value:r,onChange:s,placeholder:n="Selecciona una opci\xf3n",className:l="",disabled:i=!1,maxHeight:d="max-h-60",autoOpen:c=!1}){let[m,x]=(0,t.useState)(!1),u=(0,t.useRef)(null);(0,t.useEffect)(()=>{c&&e.length>1?x(!0):c||x(!1)},[c,e.length]),(0,t.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{let e=e=>{"Escape"===e.key&&x(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,t.useEffect)(()=>{m&&u.current&&setTimeout(()=>{u.current?.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[m]);let g=e.find(e=>e.value===r),h=e=>{s(e),x(!1)};return(0,a.jsxs)("div",{className:`relative ${l}`,ref:u,children:[a.jsx("button",{type:"button",className:`w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200 ${i?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!i&&x(!m),disabled:i,"aria-haspopup":"listbox","aria-expanded":m,children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{className:g?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400",children:g?g.label:n}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[g?.badge&&a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o[g.badgeColor||"gray"]}`,children:g.badge}),a.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),m&&a.jsx("div",{className:`absolute z-[99998] w-full mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-lg dark:shadow-cyan-900/10 dark:ring-0.5 dark:ring-cyan-500/15 ${d} overflow-auto apple-scroll`,children:0===e.length?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:"No hay opciones disponibles"}):e.map((e,s)=>(0,a.jsxs)("div",{children:[s>0&&a.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-600/50 dark:shadow-sm dark:shadow-blue-900/10"}),(0,a.jsxs)("div",{className:`px-4 py-3 text-sm cursor-pointer transition-colors duration-150 flex items-center justify-between ${e.disabled?"text-gray-400 dark:text-gray-500 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"} ${e.value===r?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100":""}`,onClick:()=>!e.disabled&&h(e.value),children:[a.jsx("span",{children:e.label}),e.badge&&a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o[e.badgeColor||"gray"]}`,children:e.badge})]})]},e.value))})]})}},43995:(e,r,s)=>{"use strict";s.d(r,{Z:()=>n});var a=s(95344),t=s(3729),o=s(81202);function n({isOpen:e,onClose:r,children:s,title:n,maxWidthClass:l="max-w-lg",paddingClass:i="p-7",headerMarginClass:d="mb-5",formSpaceYClass:c="space-y-5",className:m="",showCloseButton:x=!0,closeOnBackdrop:u=!0}){let[g,h]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{if(!e)return;let r=document.body.style.overflow||"";return document.body.style.overflow="hidden",()=>{document.body.style.overflow=r}},[e]),(0,t.useEffect)(()=>{if(!e)return;let s=e=>{"Escape"===e.key&&r()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,r]),(0,t.useEffect)(()=>{h(!0)},[]),!e||!g||"undefined"==typeof document||!document.body)return null;e&&console.log("\uD83D\uDD35 StandardModal: Renderizando modal",{isOpen:e,mounted:g,hasBody:!!document.body});let p=a.jsx("div",{onClick:()=>{u&&r()},"aria-modal":"true",role:"dialog",className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[99999] p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999},children:(0,a.jsxs)("div",{className:`${i} w-full ${l} max-h-[calc(100vh-2rem)] overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-2xl shadow-xl ${m}`,onClick:e=>e.stopPropagation(),style:{position:"relative",display:"block",visibility:"visible",opacity:1},children:[(n||x)&&(0,a.jsxs)("div",{className:`flex items-center justify-between ${d}`,children:[n?a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:n}):a.jsx("div",{}),x&&a.jsx("button",{onClick:r,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Cerrar",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:c,children:s})]})});return(0,o.createPortal)(p,document.body)}},97075:(e,r,s)=>{"use strict";s.d(r,{Z:()=>m});var a=s(3729);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),n=e=>{let r=o(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim(),i=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:t,className:o="",children:n,iconNode:c,...m},x)=>(0,a.createElement)("svg",{ref:x,...d,width:r,height:r,stroke:e,strokeWidth:t?24*Number(s)/Number(r):s,className:l("lucide",o),...!n&&!i(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(n)?n:[n]])),m=(e,r)=>{let s=(0,a.forwardRef)(({className:s,...o},i)=>(0,a.createElement)(c,{ref:i,iconNode:r,className:l(`lucide-${t(n(e))}`,`lucide-${e}`,s),...o}));return s.displayName=n(e),s}},25545:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(97075).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},33265:(e,r,s)=>{"use strict";s.d(r,{W:()=>a});let a=e=>e?e.split("@")[0].split(".").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(""):""},37939:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>o,__esModule:()=>t,default:()=>n});let a=(0,s(86843).createProxy)(String.raw`C:\Users\camca\OneDrive\Documentos\GitHub\iam-sistema-de-gestion\app\admin\sedes\gestionar\page.tsx`),{__esModule:t,$$typeof:o}=a,n=a.default}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[1638,6611,6654,1586,1582,1110],()=>s(16833));module.exports=a})();
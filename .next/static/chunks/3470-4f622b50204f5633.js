(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3470],{4848:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});var r=o(7437),n=o(2265);function a(e){let{label:t,value:o,options:a,placeholder:l="Selecciona",onChange:i,className:s="",onFocus:u,onBlur:c,maxHeightOverride:d}=e,[p,g]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[m,v]=(0,n.useState)(d||"20rem"),b=(0,n.useRef)(null),x=(0,n.useRef)(null),[w,y]=(0,n.useState)(!1),[k,T]=(0,n.useState)(!1),E=(0,n.useRef)(null),P=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e=()=>{y(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{function e(e){var t,o;let r=e.target;(null===(t=b.current)||void 0===t?void 0:t.contains(r))||(null===(o=x.current)||void 0===o?void 0:o.contains(r))||(g(!1),f(!1))}function t(e){"Escape"===e.key&&(g(!1),f(!1))}if(p){let o=setTimeout(()=>{document.addEventListener("click",e,!0),document.addEventListener("keydown",t)},100);return()=>{clearTimeout(o),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",t)}}},[p]);let M=()=>{null==u||u(),g(!0)};(0,n.useEffect)(()=>{p&&b.current&&x.current&&setTimeout(()=>{let e,t;let o=b.current,r=x.current;if(!o||!r)return;let n=o.getBoundingClientRect(),l=o.closest('[class*="max-h-"]')||o.closest('[class*="overflow-y-auto"]')||o.closest('[class*="overflow-auto"]');if(l&&l!==document.body){let t=l.getBoundingClientRect(),o=n.bottom-t.top;n.top,t.top;let r=Array.from(l.querySelectorAll("button")).filter(e=>e.getBoundingClientRect().top>n.bottom);if(r.length>0){let n=r.reduce((e,t)=>{let o=e.getBoundingClientRect();return t.getBoundingClientRect().top<o.top?t:e}),a=n.closest("div.flex")||n.parentElement;e=a?Math.max(0,a.getBoundingClientRect().top-t.top-o-16):t.height-o}else e=t.height-o}else e=window.innerHeight-n.bottom,n.top;if(a.length,t=d?parseFloat(d):Math.min(Math.max(0,e-32-8),320),v("".concat(t,"px")),l&&l!==document.body){let e=l.getBoundingClientRect(),o=n.bottom-e.top+l.scrollTop,r=t+32+8,a=e.height-(o-l.scrollTop);a<r&&l.scrollTo({top:l.scrollTop+(r-a),behavior:"smooth"})}else{let e=t+32+8,o=window.innerHeight-n.bottom;o<e&&window.scrollTo({top:window.scrollY+(e-o),behavior:"smooth"})}},50)},[p,a.length]);let j=a.find(e=>e.value===o);return(0,r.jsxs)("div",{className:"relative min-w-0 ".concat(s),ref:b,onMouseEnter:()=>{f(!0),p||g(!0)},onMouseLeave:e=>{let t=e.relatedTarget;x.current&&x.current.contains(t)||f(!1)},children:[t&&(0,r.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-xs font-medium mb-1",children:t}),(0,r.jsxs)("div",{className:"w-full px-3 py-2.5 text-sm text-left border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200 touch-manipulation",onFocus:M,onBlur:e=>{var t,o;null==c||c();let r=e.relatedTarget;(null===(t=b.current)||void 0===t?void 0:t.contains(r))||(null===(o=x.current)||void 0===o?void 0:o.contains(r))||setTimeout(()=>{h||g(!1)},150)},onMouseDown:e=>{if(w){e.preventDefault(),e.stopPropagation();return}e.stopPropagation()},onTouchStart:e=>{e.stopPropagation(),w&&T(!0)},onTouchEnd:e=>{e.stopPropagation(),w&&!p&&(e.preventDefault(),M(),T(!1))},onClick:e=>{if(w&&!k){e.preventDefault(),e.stopPropagation();return}e.stopPropagation(),w||p||M(),T(!1)},children:[(0,r.jsx)("span",{className:"truncate text-[0.9rem]",children:j?j.label:""===o?"Todos":l}),(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500 transition-transform duration-200 ".concat(p?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&(0,r.jsx)("div",{ref:x,className:"absolute z-[9999] w-full mt-1 top-full rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 shadow-lg dark:shadow-lg dark:shadow-cyan-900/10 dark:ring-0.5 dark:ring-cyan-500/15 overflow-auto apple-scroll",style:{maxHeight:m,minHeight:d?"auto":"144px",paddingTop:"4px",paddingBottom:"4px"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},onTouchStart:e=>{e.stopPropagation()},onTouchEnd:e=>{e.stopPropagation()},onWheel:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation()},children:a.map((e,t)=>(0,r.jsxs)("div",{children:[t>0&&(0,r.jsx)("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-600/50 dark:shadow-sm dark:shadow-blue-900/10"}),(0,r.jsxs)("button",{type:"button",onClick:t=>{if(w&&!k){t.preventDefault(),t.stopPropagation();return}t.stopPropagation(),t.preventDefault(),i(e.value),g(!1),T(!1)},onMouseDown:e=>{if(w){e.preventDefault(),e.stopPropagation();return}e.stopPropagation(),e.preventDefault()},onTouchStart:e=>{e.stopPropagation();let t=e.touches[0];E.current={x:t.clientX,y:t.clientY,time:Date.now()},P.current=!1,T(!0)},onTouchMove:e=>{if(e.stopPropagation(),E.current){let t=e.touches[0],o=Math.abs(t.clientX-E.current.x),r=Math.abs(t.clientY-E.current.y);(o>10||r>10)&&(P.current=!0)}},onTouchEnd:t=>{if(t.stopPropagation(),t.preventDefault(),w&&E.current){let o=t.changedTouches[0],r=Math.abs(o.clientX-E.current.x),n=Math.abs(o.clientY-E.current.y),a=Date.now()-E.current.time;!P.current&&r<10&&n<10&&a<500&&(i(e.value),g(!1)),E.current=null,P.current=!1,T(!1)}},className:"w-full px-4 py-3 text-sm text-left cursor-pointer transition-colors duration-150 flex items-center justify-between touch-manipulation active:scale-[0.98] ".concat(o===e.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 font-medium":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"),children:[(0,r.jsx)("span",{className:"truncate",children:e.label}),e.color&&(0,r.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0 ml-3 ring-1 ring-black/5",style:{backgroundColor:e.color}})]})]},e.value))})]})}},4033:function(e,t,o){e.exports=o(5313)}}]);
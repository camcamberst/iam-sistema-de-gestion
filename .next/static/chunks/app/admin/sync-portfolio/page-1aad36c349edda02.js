(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5242],{5018:function(e,s,r){Promise.resolve().then(r.bind(r,1084))},1084:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return l}});var a=r(7437),n=r(2265);function l(){let[e,s]=(0,n.useState)(!1),[r,l]=(0,n.useState)(null),[t,i]=(0,n.useState)(null),c=async()=>{try{s(!0),i(null),l(null);let e=await fetch("/api/sync-existing-portfolio",{method:"POST",headers:{"Content-Type":"application/json"}}),r=await e.json();r.success?l(r):i(r.error||"Error desconocido")}catch(e){i(e.message||"Error de conexi\xf3n")}finally{s(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pt-24",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDD04 Sincronizar Portafolio de Modelos"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"Esta herramienta sincroniza autom\xe1ticamente el Portafolio de modelos que ya tienen configuraci\xf3n de calculadora pero no tienen Portafolio creado."}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\xbfQu\xe9 hace esta sincronizaci\xf3n?"}),(0,a.jsxs)("ul",{className:"text-blue-800 space-y-1 text-sm",children:[(0,a.jsx)("li",{children:"• Busca modelos con configuraci\xf3n de calculadora activa"}),(0,a.jsx)("li",{children:"• Verifica cu\xe1les NO tienen Portafolio"}),(0,a.jsx)("li",{children:"• Crea autom\xe1ticamente el Portafolio con las plataformas habilitadas"}),(0,a.jsx)("li",{children:'• Marca las plataformas como "entregada" (verde)'}),(0,a.jsx)("li",{children:"• Marca como configuraci\xf3n inicial"})]})]}),(0,a.jsx)("button",{onClick:c,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Sincronizando..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\uD83D\uDD04"}),(0,a.jsx)("span",{children:"Ejecutar Sincronizaci\xf3n"})]})}),t&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"❌ Error"}),(0,a.jsx)("p",{className:"text-red-800 text-sm",children:t})]}),r&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ Resultado"}),(0,a.jsx)("p",{className:"text-green-800 text-sm mb-4",children:r.message}),r.results&&r.results.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-green-900",children:"Detalles por modelo:"}),(0,a.jsx)("div",{className:"space-y-1",children:r.results.map((e,s)=>(0,a.jsx)("div",{className:"flex items-center space-x-2 text-sm",children:e.success?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-green-600",children:"✅"}),(0,a.jsxs)("span",{className:"text-green-800",children:[e.email,": ",e.platforms," plataformas sincronizadas"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-red-600",children:"❌"}),(0,a.jsxs)("span",{className:"text-red-800",children:[e.email,": ",e.error]})]})},s))})]})]})]})]})})})})}},622:function(e,s,r){"use strict";var a=r(2265),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,s,r){var a,l={},o=null,d=null;for(a in void 0!==r&&(o=""+r),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)t.call(s,a)&&!c.hasOwnProperty(a)&&(l[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===l[a]&&(l[a]=s[a]);return{$$typeof:n,type:e,key:o,ref:d,props:l,_owner:i.current}}s.Fragment=l,s.jsx=o,s.jsxs=o},7437:function(e,s,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[2971,4938,1744],function(){return e(e.s=5018)}),_N_E=e.O()}]);
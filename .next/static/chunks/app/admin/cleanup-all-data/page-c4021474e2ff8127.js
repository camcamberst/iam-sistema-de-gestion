(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2824],{1060:function(e,s,r){Promise.resolve().then(r.bind(r,8026))},8026:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return n}});var l=r(7437),a=r(2265);function n(){let[e,s]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),[t,o]=(0,a.useState)(null),i=async()=>{try{s(!0),o(null),n(null);let e=await fetch("/api/cleanup-all-model-data",{method:"POST",headers:{"Content-Type":"application/json"}}),r=await e.json();r.success?n(r):o(r.error||"Error desconocido")}catch(e){o(e.message||"Error de conexi\xf3n")}finally{s(!1)}};return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-red-50 to-orange-50 pt-24",children:(0,l.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,l.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83E\uDDF9 Limpieza Completa de Datos de Modelos"}),(0,l.jsx)("p",{className:"text-gray-600 mb-8",children:"Esta herramienta elimina COMPLETAMENTE todos los datos de TODAS las modelos, excepto una espec\xedfica, dej\xe1ndolas listas para configuraci\xf3n inicial como si fueran modelos nuevas."}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"⚠️ \xbfQu\xe9 hace esta limpieza completa?"}),(0,l.jsxs)("ul",{className:"text-red-800 space-y-1 text-sm",children:[(0,l.jsxs)("li",{children:["• ",(0,l.jsx)("strong",{children:"Elimina TODOS los portafolios"})," de las modelos objetivo"]}),(0,l.jsxs)("li",{children:["• ",(0,l.jsx)("strong",{children:"Elimina TODAS las configuraciones de calculadora"})," existentes"]}),(0,l.jsxs)("li",{children:["• ",(0,l.jsx)("strong",{children:"Deja las cuentas completamente limpias"})," como modelos nuevas"]}),(0,l.jsxs)("li",{children:["• ",(0,l.jsx)("strong",{children:"Permite configuraci\xf3n inicial completa"})," desde cero"]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83C\uDFAF Modelos Objetivo"}),(0,l.jsxs)("ul",{className:"text-blue-800 space-y-1 text-sm",children:[(0,l.jsxs)("li",{children:["• ",(0,l.jsx)("strong",{children:"TODAS las modelos"})," con rol 'modelo'"]}),(0,l.jsxs)("li",{children:["• ",(0,l.jsx)("strong",{children:"EXCEPTO"})," la modelo con ID: fe54995d-1828-4721-8153-53fce6f4fe56"]})]})]}),(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2",children:"⚠️ Importante"}),(0,l.jsxs)("p",{className:"text-yellow-800 text-sm",children:["Esta acci\xf3n es ",(0,l.jsx)("strong",{children:"IRREVERSIBLE"}),". Se eliminar\xe1n TODOS los datos de calculadora y portafolio de estas modelos. Tendr\xe1n que configurar todo desde cero como si fueran modelos nuevas."]})]}),(0,l.jsx)("button",{onClick:i,disabled:e,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,l.jsx)("span",{children:"Limpiando..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"\uD83E\uDDF9"}),(0,l.jsx)("span",{children:"Ejecutar Limpieza Completa"})]})}),t&&(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"❌ Error"}),(0,l.jsx)("p",{className:"text-red-800 text-sm",children:t})]}),r&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ Limpieza Completa Realizada"}),(0,l.jsx)("p",{className:"text-green-800 text-sm mb-4",children:r.message}),r.results&&r.results.length>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"font-medium text-green-900",children:"Modelos limpiadas:"}),(0,l.jsx)("div",{className:"space-y-1",children:r.results.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,l.jsx)("span",{className:"text-green-600",children:"✅"}),(0,l.jsxs)("span",{className:"text-green-800",children:[e.email,": ",e.status]})]},s))})]}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:(0,l.jsx)("p",{className:"text-green-800 text-sm font-medium",children:"\uD83C\uDF89 Las modelos est\xe1n ahora listas para configuraci\xf3n inicial completa"})})]})]})]})})})})}},622:function(e,s,r){"use strict";var l=r(2265),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,s,r){var l,n={},d=null,c=null;for(l in void 0!==r&&(d=""+r),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(c=s.ref),s)t.call(s,l)&&!i.hasOwnProperty(l)&&(n[l]=s[l]);if(e&&e.defaultProps)for(l in s=e.defaultProps)void 0===n[l]&&(n[l]=s[l]);return{$$typeof:a,type:e,key:d,ref:c,props:n,_owner:o.current}}s.Fragment=n,s.jsx=d,s.jsxs=d},7437:function(e,s,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[2971,4938,1744],function(){return e(e.s=1060)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3797],{5531:function(e,r,t){"use strict";t.d(r,{Z:function(){return x}});var a=t(2265);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),l=e=>{let r=d(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),n=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:d="",children:l,iconNode:c,...x},m)=>(0,a.createElement)("svg",{ref:m,...o,width:r,height:r,stroke:e,strokeWidth:s?24*Number(t)/Number(r):t,className:i("lucide",d),...!l&&!n(x)&&{"aria-hidden":"true"},...x},[...c.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(l)?l:[l]])),x=(e,r)=>{let t=(0,a.forwardRef)(({className:t,...d},n)=>(0,a.createElement)(c,{ref:n,iconNode:r,className:i(`lucide-${s(l(e))}`,`lucide-${e}`,t),...d}));return t.displayName=l(e),t}},8253:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},6840:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},8063:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4530:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6141:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},8759:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},4280:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6654:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},5790:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(5531).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2601:function(e,r,t){"use strict";var a,s;e.exports=(null==(a=t.g.process)?void 0:a.env)&&"object"==typeof(null==(s=t.g.process)?void 0:s.env)?t.g.process:t(8960)},2279:function(e,r,t){Promise.resolve().then(t.bind(t,9678))},9678:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var a=t(7437),s=t(2265),d=t(5790),l=t(5531);let i=(0,l.Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),n=(0,l.Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var o=t(4280),c=t(6840),x=t(6654),m=t(8759);let h=(0,l.Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function g(e){let{modelId:r}=e,[t,l]=(0,s.useState)(null),[g,u]=(0,s.useState)(!1),[b,y]=(0,s.useState)(""),p=async()=>{try{u(!0),y("");let e=await fetch("/api/modelo-portafolio/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelId:r,analysisType:"comprehensive"})}),t=await e.json();t.success?l(t.data):y(t.error||"Error al cargar an\xe1lisis")}catch(e){y(e.message||"Error al cargar an\xe1lisis")}finally{u(!1)}};(0,s.useEffect)(()=>{r&&p()},[r]);let f=e=>{switch(e){case"up":return(0,a.jsx)(d.Z,{className:"w-4 h-4 text-green-500"});case"down":return(0,a.jsx)(i,{className:"w-4 h-4 text-red-500"});default:return(0,a.jsx)(n,{className:"w-4 h-4 text-gray-500"})}},v=e=>{switch(e){case"up":return"text-green-600 bg-green-50 border-green-200";case"down":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return g?(0,a.jsx)("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):b?(0,a.jsx)("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-500 mb-2",children:"Error al cargar an\xe1lisis"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:b}),(0,a.jsxs)("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2 mx-auto",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Reintentar"})]})]})}):t?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("span",{children:"Resumen de Rendimiento"})]}),(0,a.jsx)("button",{onClick:p,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-white/60 rounded-lg transition-all duration-200",title:"Actualizar an\xe1lisis",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.totalPeriods}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Per\xedodos Quincenales"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",t.summary.totalEarnings.toFixed(2)]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total USD"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",t.summary.avgPeriodEarnings.toFixed(2)]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Promedio por Per\xedodo"})]}),(0,a.jsxs)("div",{className:"text-center p-4 rounded-lg ".concat(t.summary.growthRate>0?"bg-green-50":t.summary.growthRate<0?"bg-red-50":"bg-gray-50"),children:[(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(t.summary.growthRate>0?"text-green-600":t.summary.growthRate<0?"text-red-600":"text-gray-600"),children:[t.summary.growthRate>0?"+":"",t.summary.growthRate.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Crecimiento"})]})]})]}),(0,a.jsxs)("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("span",{children:"An\xe1lisis de Rendimiento"})]}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,a.jsx)("div",{className:"whitespace-pre-line text-gray-700 leading-relaxed",children:t.analysis})})]}),t.trends.length>0&&(0,a.jsxs)("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("span",{children:"Tendencias"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.trends.map((e,r)=>(0,a.jsx)("div",{className:"p-4 rounded-lg border ".concat(v(e.trend)),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:e.label}),(0,a.jsx)("div",{className:"text-sm opacity-75",children:e.change})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[f(e.trend),(0,a.jsx)("span",{className:"font-bold",children:e.value})]})]})},r))})]}),(0,a.jsxs)("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-yellow-600"}),(0,a.jsx)("span",{children:"Recomendaciones"})]}),(0,a.jsx)("div",{className:"space-y-3",children:t.recommendations.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-yellow-600 text-sm font-bold",children:r+1})}),(0,a.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:e})]},r))})]}),t.platformStats.length>0&&(0,a.jsxs)("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,a.jsx)(h,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("span",{children:"Rendimiento por Plataforma"})]}),(0,a.jsx)("div",{className:"space-y-4",children:t.platformStats.map((e,r)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.code})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["$",e.avgEarnings.toFixed(2),"/per\xedodo"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.totalPeriods," per\xedodos"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total"}),(0,a.jsxs)("div",{className:"font-semibold text-gray-900",children:["$",e.totalEarnings.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"M\xe1ximo"}),(0,a.jsxs)("div",{className:"font-semibold text-gray-900",children:["$",e.maxEarnings.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"M\xednimo"}),(0,a.jsxs)("div",{className:"font-semibold text-gray-900",children:["$",e.minEarnings.toFixed(2)]})]})]})]},r))})]}),(0,a.jsxs)("div",{className:"text-center text-xs text-gray-500",children:["\xdaltima actualizaci\xf3n: ",new Date(t.lastUpdated).toLocaleString("es-ES")]})]}):null}var u=t(4530),b=t(6141),y=t(8063),p=t(8253);let f=(0,l.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function v(){let[e,r]=(0,s.useState)(null),[d,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)(""),[c,m]=(0,s.useState)(null),[v,j]=(0,s.useState)(null),[k,w]=(0,s.useState)("platforms"),[N,Z]=(0,s.useState)(null),E=t(5922).O;(0,s.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await E.auth.getUser();e?r(e):o("Usuario no autenticado")}catch(e){o("Error al cargar usuario")}})()},[]),(0,s.useEffect)(()=>{(null==e?void 0:e.id)&&M()},[null==e?void 0:e.id]),(0,s.useEffect)(()=>{window.scrollTo(0,0)},[]);let M=async()=>{try{l(!0);let r=await fetch("/api/modelo-portafolio?modelId=".concat(null==e?void 0:e.id)),t=await r.json();t.success?(m(t.data),Z(null)):o(t.error||"Error al cargar el portafolio")}catch(e){o(e.message||"Error al cargar el portafolio")}finally{l(!1)}},S=async r=>{try{j(r);let t=await fetch("/api/modelo-portafolio/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platformId:r,modelId:null==e?void 0:e.id})}),a=await t.json();a.success?await M():o(a.error||"Error al confirmar la plataforma")}catch(e){o(e.message||"Error al confirmar la plataforma")}finally{j(null)}},_=e=>{switch(e){case"disponible":return"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:bg-slate-300 dark:hover:bg-slate-600";case"solicitada":return"bg-blue-300 dark:bg-blue-700 text-blue-800 dark:text-blue-300 border border-blue-400 dark:border-blue-600 hover:bg-blue-400 dark:hover:bg-blue-600";case"pendiente":return"bg-yellow-300 dark:bg-yellow-700 text-yellow-800 dark:text-yellow-300 border border-yellow-400 dark:border-yellow-600 hover:bg-yellow-400 dark:hover:bg-yellow-600";case"entregada":return"bg-green-300 dark:bg-green-700 text-green-800 dark:text-green-300 border border-green-400 dark:border-green-600 hover:bg-green-400 dark:hover:bg-green-600";case"confirmada":return"bg-emerald-300 dark:bg-emerald-700 text-emerald-800 dark:text-emerald-300 border border-emerald-400 dark:border-emerald-600 hover:bg-emerald-400 dark:hover:bg-emerald-600";case"desactivada":return"bg-gray-800 dark:bg-gray-600 text-white dark:text-gray-200 border border-gray-800 dark:border-gray-500 hover:opacity-90";case"inviable":return"bg-red-300 dark:bg-red-700 text-red-800 dark:text-red-300 border border-red-400 dark:border-red-600 hover:bg-red-400 dark:hover:bg-red-600";default:return"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600"}},C=e=>{(null==N?void 0:N.id)===e.id?Z(null):Z(e)};return d?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,a.jsx)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400"})})})}):i?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,a.jsx)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(y.Z,{className:"w-16 h-16 text-red-500 dark:text-red-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:i})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,a.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[(0,a.jsx)("div",{className:"mb-12",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),(0,a.jsx)("div",{className:"relative bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-md",children:(0,a.jsx)(p.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Mi Portafolio"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Gestiona tus plataformas y confirma entregas"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Acceso: ",(0,a.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Modelo"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"\xdaltima actualizaci\xf3n"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(null==c?void 0:c.lastUpdated)?new Date(c.lastUpdated).toLocaleString("es-ES"):"N/A"})]})]})]})})]})}),(0,a.jsxs)("div",{className:"flex space-x-1 mb-8",children:[(0,a.jsx)("button",{onClick:()=>w("platforms"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat("platforms"===k?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-md":"bg-white/70 dark:bg-gray-700/70 text-gray-600 dark:text-gray-300 hover:bg-white/90 dark:hover:bg-gray-600/80"),children:"Mis Plataformas"}),(0,a.jsx)("button",{onClick:()=>w("analytics"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat("analytics"===k?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-md":"bg-white/70 dark:bg-gray-700/70 text-gray-600 dark:text-gray-300 hover:bg-white/90 dark:hover:bg-gray-600/80"),children:"An\xe1lisis y Estad\xedsticas"})]}),"platforms"===k&&(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"relative bg-white/70 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 hover:shadow-xl hover:bg-white/95 dark:hover:bg-gray-600/80 hover:scale-[1.02] transition-all duration-300 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Plataformas"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.summary.totalPlatforms})]}),(0,a.jsx)(p.Z,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})]})}),(0,a.jsx)("div",{className:"relative bg-white/70 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 hover:shadow-xl hover:bg-white/95 dark:hover:bg-gray-600/80 hover:scale-[1.02] transition-all duration-300 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Activas"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c.summary.activePlatforms})]}),(0,a.jsx)(u.Z,{className:"w-8 h-8 text-green-600 dark:text-green-400"})]})}),(0,a.jsx)("div",{className:"relative bg-white/70 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 hover:shadow-xl hover:bg-white/95 dark:hover:bg-gray-600/80 hover:scale-[1.02] transition-all duration-300 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pendientes"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:c.summary.pendingConfirmation})]}),(0,a.jsx)(b.Z,{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400"})]})}),(0,a.jsx)("div",{className:"relative bg-white/70 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 hover:shadow-xl hover:bg-white/95 dark:hover:bg-gray-600/80 hover:scale-[1.02] transition-all duration-300 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Ganancias (30 d\xedas)"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",c.summary.totalCopModelo.toLocaleString("es-CO")," COP"]})]}),(0,a.jsx)(h,{className:"w-8 h-8 text-green-600 dark:text-green-400"})]})})]}),(0,a.jsxs)("div",{className:"relative bg-white/70 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Mis Plataformas"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==c?void 0:c.platforms.length)||0," plataformas"]})]})]}),(null==c?void 0:c.platforms.length)===0?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(p.Z,{className:"w-16 h-16 text-gray-300 dark:text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No tienes plataformas asignadas"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Contacta a tu administrador para asignar plataformas a tu portafolio."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:null==c?void 0:c.platforms.map(e=>(0,a.jsx)("button",{type:"button",className:"px-2.5 py-1 rounded-full text-[11px] leading-5 font-medium transition-colors inline-flex items-center ".concat(_(e.status)," ").concat((null==N?void 0:N.id)===e.id?"ring-2 ring-blue-500 ring-offset-2":""),onClick:()=>C(e),children:e.calculator_platforms.name},e.id))}),(0,a.jsx)("div",{className:"overflow-hidden transition-all duration-500 ease-out transform ".concat(N?"max-h-[400px] opacity-100 translate-y-0 scale-100":"max-h-0 opacity-0 translate-y-0 scale-100"),children:N&&(0,a.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600/20 rounded-lg p-4 bg-white dark:bg-gray-700/80 hover:shadow-lg transition-shadow duration-300 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(e=>{switch(e){case"confirmada":default:return(0,a.jsx)(u.Z,{className:"w-5 h-5 text-green-500"});case"entregada":return(0,a.jsx)(b.Z,{className:"w-5 h-5 text-yellow-500"});case"desactivada":return(0,a.jsx)(y.Z,{className:"w-5 h-5 text-red-500"})}})(N.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:N.calculator_platforms.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[N.calculator_platforms.id," • ",N.calculator_platforms.currency]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"confirmada":default:return"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-700/50 text-green-700 dark:text-green-300";case"entregada":return"bg-yellow-50 dark:bg-yellow-900/30 border-yellow-200 dark:border-yellow-700/50 text-yellow-700 dark:text-yellow-300";case"desactivada":return"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700/50 text-red-700 dark:text-red-300"}})(N.status)),children:(e=>{switch(e){case"confirmada":default:return"Confirmada";case"entregada":return"Pendiente de confirmaci\xf3n";case"desactivada":return"Desactivada"}})(N.status)}),"entregada"===N.status&&(0,a.jsx)("button",{onClick:()=>S(N.platform_id),disabled:v===N.platform_id,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2 text-sm shadow-md",children:v===N.platform_id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Confirmando..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Confirmar Recepci\xf3n"})]})})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-600/80 rounded-lg p-4 mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Estad\xedsticas de Rendimiento"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Promedio Conexi\xf3n"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[N.stats.connectionPercentage,"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Promedio Quincenal"}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["$",N.stats.avgUsdModelo.toFixed(2)," USD"]}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat("↑"===N.stats.trend?"text-green-500 dark:text-green-400":"↓"===N.stats.trend?"text-red-500 dark:text-red-400":"text-gray-400 dark:text-gray-500"),children:N.stats.trend})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total (30 d\xedas)"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["$",N.stats.totalUsdModelo.toFixed(2)," USD"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"\xdaltima Actividad"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:N.stats.lastActivity?new Date(N.stats.lastActivity).toLocaleDateString("es-ES"):"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[N.delivered_at&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Entregada"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(N.delivered_at).toLocaleDateString("es-ES")})]})]}),N.confirmed_at&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Confirmada"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(N.confirmed_at).toLocaleDateString("es-ES")})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.Z,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Plataforma activa"})]})]})]})})]})]})]}),"analytics"===k&&(0,a.jsx)("div",{className:"relative bg-white/70 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,a.jsx)(g,{modelId:null==e?void 0:e.id})})]})})}},5922:function(e,r,t){"use strict";t.d(r,{O:function(){return a}});let a=(0,t(5257).createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c")},8960:function(e){!function(){var r={229:function(e){var r,t,a,s=e.exports={};function d(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function i(e){if(r===setTimeout)return setTimeout(e,0);if((r===d||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:d}catch(e){r=d}try{t="function"==typeof clearTimeout?clearTimeout:l}catch(e){t=l}}();var n=[],o=!1,c=-1;function x(){o&&a&&(o=!1,a.length?n=a.concat(n):c=-1,n.length&&m())}function m(){if(!o){var e=i(x);o=!0;for(var r=n.length;r;){for(a=n,n=[];++c<r;)a&&a[c].run();c=-1,r=n.length}a=null,o=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===l||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(r){try{return t.call(null,e)}catch(r){return t.call(this,e)}}}(e)}}function h(e,r){this.fun=e,this.array=r}function g(){}s.nextTick=function(e){var r=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];n.push(new h(e,r)),1!==n.length||o||i(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var d=t[e]={exports:{}},l=!0;try{r[e](d,d.exports,a),l=!1}finally{l&&delete t[e]}return d.exports}a.ab="//";var s=a(229);e.exports=s}()},622:function(e,r,t){"use strict";var a=t(2265),s=Symbol.for("react.element"),d=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function o(e,r,t){var a,d={},o=null,c=null;for(a in void 0!==t&&(o=""+t),void 0!==r.key&&(o=""+r.key),void 0!==r.ref&&(c=r.ref),r)l.call(r,a)&&!n.hasOwnProperty(a)&&(d[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===d[a]&&(d[a]=r[a]);return{$$typeof:s,type:e,key:o,ref:c,props:d,_owner:i.current}}r.Fragment=d,r.jsx=o,r.jsxs=o},7437:function(e,r,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[5257,2971,4938,1744],function(){return e(e.s=2279)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5260,5922],{5085:function(e,r,a){Promise.resolve().then(a.bind(a,2952))},2952:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var t=a(7437),s=a(2265),o=a(4033),i=a(5922),n=a(5051);function d(){let[e,r]=(0,s.useState)(!0),[a,d]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[m,x]=(0,s.useState)("");(0,o.useRouter)();let[u,p]=(0,s.useState)([]),[h,g]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[y,k]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[w,N]=(0,s.useState)("10.00"),[C,E]=(0,s.useState)(!1),[S,L]=(0,s.useState)(!0),[_,A]=(0,s.useState)(""),[M,F]=(0,s.useState)(""),[z,B]=(0,s.useState)(""),[I,O]=(0,s.useState)(!1),[D,W]=(0,s.useState)(""),[T,q]=(0,s.useState)(""),[P,J]=(0,s.useState)(!1),[Z,H]=(0,s.useState)(""),[R,U]=(0,s.useState)(""),[Y,V]=(0,s.useState)(""),[X,G]=(0,s.useState)(!0),[$,K]=(0,s.useState)(!1),[Q,ee]=(0,s.useState)(!1),[er,ea]=(0,s.useState)(!1),[et,es]=(0,s.useState)(""),[eo,ei]=(0,s.useState)(""),[en,ed]=(0,s.useState)(""),[el,ec]=(0,s.useState)(!0);(0,s.useEffect)(()=>{em()},[]),(0,s.useEffect)(()=>{"super_admin"===m&&eu()},[m]);let em=async()=>{try{r(!0);let{data:e}=await i.supabase.auth.getUser();if(!(null==e?void 0:e.user)){r(!1);return}let{data:a}=await i.supabase.from("users").select("id, name, email, role").eq("id",e.user.id).single();if(a)x(a.role||"");else{let e=localStorage.getItem("user");if(e)try{let r=JSON.parse(e);x(r.role||"")}catch(e){console.error("Error parsing user data from localStorage:",e)}}}catch(e){console.error("Error cargando informaci\xf3n del usuario:",e);try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e);x(r.role||"")}}catch(e){console.error("Error parsing user data from localStorage:",e)}}finally{r(!1)}},ex=async()=>{try{let{data:{session:e},error:r}=await i.supabase.auth.getSession();if(r||!e)return console.error("Error obteniendo sesi\xf3n:",r),null;let a=e.expires_at;if(a){let r=Math.floor(Date.now()/1e3);if(a-r<60){let{data:{session:r},error:a}=await i.supabase.auth.refreshSession();if(a)return console.error("Error refrescando sesi\xf3n:",a),e.access_token;if(r)return r.access_token}}return e.access_token}catch(e){return console.error("Error obteniendo token:",e),null}},eu=async()=>{try{g(!0);let e=await ex();if(!e){d("Error: No se pudo obtener el token de autorizaci\xf3n.");return}let r=await fetch("/api/admin/affiliates",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}),a=await r.json();a.success?p(a.data||[]):d("Error cargando afiliados: "+(a.error||"Error desconocido"))}catch(e){console.error("Error cargando afiliados:",e),d("Error de conexi\xf3n al cargar afiliados")}finally{g(!1)}},ep=async e=>{if(e.preventDefault(),y.trim()){E(!0),d(""),c("");try{let e=await ex();if(!e){d("Error: No se pudo obtener el token de autorizaci\xf3n. Por favor, inicia sesi\xf3n nuevamente.");return}let r={name:y.trim(),description:j.trim()||null,commission_percentage:parseFloat(w)||10};S&&_.trim()&&M.trim()&&z.trim()&&(r.superadmin_email=_.trim(),r.superadmin_name=M.trim(),r.superadmin_password=z);let a=await fetch("/api/admin/affiliates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)}),t=await a.json();t.success?(c(t.message||"Estudio afiliado creado exitosamente"),k(""),v(""),N("10.00"),A(""),F(""),B(""),L(!0),b(!1),await eu(),setTimeout(()=>c(""),3e3)):d("Error creando afiliado: "+(t.error||"Error desconocido"))}catch(e){console.error("Error:",e),d("Error de conexi\xf3n")}finally{E(!1)}}},eh=async e=>{if(e.preventDefault(),!Z.trim()||!R.trim()){d("Email y nombre son requeridos");return}if(!$&&!Y.trim()){d("La contrase\xf1a es requerida para crear un nuevo superadmin AFF");return}J(!0),d(""),c("");try{let e=await ex();if(!e){d("Error: No se pudo obtener el token de autorizaci\xf3n.");return}let r="/api/admin/affiliates/".concat(D,"/superadmin"),a={email:Z.trim(),name:R.trim(),is_active:X};Y.trim()&&(a.password=Y);let t=await fetch(r,{method:$?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)}),s=await t.json();s.success?(c(s.message||($?"Superadmin AFF actualizado exitosamente":"Superadmin AFF creado exitosamente")),O(!1),H(""),U(""),V(""),G(!0),K(!1),await eu(),setTimeout(()=>c(""),3e3)):d("Error: "+(s.error||"Error desconocido"))}catch(e){console.error("Error:",e),d("Error de conexi\xf3n")}finally{J(!1)}},eg=async e=>{if(e.preventDefault(),et.trim()){ea(!0),d(""),c("");try{let e=await ex();if(!e){d("Error: No se pudo obtener el token de autorizaci\xf3n.");return}let r=await fetch("/api/admin/affiliates/".concat(D),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({name:et.trim(),description:eo.trim()||null,commission_percentage:parseFloat(en)||10,is_active:el})}),a=await r.json();a.success?(c(a.message||"Estudio afiliado actualizado exitosamente"),ee(!1),es(""),ei(""),ed(""),ec(!0),await eu(),setTimeout(()=>c(""),3e3)):d("Error: "+(a.error||"Error desconocido"))}catch(e){console.error("Error:",e),d("Error de conexi\xf3n")}finally{ea(!1)}}},ef=async(e,r)=>{if(confirm('\xbfEst\xe1s seguro de que deseas eliminar el estudio afiliado "'.concat(r,'"?\n\nEsta acci\xf3n ').concat(r," ser\xe1 desactivado si tiene usuarios asociados, o eliminado completamente si no tiene usuarios."))){d(""),c("");try{let r=await ex();if(!r){d("Error: No se pudo obtener el token de autorizaci\xf3n.");return}let a=await fetch("/api/admin/affiliates/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}}),t=await a.json();t.success?(c(t.message||"Estudio afiliado eliminado exitosamente"),await eu(),setTimeout(()=>c(""),5e3)):d("Error: "+(t.error||"Error desconocido"))}catch(e){console.error("Error:",e),d("Error de conexi\xf3n")}}},eb=async(e,r)=>{if(confirm('\xbfEst\xe1s seguro de que deseas eliminar el superadmin AFF del estudio "'.concat(r,'"?'))){J(!0),d(""),c("");try{let r=await ex();if(!r){d("Error: No se pudo obtener el token de autorizaci\xf3n.");return}let a=await fetch("/api/admin/affiliates/".concat(e,"/superadmin"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}}),t=await a.json();t.success?(c(t.message||"Superadmin AFF eliminado exitosamente"),await eu(),setTimeout(()=>c(""),3e3)):d("Error: "+(t.error||"Error desconocido"))}catch(e){console.error("Error:",e),d("Error de conexi\xf3n")}finally{J(!1)}}};return e?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando..."})]})}):"super_admin"!==m?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 dark:border-gray-700/20 p-8 max-w-md text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Acceso Denegado"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Solo los super administradores pueden acceder a esta secci\xf3n."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[(0,t.jsx)("div",{className:"mb-8 sm:mb-12",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/10 to-pink-600/10 rounded-xl blur-xl"}),(0,t.jsx)("div",{className:"relative bg-white/80 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-purple-900/15 dark:ring-0.5 dark:ring-purple-400/20",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h1",{className:"text-base sm:text-lg md:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent leading-tight whitespace-nowrap overflow-hidden text-ellipsis",children:"Gesti\xf3n de Afiliados"}),(0,t.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:block",children:"Administra estudios afiliados y sus configuraciones"})]})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("button",{onClick:()=>b(!0),className:"w-full md:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-medium flex items-center justify-center space-x-2 text-sm sm:text-base",children:[(0,t.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,t.jsx)("span",{children:"Crear Nuevo Afiliado"})]})})]})})]})}),a&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("p",{className:"text-sm text-red-700 font-medium",children:a})]})}),l&&(0,t.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-sm text-green-700 font-medium",children:l})]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/5 to-pink-600/5 rounded-xl blur-xl"}),(0,t.jsxs)("div",{className:"relative bg-white/80 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl p-6 sm:p-8 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-purple-900/15 dark:ring-0.5 dark:ring-purple-400/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Estudios Afiliados"}),h&&(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})]}),h?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando afiliados..."})]}):0===u.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md",children:(0,t.jsx)("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No hay afiliados registrados"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Crea tu primer estudio afiliado para comenzar"}),(0,t.jsx)("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-medium text-sm sm:text-base",children:"Crear Nuevo Afiliado"})]}):(0,t.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,t.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-lg p-4 sm:p-6 border border-gray-200/50 dark:border-gray-600/50 hover:border-purple-300 dark:hover:border-purple-600 transition-all duration-200 hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center shadow-md",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Comisi\xf3n:"}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:[e.commission_percentage,"%"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Usuarios:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:e.stats.users})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sedes:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:e.stats.sedes})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Modelos:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:e.stats.models})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"),children:e.is_active?"Activo":"Inactivo"}),(0,t.jsx)("button",{onClick:()=>{W(e.id),q(e.name),es(e.name),ei(e.description||""),ed(e.commission_percentage.toString()),ec(e.is_active),ee(!0)},className:"px-2 py-1 text-xs font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:"Editar"}),(0,t.jsx)("button",{onClick:()=>ef(e.id,e.name),className:"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:"Eliminar"})]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Superadmin AFF Encargado:"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:e.superadmin_aff?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{e.superadmin_aff&&(W(e.id),q(e.name),H(e.superadmin_aff.email),U(e.superadmin_aff.name),G(e.superadmin_aff.is_active),V(""),K(!0),O(!0))},className:"px-2 py-1 text-xs font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:"Editar"}),(0,t.jsx)("button",{onClick:()=>eb(e.id,e.name),className:"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:"Eliminar"})]}):(0,t.jsx)("button",{onClick:()=>{W(e.id),q(e.name),H(""),U(""),V(""),G(!0),K(!1),O(!0)},className:"px-2 py-1 text-xs font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:"Crear"})})]}),e.superadmin_aff?(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-8",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.superadmin_aff.name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",e.superadmin_aff.email,")"]}),!e.superadmin_aff.is_active&&(0,t.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",children:"Inactivo"})]}):(0,t.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 font-medium ml-8",children:"No hay superadmin AFF asignado"})]}),e.created_by_user&&(0,t.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Creado por: ",(0,t.jsx)("span",{className:"font-medium",children:e.created_by_user.name})," â€¢"," ",new Date(e.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})})]},e.id))})]})]}),f&&(0,t.jsxs)(n.Z,{isOpen:f,onClose:()=>{b(!1),k(""),v(""),N("10.00"),A(""),F(""),B(""),L(!0),d(""),c("")},title:"Crear Nuevo Estudio Afiliado",maxWidthClass:"max-w-lg",paddingClass:"p-7",headerMarginClass:"mb-5",formSpaceYClass:"space-y-5",children:[(0,t.jsx)("div",{className:"flex items-center space-x-3 mb-5",children:(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),(0,t.jsxs)("form",{onSubmit:ep,className:"space-y-5",children:[a&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("p",{className:"text-sm text-red-700 font-medium",children:a})]})}),l&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-sm text-green-700 font-medium",children:l})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre del Estudio Afiliado *"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>k(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Ej: Estudio XYZ",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Descripci\xf3n (Opcional)"}),(0,t.jsx)("textarea",{value:j,onChange:e=>v(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Descripci\xf3n del estudio afiliado...",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Porcentaje de Comisi\xf3n (%) *"}),(0,t.jsx)("input",{type:"number",value:w,onChange:e=>N(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"10.00",min:"0",max:"100",step:"0.01",required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Porcentaje que recibe Agencia Innova (por defecto: 10%)"})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",id:"createSuperadminAff",checked:S,onChange:e=>L(e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,t.jsx)("label",{htmlFor:"createSuperadminAff",className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Crear Superadmin AFF para este estudio"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"El Superadmin AFF ser\xe1 el administrador principal del estudio afiliado y tendr\xe1 acceso completo a su burbuja."}),S&&(0,t.jsxs)("div",{className:"space-y-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Email del Superadmin AFF *"}),(0,t.jsx)("input",{type:"email",value:_,onChange:e=>A(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"superadmin@estudio.com",required:S})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre del Superadmin AFF *"}),(0,t.jsx)("input",{type:"text",value:M,onChange:e=>F(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Nombre completo",required:S})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Contrase\xf1a Temporal *"}),(0,t.jsx)("input",{type:"password",value:z,onChange:e=>B(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"M\xednimo 6 caracteres",minLength:6,required:S}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"El usuario deber\xe1 cambiar esta contrase\xf1a en su primer inicio de sesi\xf3n."})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-2 flex-nowrap",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{b(!1),k(""),v(""),N("10.00"),A(""),F(""),B(""),L(!0),d(""),c("")},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50 text-sm whitespace-nowrap",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",disabled:C,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm whitespace-nowrap",children:C?"Creando...":"Crear Afiliado"})]})]})]}),I&&(0,t.jsxs)(n.Z,{isOpen:I,onClose:()=>{O(!1),H(""),U(""),V(""),G(!0),K(!1),d(""),c("")},title:$?"Editar Superadmin AFF":"Crear Superadmin AFF",maxWidthClass:"max-w-lg",paddingClass:"p-7",headerMarginClass:"mb-5",formSpaceYClass:"space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-5",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Estudio: ",(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:T})]})})]}),(0,t.jsxs)("form",{onSubmit:eh,className:"space-y-5",children:[a&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("p",{className:"text-sm text-red-700 font-medium",children:a})]})}),l&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-sm text-green-700 font-medium",children:l})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Email del Superadmin AFF *"}),(0,t.jsx)("input",{type:"email",value:Z,onChange:e=>H(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"superadmin@estudio.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre del Superadmin AFF *"}),(0,t.jsx)("input",{type:"text",value:R,onChange:e=>U(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Nombre completo",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:$?"Nueva Contrase\xf1a (Opcional)":"Contrase\xf1a Temporal *"}),(0,t.jsx)("input",{type:"password",value:Y,onChange:e=>V(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:$?"Dejar vac\xedo para mantener la actual":"M\xednimo 6 caracteres",minLength:$?0:6,required:!$}),!$&&(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"El usuario deber\xe1 cambiar esta contrase\xf1a en su primer inicio de sesi\xf3n."}),$&&(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Dejar vac\xedo para mantener la contrase\xf1a actual."})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"editSuperadminAffIsActive",checked:X,onChange:e=>G(e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,t.jsx)("label",{htmlFor:"editSuperadminAffIsActive",className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Usuario activo"})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-2 flex-nowrap",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{O(!1),H(""),U(""),V(""),G(!0),K(!1),d(""),c("")},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50 text-sm whitespace-nowrap",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",disabled:P,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm whitespace-nowrap",children:P?$?"Actualizando...":"Creando...":$?"Actualizar":"Crear"})]})]})]}),Q&&(0,t.jsxs)(n.Z,{isOpen:Q,onClose:()=>{ee(!1),es(""),ei(""),ed(""),ec(!0),d(""),c("")},title:"Editar Estudio Afiliado",maxWidthClass:"max-w-lg",paddingClass:"p-7",headerMarginClass:"mb-5",formSpaceYClass:"space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-5",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Estudio: ",(0,t.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:T})]})})]}),(0,t.jsxs)("form",{onSubmit:eg,className:"space-y-5",children:[a&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("p",{className:"text-sm text-red-700 font-medium",children:a})]})}),l&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-sm text-green-700 font-medium",children:l})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre del Estudio Afiliado *"}),(0,t.jsx)("input",{type:"text",value:et,onChange:e=>es(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Ej: Estudio XYZ",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Descripci\xf3n (Opcional)"}),(0,t.jsx)("textarea",{value:eo,onChange:e=>ei(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Descripci\xf3n del estudio afiliado...",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Porcentaje de Comisi\xf3n (%) *"}),(0,t.jsx)("input",{type:"number",value:en,onChange:e=>ed(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"10.00",min:"0",max:"100",step:"0.01",required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Porcentaje que recibe Agencia Innova"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"editAffiliateIsActive",checked:el,onChange:e=>ec(e.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,t.jsx)("label",{htmlFor:"editAffiliateIsActive",className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Estudio activo"})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-2 flex-nowrap",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{ee(!1),es(""),ei(""),ed(""),ec(!0),d(""),c("")},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50 text-sm whitespace-nowrap",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",disabled:er,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm whitespace-nowrap",children:er?"Actualizando...":"Actualizar"})]})]})]})]})})}},5051:function(e,r,a){"use strict";a.d(r,{Z:function(){return i}});var t=a(7437),s=a(2265),o=a(4887);function i(e){let{isOpen:r,onClose:a,children:i,title:n,maxWidthClass:d="max-w-lg",paddingClass:l="p-7",headerMarginClass:c="mb-5",formSpaceYClass:m="space-y-5",className:x="",showCloseButton:u=!0,closeOnBackdrop:p=!0}=e,[h,g]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{if(!r)return;let e=document.body.style.overflow||"";return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[r]),(0,s.useEffect)(()=>{if(!r)return;let e=e=>{"Escape"===e.key&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,a]),(0,s.useEffect)(()=>{g(!0)},[]),!r||!h||"undefined"==typeof document||!document.body)return null;r&&console.log("\uD83D\uDD35 StandardModal: Renderizando modal",{isOpen:r,mounted:h,hasBody:!!document.body});let f=(0,t.jsx)("div",{onClick:()=>{p&&a()},"aria-modal":"true",role:"dialog",className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[99999] p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999},children:(0,t.jsxs)("div",{className:"".concat(l," w-full ").concat(d," max-h-[calc(100vh-2rem)] overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-2xl shadow-xl ").concat(x),onClick:e=>e.stopPropagation(),style:{position:"relative",display:"block",visibility:"visible",opacity:1},children:[(n||u)&&(0,t.jsxs)("div",{className:"flex items-center justify-between ".concat(c),children:[n?(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:n}):(0,t.jsx)("div",{}),u&&(0,t.jsx)("button",{onClick:a,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Cerrar",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:m,children:i})]})});return(0,o.createPortal)(f,document.body)}},5922:function(e,r,a){"use strict";a.r(r),a.d(r,{supabase:function(){return t}});let t=(0,a(5257).createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c")},622:function(e,r,a){"use strict";var t=a(2265),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,a){var t,o={},l=null,c=null;for(t in void 0!==a&&(l=""+a),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(c=r.ref),r)i.call(r,t)&&!d.hasOwnProperty(t)&&(o[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===o[t]&&(o[t]=r[t]);return{$$typeof:s,type:e,key:l,ref:c,props:o,_owner:n.current}}r.Fragment=o,r.jsx=l,r.jsxs=l},7437:function(e,r,a){"use strict";e.exports=a(622)},4033:function(e,r,a){e.exports=a(5313)}},function(e){e.O(0,[5257,2971,4938,1744],function(){return e(e.s=5085)}),_N_E=e.O()}]);
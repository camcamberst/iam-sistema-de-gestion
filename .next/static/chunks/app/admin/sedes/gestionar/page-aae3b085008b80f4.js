(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6192,5922],{4083:function(e,r,a){Promise.resolve().then(a.bind(a,8153))},8153:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return c}});var s=a(7437),o=a(2265),t=a(4033),n=a(883),l=a(5051),d=a(327),i=a(5922);function c(){var e,r,a,c,m,u;let[x,g]=(0,o.useState)([]),[h,b]=(0,o.useState)([]),[p,f]=(0,o.useState)(!0),[y,v]=(0,o.useState)(""),[j,k]=(0,o.useState)(""),[N,w]=(0,o.useState)(""),[D,E]=(0,o.useState)(!1),[C,S]=(0,o.useState)(!1),[R,O]=(0,o.useState)(""),[_,L]=(0,o.useState)(""),[T,M]=(0,o.useState)(!1),[A,B]=(0,o.useState)(""),[F,z]=(0,o.useState)([]),[W,I]=(0,o.useState)(""),[H,G]=(0,o.useState)(""),[P,U]=(0,o.useState)([]),[Z,J]=(0,o.useState)(null),[V,q]=(0,o.useState)(null),[Y,X]=(0,o.useState)(!1),[Q,$]=(0,o.useState)(null),[K,ee]=(0,o.useState)([]),[er,ea]=(0,o.useState)(""),[es,eo]=(0,o.useState)(""),[et,en]=(0,o.useState)(!1),[el,ed]=(0,o.useState)(""),[ei,ec]=(0,o.useState)([]),[em,eu]=(0,o.useState)(!1),[ex,eg]=(0,o.useState)(null),[eh,eb]=(0,o.useState)(null),[ep,ef]=(0,o.useState)(!1),[ey,ev]=(0,o.useState)(null),[ej,ek]=(0,o.useState)(!1),[eN,ew]=(0,o.useState)(null),[eD,eE]=(0,o.useState)(!1),[eC,eS]=(0,o.useState)(!1),[eR,eO]=(0,o.useState)(null),[e_,eL]=(0,o.useState)(null),[eT,eM]=(0,o.useState)(""),[eA,eB]=(0,o.useState)(""),[eF,ez]=(0,o.useState)(!0),[eW,eI]=(0,o.useState)(null),eH=(0,t.useRouter)(),eG=(e,r)=>{eH.push("/admin/sedes/portafolio?model=".concat(e,"&email=").concat(encodeURIComponent(r)))};(0,o.useEffect)(()=>{window.scrollTo(0,0),eP()},[]),(0,o.useEffect)(()=>{A&&""!==A&&(console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Ejecutando useEffect con:",{userRole:A,userGroups:F}),eV(),eU())},[A,F]);let eP=async()=>{try{let r=localStorage.getItem("user");if(r){var e;let a=JSON.parse(r);console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Datos del usuario desde localStorage:",{id:a.id,role:a.role,groups:a.groups}),B(a.role||"admin");let s=(null===(e=a.groups)||void 0===e?void 0:e.map(e=>e.id))||[];console.log("\uD83D\uDD0D [GESTIONAR-SEDES] IDs de grupos extra\xeddos:",s),z(s),I(a.id||"")}let{data:{session:a}}=await i.supabase.auth.getSession();if(a){let{data:e}=await i.supabase.from("users").select("affiliate_studio_id").eq("id",a.user.id).single();e&&eI(e.affiliate_studio_id)}}catch(e){console.warn("Error parsing user data from localStorage:",e)}},eU=async()=>{try{if(!A||""===A){console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Saltando carga de sedes - userRole vac\xedo");return}console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Cargando sedes disponibles con:",{userRole:A,userGroups:F});let{data:{session:e}}=await i.supabase.auth.getSession(),r=await fetch("/api/groups",{method:"GET",headers:(null==e?void 0:e.access_token)?{Authorization:"Bearer ".concat(e.access_token)}:{}}),a=await r.json();if(console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Respuesta de API:",a),!a.success)return;let s=a.groups.filter(e=>"Otros"!==e.name&&"Sat\xe9lites"!==e.name);console.log("\uD83D\uDD0D [GESTIONAR-SEDES] Sedes operativas filtradas:",s),U(s),G(""),w("")}catch(e){console.error("Error cargando sedes disponibles:",e)}},eZ=async()=>{try{console.log("\uD83D\uDD04 [FRONTEND] Recargando solo rooms...");let r=await fetch("/api/groups/rooms");if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let a=await r.json();if(a.success){var e;b(a.rooms||[]),console.log("✅ [FRONTEND] Rooms actualizados:",(null===(e=a.rooms)||void 0===e?void 0:e.length)||0)}else console.error("❌ [FRONTEND] Error cargando rooms:",a.error)}catch(e){console.error("❌ [FRONTEND] Error recargando rooms:",e)}},eJ=async e=>{try{let a=P.find(r=>r.id===e);if(!a)return;let s=await fetch("/api/groups/rooms"),o=await s.json();if(o.success){let r=o.rooms.filter(r=>r.group_id===e);J({...a,rooms:r})}let{data:{session:t}}=await i.supabase.auth.getSession(),n=await fetch("/api/users",{headers:(null==t?void 0:t.access_token)?{Authorization:"Bearer ".concat(t.access_token)}:{}}),l=await n.json();if(l.success){console.log("\uD83D\uDD0D [DEBUG] Buscando admin para sede:",e),console.log("\uD83D\uDD0D [DEBUG] Todos los usuarios:",l.users.length);let a=l.users.filter(e=>"admin"===e.role);console.log("\uD83D\uDD0D [DEBUG] Solo admins:",a.length);let s=a.filter(r=>{let a=r.user_groups||r.groups||[],s=a.some(r=>{var a;return((null===(a=r.groups)||void 0===a?void 0:a.id)||r.id)===e});return console.log("\uD83D\uDD0D [DEBUG] Admin ".concat(r.name,":"),{user_groups:r.user_groups,groups:r.groups,userGroups_processed:a,tieneEstaSede:s,sedeId:e,sedesAsignadas:a.length,estructura:a[0]?Object.keys(a[0]):"sin grupos"}),s});console.log("\uD83D\uDD0D [DEBUG] Admins asignados a esta sede:",s.length);let o=null;if(s.length>0){if(1===s.length)o=s[0],console.log("\uD83D\uDD0D [DEBUG] Solo un admin asignado:",o.name);else{var r;o=s.reduce((e,r)=>{var a,s;let o=(null===(a=e.user_groups)||void 0===a?void 0:a.length)||0,t=(null===(s=r.user_groups)||void 0===s?void 0:s.length)||0;return console.log("\uD83D\uDD0D [DEBUG] Comparando: ".concat(e.name," (").concat(o," sedes) vs ").concat(r.name," (").concat(t," sedes)")),t<o?r:e}),console.log("\uD83D\uDD0D [DEBUG] Admin seleccionado (menos sedes):",o.name,"(".concat((null===(r=o.user_groups)||void 0===r?void 0:r.length)||0," sedes)"))}}o?(console.log("✅ [DEBUG] Admin encontrado y asignado:",o.name),q(o)):(console.log("⚠️ [DEBUG] No se encontr\xf3 admin asignado a esta sede"),q(null))}else q(null)}catch(e){console.error("Error cargando informaci\xf3n de la sede:",e)}},eV=async()=>{try{f(!0),v("");let{data:{session:e}}=await i.supabase.auth.getSession(),r=await fetch("/api/groups",{method:"GET",headers:(null==e?void 0:e.access_token)?{Authorization:"Bearer ".concat(e.access_token)}:{}});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let a=await r.json();if(a.success){let e=(a.groups||[]).filter(e=>"Otros"!==e.name&&"Sat\xe9lites"!==e.name);g(e),e.length>0&&w(e[0].id)}else v("Error cargando sedes: "+(a.error||"Error desconocido"));let s=await fetch("/api/groups/rooms");if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let o=await s.json();o.success?b(o.rooms||[]):v("Error cargando rooms: "+(o.error||"Error desconocido"))}catch(e){console.error("Error cargando datos:",e),v("Error de conexi\xf3n: "+(e instanceof Error?e.message:"Error desconocido"))}finally{f(!1)}},eq=async e=>{if(e.preventDefault(),R.trim()){M(!0);try{let{data:{session:e}}=await i.supabase.auth.getSession(),r={"Content-Type":"application/json"};(null==e?void 0:e.access_token)&&(r.Authorization="Bearer ".concat(e.access_token));let a=await fetch("/api/groups",{method:"POST",headers:r,body:JSON.stringify({name:R.trim()})}),s=await a.json();if(console.log("\uD83D\uDD0D [FRONTEND] Respuesta de creaci\xf3n de grupo:",s),s.success){k("Sede creada exitosamente"),O(""),E(!1),v("");let e=R.trim();if(await eU(),await eV(),await new Promise(e=>setTimeout(e,200)),s.group&&s.group.id)console.log("\uD83D\uDD0D [FRONTEND] Seleccionando nueva sede creada:",s.group.id),G(s.group.id),w(s.group.id),await eJ(s.group.id);else{let{data:{session:r}}=await i.supabase.auth.getSession(),a=await fetch("/api/groups",{method:"GET",headers:(null==r?void 0:r.access_token)?{Authorization:"Bearer ".concat(r.access_token)}:{}}),s=await a.json();if(s.success){let r=s.groups.filter(e=>"Otros"!==e.name&&"Sat\xe9lites"!==e.name).find(r=>r.name===e);r&&(console.log("\uD83D\uDD0D [FRONTEND] Encontrada nueva sede por nombre:",r.id),G(r.id),w(r.id),await eJ(r.id))}}}else console.error("❌ [FRONTEND] Error creando sede:",s.error),v("Error creando sede: "+(s.error||"Error desconocido"))}catch(e){console.error("❌ [FRONTEND] Error en handleCreateGroup:",e),v("Error de conexi\xf3n: "+(e instanceof Error?e.message:"Error desconocido"))}finally{M(!1)}}},eY=async e=>{if(e.preventDefault(),_.trim()&&N){M(!0);try{let e=await fetch("/api/groups/rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_name:_.trim(),group_id:N})}),r=await e.json();r.success?(k("Room creado exitosamente"),L(""),S(!1),await Promise.all([eZ(),H?eJ(H):Promise.resolve()])):r.error&&r.error.includes("ya existe")?v("Este Room ya existe"):v("Error creando room: "+r.error)}catch(e){console.error("Error:",e),v("Error de conexi\xf3n")}finally{M(!1)}}},eX=async e=>{if(e.preventDefault(),eR&&eT.trim()){M(!0);try{let{data:{session:e}}=await i.supabase.auth.getSession(),r={"Content-Type":"application/json"};(null==e?void 0:e.access_token)&&(r.Authorization="Bearer ".concat(e.access_token));let a=await fetch("/api/groups",{method:"PUT",headers:r,body:JSON.stringify({id:eR.id,name:eT.trim(),description:eA.trim()||null,is_active:eF})}),s=await a.json();s.success?(k("Sede actualizada exitosamente"),eE(!1),eO(null),eM(""),eB(""),v(""),await eU(),await eV(),H===eR.id&&await eJ(eR.id)):v("Error actualizando sede: "+(s.error||"Error desconocido"))}catch(e){console.error("❌ [FRONTEND] Error en handleEditSede:",e),v("Error actualizando sede: "+(e instanceof Error?e.message:"Error desconocido"))}finally{M(!1)}}},eQ=async()=>{if(e_){M(!0);try{let{data:{session:e}}=await i.supabase.auth.getSession(),r={};(null==e?void 0:e.access_token)&&(r.Authorization="Bearer ".concat(e.access_token));let a=await fetch("/api/groups?id=".concat(e_.id),{method:"DELETE",headers:r}),s=await a.json();s.success?(k("Sede eliminada exitosamente"),eS(!1),eL(null),v(""),H===e_.id&&(G(""),w(""),J(null),q(null)),await eU(),await eV()):v("Error eliminando sede: "+(s.error||"Error desconocido"))}catch(e){console.error("❌ [FRONTEND] Error en handleDeleteSede:",e),v("Error eliminando sede: "+(e instanceof Error?e.message:"Error desconocido"))}finally{M(!1)}}},e$=async e=>{try{console.log("\uD83D\uDD0D [FRONTEND] Haciendo clic en room:",e.room_name),$(e),X(!0),ea(""),eo(""),console.log("\uD83D\uDD0D [FRONTEND] Cargando asignaciones para room ID:",e.id);let a=await fetch("/api/room-assignments?roomId=".concat(e.id)),s=await a.json();if(console.log("\uD83D\uDD0D [FRONTEND] Respuesta del endpoint:",s),s.success){var r;ee(s.assignments||[]),console.log("\uD83D\uDD0D [FRONTEND] Asignaciones cargadas:",(null===(r=s.assignments)||void 0===r?void 0:r.length)||0)}else console.error("❌ [FRONTEND] Error cargando asignaciones:",s.error),ee([])}catch(e){console.error("❌ [FRONTEND] Error en handleRoomClick:",e),ee([])}},eK=async e=>{if(Q){console.log("\uD83D\uDD0D [FRONTEND] Clic en jornada:",e),ed(e);try{let e="?t=".concat(Date.now()),a=await fetch("/api/groups/".concat(Q.group_id,"/models").concat(e),{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),s=await a.json();if(s.success){var r;console.log("✅ [FRONTEND] Modelos cargados para grupo ".concat(Q.group_id,":"),(null===(r=s.models)||void 0===r?void 0:r.length)||0),ec(s.models||[]),en(!0)}else console.error("❌ [FRONTEND] Error en respuesta:",s.error),v("Error cargando modelos: "+s.error)}catch(e){console.error("❌ [FRONTEND] Error cargando modelos:",e),v("Error de conexi\xf3n")}}},e0=async e=>{eg(e);try{let r=await fetch("/api/models/".concat(e.id,"/assignments")),a=await r.json();a.success&&a.assignments.length>0?(eb({model:e,existingAssignments:a.assignments,newAssignment:{room_id:null==Q?void 0:Q.id,room_name:null==Q?void 0:Q.room_name,jornada:el}}),eu(!0),en(!1)):await e2(e,"assign")}catch(e){console.error("❌ [FRONTEND] Error verificando asignaciones:",e),v("Error verificando asignaciones")}},e1=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{r>0&&(console.log("⏳ [FRONTEND] Esperando ".concat(r,"ms para sincronizaci\xf3n...")),await new Promise(e=>setTimeout(e,r))),console.log("\uD83D\uDD0D [FRONTEND] Recargando asignaciones para room ID:",e.id);let s=await fetch("/api/room-assignments?roomId=".concat(e.id)),o=await s.json();if(console.log("\uD83D\uDD0D [FRONTEND] Respuesta del endpoint:",o),console.log("\uD83D\uDD0D [FRONTEND] Asignaciones raw:",o.assignments),o.success){var a;ee(o.assignments||[]),console.log("\uD83D\uDD0D [FRONTEND] Asignaciones recibidas:",(null===(a=o.assignments)||void 0===a?void 0:a.length)||0),console.log("\uD83D\uDD0D [FRONTEND] Estado actualizado con:",o.assignments)}else console.error("❌ [FRONTEND] Error recargando asignaciones:",o.error),ee([])}catch(e){console.error("❌ [FRONTEND] Error en reloadRoomAssignments:",e),ee([])}},e2=async(e,r)=>{try{var a;console.log("\uD83D\uDD0D [FRONTEND] Asignando modelo:",{model_id:e.id,model_name:e.name,room_id:null==Q?void 0:Q.id,room_name:null==Q?void 0:Q.room_name,jornada:el,action:r});let s={action:r,model_id:e.id,room_id:null==Q?void 0:Q.id,jornada:el};if("move"===r&&(null==eh?void 0:null===(a=eh.existingAssignments)||void 0===a?void 0:a.length)>0){let e=eh.existingAssignments[0];s.from_room_id=e.room_id,s.from_jornada=e.jornada}let o=await fetch("/api/room-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await o.json();console.log("\uD83D\uDD0D [FRONTEND] Respuesta de asignaci\xf3n:",t),t.success?(console.log("✅ [FRONTEND] Asignaci\xf3n exitosa, recargando asignaciones..."),eo("Modelo ".concat("move"===r?"movida":"asignada"," exitosamente")),ea(""),Q&&(console.log("\uD83D\uDD0D [FRONTEND] Llamando a reloadRoomAssignments..."),await e1(Q),console.log("✅ [FRONTEND] reloadRoomAssignments completado")),en(!1),eu(!1),eg(null),eb(null)):(console.error("❌ [FRONTEND] Error en asignaci\xf3n:",t.error),ea("Error asignando modelo: "+t.error),eo(""))}catch(e){console.error("❌ [FRONTEND] Error asignando modelo:",e),ea("Error de conexi\xf3n"),eo("")}},e5=e=>{ew(e),ek(!0)},e4=async()=>{if(eN&&Q){if(eN.isDeleting){console.log("⚠️ [FRONTEND] Eliminaci\xf3n ya en progreso, ignorando...");return}ew({...eN,isDeleting:!0});try{console.log("\uD83D\uDD0D [FRONTEND] Eliminando asignaci\xf3n:",{model_id:eN.model_id,model_name:eN.model_name,room_id:Q.id,room_name:Q.room_name,jornada:eN.jornada});let e=await fetch("/api/room-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"remove",model_id:eN.model_id,room_id:Q.id,jornada:eN.jornada})}),r=await e.json();console.log("\uD83D\uDD0D [FRONTEND] Respuesta de eliminaci\xf3n:",r),r.success?(console.log("✅ [FRONTEND] Eliminaci\xf3n exitosa, recargando asignaciones..."),eo("Modelo eliminada exitosamente de ".concat(eN.jornada)),ea(""),console.log("\uD83D\uDD04 [FRONTEND] Recargando asignaciones para sincronizar UI..."),await e1(Q),console.log("✅ [FRONTEND] Sincronizaci\xf3n completada")):(console.error("❌ [FRONTEND] Error en eliminaci\xf3n:",r.error),ea("Error eliminando modelo: "+r.error),eo(""))}catch(e){console.error("❌ [FRONTEND] Error eliminando modelo:",e),ea("Error de conexi\xf3n"),eo("")}finally{ek(!1),ew(null)}}},e3=async()=>{if(console.log("\uD83D\uDD0D [DELETE-ROOM] handleDeleteRoom ejecut\xe1ndose con:",ey),!ey){console.log("❌ [DELETE-ROOM] No hay room para eliminar");return}try{M(!0),v(""),k(""),console.log("\uD83D\uDD0D [FRONTEND] Eliminando room:",{room_id:ey.id,room_name:ey.room_name,group_id:ey.group_id});let e=await fetch("/api/groups/rooms?id=".concat(ey.id),{method:"DELETE"});console.log("\uD83D\uDD0D [DELETE-ROOM] Respuesta de API:",e.status);let r=await e.json();console.log("\uD83D\uDD0D [DELETE-ROOM] Resultado:",r),r.success?(k(r.message),v(""),H&&await eJ(H),ef(!1),ev(null)):(v(r.error||"Error eliminando room"),k(""))}catch(e){console.error("❌ [DELETE-ROOM] Error eliminando room:",e),v("Error de conexi\xf3n eliminando room"),k("")}finally{M(!1)}};return p?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center pt-16",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Cargando datos..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[(0,s.jsx)("div",{className:"mb-8 sm:mb-12",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),(0,s.jsx)("div",{className:"relative bg-white/80 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h1",{className:"text-base sm:text-lg md:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent leading-tight whitespace-nowrap overflow-hidden text-ellipsis",children:"Gesti\xf3n de Sedes"}),(0,s.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:block",children:"Administra las sedes, rooms y configuraciones del sistema"})]})]})})})]})}),"admin"===A&&0===P.length&&(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-yellow-50/80 to-orange-50/80 backdrop-blur-sm rounded-xl p-6 border border-yellow-200/30",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-yellow-800",children:"Sin Sedes Asignadas"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"No tienes sedes asignadas para gestionar. Contacta al Super Admin para que te asigne sedes."})]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[(0,s.jsx)("div",{className:"flex flex-col h-full",children:(0,s.jsxs)("div",{className:"relative flex-1 z-10",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-2xl blur-sm"}),(0,s.jsxs)("div",{className:"relative bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 h-full flex flex-col dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Seleccionar Sede"})]}),(0,s.jsx)(n.Z,{options:P.map(e=>({value:e.id,label:e.name})),value:H,onChange:e=>{G(e),w(e),e?eJ(e):(J(null),q(null))},placeholder:"Selecciona una sede para gestionar",className:"text-sm"}),0===P.length&&(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"No hay sedes disponibles para gestionar"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col space-y-6 h-full",children:[("super_admin"===A||"superadmin_aff"===A)&&(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-2xl blur-sm"}),(0,s.jsx)("div",{className:"relative bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 h-full flex flex-col dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,s.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Crear Nueva Sede"})]}),(0,s.jsx)("button",{onClick:()=>E(!0),className:"w-32 px-4 py-2 text-sm font-medium bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"+ Crear Sede"})]})})]}),H&&(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-2xl blur-sm"}),(0,s.jsx)("div",{className:"relative bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-6 h-full flex flex-col dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-full",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Crear Room"})]}),(0,s.jsx)("button",{onClick:()=>S(!0),className:"w-32 px-4 py-2 text-sm font-medium bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"+ Crear Room"})]})})]})]})]}),Z&&(0,s.jsxs)("div",{className:"relative mb-10",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-indigo-500/5 rounded-xl blur-sm"}),(0,s.jsxs)("div",{className:"relative bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-lg shadow-md border border-white/20 dark:border-gray-600/20 p-4 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:Z.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(null===(e=Z.rooms)||void 0===e?void 0:e.length)||0," rooms configurados"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1.5 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"Activa"})]}),("super_admin"===A||"superadmin_aff"===A)&&(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("button",{onClick:()=>{eO(Z),eM(Z.name),eB(Z.description||""),ez(!1!==Z.is_active),eE(!0)},className:"px-2 py-1 text-xs font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",title:"Editar sede",children:"Editar"}),(0,s.jsx)("button",{onClick:()=>{eL(Z),eS(!0)},className:"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors",title:"Eliminar sede",children:"Eliminar"})]})]})]}),V?(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50/80 to-indigo-50/80 dark:from-blue-900/20 dark:to-indigo-900/20 backdrop-blur-sm rounded-lg p-4 mb-4 border border-blue-200/30 dark:border-blue-700/30",children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Admin Asignado"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:(0,s.jsx)("span",{className:"text-white font-semibold text-sm",children:(null===(r=V.name)||void 0===r?void 0:r.charAt(0))||"A"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:V.name}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:V.email}),(0,s.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:[(null===(a=V.user_groups)||void 0===a?void 0:a.length)||0," sede",1!==((null===(c=V.user_groups)||void 0===c?void 0:c.length)||0)?"s":""," asignada",1!==((null===(m=V.user_groups)||void 0===m?void 0:m.length)||0)?"s":""]})]})]})]}):(0,s.jsx)("div",{className:"bg-gradient-to-r from-yellow-50/80 to-orange-50/80 dark:from-yellow-900/20 dark:to-orange-900/20 backdrop-blur-sm rounded-xl p-5 mb-6 border border-yellow-200/30 dark:border-yellow-700/30",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"No hay admin asignado a esta sede"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Rooms Disponibles"})]}),Z.rooms&&Z.rooms.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Z.rooms.map(e=>(0,s.jsx)("div",{className:"inline-flex items-center",children:(0,s.jsxs)("button",{onClick:()=>e$(e),className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-gradient-to-r from-gray-100 to-slate-100 dark:from-gray-600 dark:to-slate-600 text-gray-800 dark:text-gray-200 hover:from-gray-200 hover:to-slate-200 dark:hover:from-gray-500 dark:hover:to-slate-500 hover:text-gray-900 dark:hover:text-gray-100 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm hover:shadow-md transform hover:-translate-y-0.5 border border-gray-200/50 dark:border-gray-500/50",children:[(0,s.jsx)("svg",{className:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.room_name]})},e.id))}):(0,s.jsxs)("div",{className:"bg-gradient-to-r from-gray-50/80 to-slate-50/80 dark:from-gray-600/80 dark:to-slate-600/80 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-200/30 dark:border-gray-500/30",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"No hay rooms configurados en esta sede"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:'Usa el bot\xf3n "Crear Room" para agregar rooms'})]})]})]})]}),D&&("super_admin"===A||"superadmin_aff"===A)&&(0,s.jsxs)(l.Z,{isOpen:D,onClose:()=>E(!1),title:"Crear Nueva Sede",maxWidthClass:"max-w-lg",paddingClass:"p-7",headerMarginClass:"mb-5",formSpaceYClass:"space-y-5",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3 mb-5",children:(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-600 to-slate-700 rounded-xl flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),(0,s.jsxs)("form",{onSubmit:eq,className:"space-y-5",children:[y&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("p",{className:"text-sm text-red-700 font-medium",children:y})]})}),j&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("p",{className:"text-sm text-green-700 font-medium",children:j})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre de la Sede"}),(0,s.jsx)("input",{type:"text",value:R,onChange:e=>O(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Ej: Sede Norte",required:!0})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-2 flex-nowrap",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{E(!1),O("")},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50 text-sm whitespace-nowrap",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:T,className:"flex-1 bg-gradient-to-r from-gray-700 to-slate-800 text-white py-2 px-4 rounded-xl hover:from-gray-800 hover:to-slate-900 transition-all duration-200 disabled:opacity-50 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm whitespace-nowrap",children:T?"Creando...":"Crear Sede"})]})]})]}),C&&(0,s.jsxs)(l.Z,{isOpen:C,onClose:()=>S(!1),title:"Crear Room",maxWidthClass:"max-w-lg",paddingClass:"p-7",headerMarginClass:"mb-5",formSpaceYClass:"space-y-5",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3 mb-5",children:(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),(0,s.jsxs)("form",{onSubmit:eY,className:"space-y-5",children:[y&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("p",{className:"text-sm text-red-700 font-medium",children:y})]})}),j&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("p",{className:"text-sm text-green-700 font-medium",children:j})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Sede Seleccionada"}),(0,s.jsx)("div",{className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:(null===(u=x.find(e=>e.id===N))||void 0===u?void 0:u.name)||"Ninguna sede seleccionada"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-700 dark:text-gray-200 text-sm font-semibold mb-2",children:"Nombre del Room"}),(0,s.jsx)("input",{type:"text",value:_,onChange:e=>L(e.target.value),className:"w-full border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-2.5 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm transition-all duration-200",placeholder:"Ej: ROOM01",required:!0})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-2 flex-nowrap",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{S(!1),L(""),w("")},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50 text-sm whitespace-nowrap",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:T||!N,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 px-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm whitespace-nowrap",children:T?"Creando...":"Crear Room"})]})]})]}),Y&&Q&&(0,s.jsxs)(l.Z,{isOpen:Y,onClose:()=>{X(!1),$(null),ee([])},title:"Configuraci\xf3n de ".concat(Q.room_name),maxWidthClass:"max-w-2xl",paddingClass:"p-6",headerMarginClass:"mb-4",formSpaceYClass:"space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("button",{onClick:()=>{ev(Q),ef(!0)},className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800/50 transition-colors border border-red-200/60 dark:border-red-700/40",title:"Eliminar room",children:(0,s.jsxs)("span",{className:"inline-flex items-center",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})})})}),er&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:er})})]})}),es&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-green-800",children:es})})]})}),(0,s.jsx)("div",{className:"space-y-4",children:["MA\xd1ANA","TARDE","NOCHE"].map(e=>{let r=K.filter(r=>r.jornada===e);return(0,s.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 dark:bg-gray-700/50",children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),e]}),r.length>0?(0,s.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-600 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-500 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg p-2 -m-2 transition-colors group",onClick:()=>eG(e.model_id,e.model_email),title:"Ver portafolio de la modelo",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors",children:(0,d.W)(e.model_email)||e.model_name||"Modelo no especificada"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.model_email||"Email no disponible"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:"Asignada"}),(0,s.jsx)("button",{onClick:()=>e5(e),className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors group bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-800/50 cursor-pointer",title:"Eliminar modelo de esta jornada",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400 group-hover:text-red-700 dark:group-hover:text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id))}):(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-500 transition-colors",onClick:()=>eK(e),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"No hay modelos asignadas"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Haz clic para asignar"})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-500 text-gray-600 dark:text-gray-300",children:"Disponible"})})]})]},e)})}),(0,s.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:(0,s.jsx)("button",{onClick:()=>{X(!1),$(null),ee([])},className:"w-full bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-200 py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors",children:"Cerrar"})})]}),et&&(0,s.jsxs)(l.Z,{isOpen:et,onClose:()=>{en(!1),ec([]),ed("")},title:"Seleccionar Modelo para ".concat(el),maxWidthClass:"max-w-md",paddingClass:"p-6",headerMarginClass:"mb-4",formSpaceYClass:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-2",children:ei.map(e=>(0,s.jsx)("button",{onClick:()=>e0(e),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.name||"Nombre no disponible"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email||"Email no disponible"})]})]})},e.id))}),0===ei.length&&(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No hay modelos disponibles"})})]}),em&&eh&&(0,s.jsxs)(l.Z,{isOpen:em,onClose:()=>{eu(!1),eb(null),eg(null)},title:"Conflicto de Asignaci\xf3n",maxWidthClass:"max-w-md",paddingClass:"p-6",headerMarginClass:"mb-4",formSpaceYClass:"space-y-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:[(0,s.jsx)("strong",{children:eh.model.name})," ya est\xe1 asignada en:"]}),(0,s.jsx)("div",{className:"space-y-2",children:eh.existingAssignments.map((e,r)=>(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-600 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[e.room_name," - ",e.jornada]})]})},r))}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-3",children:"\xbfQu\xe9 deseas hacer?"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>e2(eh.model,"move"),className:"flex-1 bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"Mover"}),(0,s.jsx)("button",{onClick:()=>e2(eh.model,"assign"),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Doblar"})]}),(0,s.jsxs)("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Mover:"})," Desasigna de ubicaci\xf3n actual y asigna aqu\xed"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Doblar:"})," Mantiene ubicaci\xf3n actual y asigna tambi\xe9n aqu\xed"]})]})]}),ej&&eN&&(0,s.jsxs)(l.Z,{isOpen:ej,onClose:()=>{ek(!1),ew(null)},title:"Confirmar Eliminaci\xf3n",maxWidthClass:"max-w-md",paddingClass:"p-8",headerMarginClass:"mb-6",formSpaceYClass:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3 mb-6",children:(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["\xbfEst\xe1s seguro de que deseas eliminar a ",(0,s.jsx)("strong",{children:eN.model_name})," de la jornada ",(0,s.jsx)("strong",{children:eN.jornada}),"?"]}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-600 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:eN.model_name}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:eN.model_email})]})]})})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>{ek(!1),ew(null)},className:"flex-1 bg-gray-100/80 dark:bg-gray-600/80 backdrop-blur-sm text-gray-700 dark:text-gray-200 py-3 px-4 rounded-xl hover:bg-gray-200/80 dark:hover:bg-gray-500/80 transition-all duration-200 font-medium border border-gray-200/50 dark:border-gray-500/50",children:"Cancelar"}),(0,s.jsx)("button",{onClick:e4,disabled:null==eN?void 0:eN.isDeleting,className:"flex-1 py-3 px-4 rounded-xl transition-all duration-200 font-medium shadow-lg ".concat((null==eN?void 0:eN.isDeleting)?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-orange-600 text-white hover:from-red-700 hover:to-orange-700 hover:shadow-xl transform hover:-translate-y-0.5"),children:(null==eN?void 0:eN.isDeleting)?"Eliminando...":"Eliminar"})]})]}),ep&&ey&&(0,s.jsxs)(l.Z,{isOpen:ep,onClose:()=>{ef(!1),ev(null)},title:"Confirmar Eliminaci\xf3n de Room",maxWidthClass:"max-w-md",paddingClass:"p-8",headerMarginClass:"mb-6",formSpaceYClass:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3 mb-6",children:(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["\xbfEst\xe1s seguro de que deseas eliminar el room ",(0,s.jsx)("strong",{children:ey.room_name}),"?"]}),(0,s.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Advertencia"}),(0,s.jsx)("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Esta acci\xf3n no se puede deshacer. Si el room tiene asignaciones activas, no se podr\xe1 eliminar."})]})]})})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>{console.log("\uD83D\uDD0D [DELETE-ROOM] Cancelando eliminaci\xf3n"),ef(!1),ev(null)},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors",children:"Cancelar"}),(0,s.jsx)("button",{onClick:()=>{console.log("\uD83D\uDD0D [DELETE-ROOM] Confirmando eliminaci\xf3n de:",ey),e3()},disabled:T,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Eliminando...":"Eliminar Room"})]})]}),eD&&eR&&(0,s.jsx)(l.Z,{isOpen:eD,onClose:()=>{eE(!1),eO(null),eM(""),eB("")},title:"Editar Sede",maxWidthClass:"max-w-md",children:(0,s.jsxs)("form",{onSubmit:eX,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Nombre de la Sede *"}),(0,s.jsx)("input",{type:"text",value:eT,onChange:e=>eM(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Nombre de la sede"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Descripci\xf3n"}),(0,s.jsx)("textarea",{value:eA,onChange:e=>eB(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Descripci\xf3n de la sede (opcional)"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:eF,onChange:e=>ez(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:"Sede activa"})]})}),y&&(0,s.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-800 dark:text-red-300",children:y})}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{eE(!1),eO(null),eM(""),eB(""),v("")},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",disabled:T||!eT.trim(),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Guardando...":"Guardar Cambios"})]})]})}),eC&&e_&&(0,s.jsx)(l.Z,{isOpen:eC,onClose:()=>{eS(!1),eL(null)},title:"Eliminar Sede",maxWidthClass:"max-w-md",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:"\xbfEst\xe1s seguro de eliminar esta sede?"}),(0,s.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-400",children:["Esta acci\xf3n no se puede deshacer. La sede ",(0,s.jsx)("strong",{children:e_.name})," ser\xe1 eliminada permanentemente."]}),(0,s.jsx)("p",{className:"text-xs text-red-600 dark:text-red-500 mt-2",children:"⚠️ Si la sede tiene usuarios o rooms asignados, no se podr\xe1 eliminar."})]})]})}),y&&(0,s.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700/50 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-800 dark:text-red-300",children:y})}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{eS(!1),eL(null),v("")},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-lg transition-colors",children:"Cancelar"}),(0,s.jsx)("button",{type:"button",onClick:eQ,disabled:T,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Eliminando...":"Eliminar Sede"})]})]})})]})})}},883:function(e,r,a){"use strict";a.d(r,{Z:function(){return n}});var s=a(7437),o=a(2265);let t={green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800"};function n(e){let{options:r,value:a,onChange:n,placeholder:l="Selecciona una opci\xf3n",className:d="",disabled:i=!1,maxHeight:c="max-h-60",autoOpen:m=!1}=e,[u,x]=(0,o.useState)(!1),g=(0,o.useRef)(null);(0,o.useEffect)(()=>{m&&r.length>1?x(!0):m||x(!1)},[m,r.length]),(0,o.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&x(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,o.useEffect)(()=>{u&&g.current&&setTimeout(()=>{var e;null===(e=g.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[u]);let h=r.find(e=>e.value===a),b=e=>{n(e),x(!1)};return(0,s.jsxs)("div",{className:"relative ".concat(d),ref:g,children:[(0,s.jsx)("button",{type:"button",className:"w-full px-3 py-2 text-sm text-left border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500/50 transition-all duration-200 ".concat(i?"opacity-50 cursor-not-allowed":""),onClick:()=>!i&&x(!u),disabled:i,"aria-haspopup":"listbox","aria-expanded":u,children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("span",{className:h?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400",children:h?h.label:l}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(null==h?void 0:h.badge)&&(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(t[h.badgeColor||"gray"]),children:h.badge}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-200 ".concat(u?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),u&&(0,s.jsx)("div",{className:"absolute z-[99998] w-full mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-lg dark:shadow-cyan-900/10 dark:ring-0.5 dark:ring-cyan-500/15 ".concat(c," overflow-auto apple-scroll"),children:0===r.length?(0,s.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400",children:"No hay opciones disponibles"}):r.map((e,r)=>(0,s.jsxs)("div",{children:[r>0&&(0,s.jsx)("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-600/50 dark:shadow-sm dark:shadow-blue-900/10"}),(0,s.jsxs)("div",{className:"px-4 py-3 text-sm cursor-pointer transition-colors duration-150 flex items-center justify-between ".concat(e.disabled?"text-gray-400 dark:text-gray-500 cursor-not-allowed":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"," ").concat(e.value===a?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100":""),onClick:()=>!e.disabled&&b(e.value),children:[(0,s.jsx)("span",{children:e.label}),e.badge&&(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(t[e.badgeColor||"gray"]),children:e.badge})]})]},e.value))})]})}},5051:function(e,r,a){"use strict";a.d(r,{Z:function(){return n}});var s=a(7437),o=a(2265),t=a(4887);function n(e){let{isOpen:r,onClose:a,children:n,title:l,maxWidthClass:d="max-w-lg",paddingClass:i="p-7",headerMarginClass:c="mb-5",formSpaceYClass:m="space-y-5",className:u="",showCloseButton:x=!0,closeOnBackdrop:g=!0}=e,[h,b]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{if(!r)return;let e=document.body.style.overflow||"";return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[r]),(0,o.useEffect)(()=>{if(!r)return;let e=e=>{"Escape"===e.key&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,a]),(0,o.useEffect)(()=>{b(!0)},[]),!r||!h||"undefined"==typeof document||!document.body)return null;r&&console.log("\uD83D\uDD35 StandardModal: Renderizando modal",{isOpen:r,mounted:h,hasBody:!!document.body});let p=(0,s.jsx)("div",{onClick:()=>{g&&a()},"aria-modal":"true",role:"dialog",className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[99999] p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999},children:(0,s.jsxs)("div",{className:"".concat(i," w-full ").concat(d," max-h-[calc(100vh-2rem)] overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-2xl shadow-xl ").concat(u),onClick:e=>e.stopPropagation(),style:{position:"relative",display:"block",visibility:"visible",opacity:1},children:[(l||x)&&(0,s.jsxs)("div",{className:"flex items-center justify-between ".concat(c),children:[l?(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:l}):(0,s.jsx)("div",{}),x&&(0,s.jsx)("button",{onClick:a,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Cerrar",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:m,children:n})]})});return(0,t.createPortal)(p,document.body)}},5922:function(e,r,a){"use strict";a.r(r),a.d(r,{supabase:function(){return s}});let s=(0,a(5257).createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c")},327:function(e,r,a){"use strict";a.d(r,{W:function(){return s}});let s=e=>e?e.split("@")[0].split(".").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(""):""},622:function(e,r,a){"use strict";var s=a(2265),o=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,a){var s,t={},i=null,c=null;for(s in void 0!==a&&(i=""+a),void 0!==r.key&&(i=""+r.key),void 0!==r.ref&&(c=r.ref),r)n.call(r,s)&&!d.hasOwnProperty(s)&&(t[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===t[s]&&(t[s]=r[s]);return{$$typeof:o,type:e,key:i,ref:c,props:t,_owner:l.current}}r.Fragment=t,r.jsx=i,r.jsxs=i},7437:function(e,r,a){"use strict";e.exports=a(622)},4033:function(e,r,a){e.exports=a(5313)}},function(e){e.O(0,[5257,2971,4938,1744],function(){return e(e.s=4083)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6249,2296],{5531:function(e,a,r){"use strict";r.d(a,{Z:function(){return m}});var t=r(2265);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase()),o=e=>{let a=l(e);return a.charAt(0).toUpperCase()+a.slice(1)},d=(...e)=>e.filter((e,a,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===a).join(" ").trim(),i=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...m},u)=>(0,t.createElement)("svg",{ref:u,...n,width:a,height:a,stroke:e,strokeWidth:s?24*Number(r)/Number(a):r,className:d("lucide",l),...!o&&!i(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(o)?o:[o]])),m=(e,a)=>{let r=(0,t.forwardRef)(({className:r,...l},i)=>(0,t.createElement)(c,{ref:i,iconNode:a,className:d(`lucide-${s(o(e))}`,`lucide-${e}`,r),...l}));return r.displayName=o(e),r}},8253:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},3523:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9806:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6141:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},9670:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5589:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9409:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7972:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(5531).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5974:function(e,a,r){Promise.resolve().then(r.bind(r,8193))},8193:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return j}});var t=r(7437),s=r(2265),l=r(4033),o=r(9670),d=r(6141),i=r(8063),n=r(4530),c=r(5531);let m=(0,c.Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var u=r(9806);let x=(0,c.Z)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),g=(0,c.Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var p=r(7972),h=r(8253),f=r(1541),b=r(5589),y=r(4848),v=r(5051),w=r(327),k=r(6918);function j(){let e=(0,l.useRouter)(),a=(0,l.useSearchParams)(),c=(a,r)=>{e.push("/admin/calculator/view-model?modelId=".concat(a))},[j,_]=(0,s.useState)(!0),[N,C]=(0,s.useState)(""),[S,E]=(0,s.useState)(""),[A,Z]=(0,s.useState)([]),[D,P]=(0,s.useState)([]),[L,M]=(0,s.useState)([]),[O,R]=(0,s.useState)([]),[z,T]=(0,s.useState)([]),[F,I]=(0,s.useState)([]),[G,U]=(0,s.useState)(""),[q,X]=(0,s.useState)(""),[W,B]=(0,s.useState)(""),[J,$]=(0,s.useState)(""),[H,V]=(0,s.useState)("grid"),[Y,K]=(0,s.useState)(!0),[Q,ee]=(0,s.useState)(null),[ea,er]=(0,s.useState)(!1),[et,es]=(0,s.useState)("request"),[el,eo]=(0,s.useState)(""),[ed,ei]=(0,s.useState)(!1),[en,ec]=(0,s.useState)("disponible"),[em,eu]=(0,s.useState)(""),[ex,eg]=(0,s.useState)(""),[ep,eh]=(0,s.useState)(""),[ef,eb]=(0,s.useState)(!1),[ey,ev]=(0,s.useState)(!1),[ew,ek]=(0,s.useState)(!1),[ej,e_]=(0,s.useState)(new Set),[eN,eC]=(0,s.useState)(""),[eS,eE]=(0,s.useState)(""),[eA,eZ]=(0,s.useState)(!1),[eD,eP]=(0,s.useState)(!1),[eL,eM]=(0,s.useState)(!1),[eO,eR]=(0,s.useState)(!1),[ez,eT]=(0,s.useState)(null),[eF,eI]=(0,s.useState)(""),[eG,eU]=(0,s.useState)([]),[eq,eX]=(0,s.useState)("");(0,s.useEffect)(()=>{(()=>{let e=localStorage.getItem("user");if(e){var a;let r=JSON.parse(e);eI(r.role||""),eU((null===(a=r.groups)||void 0===a?void 0:a.map(e=>e.id))||[]),eX(r.id||"")}})()},[]),(0,s.useEffect)(()=>{eF&&eG.length>=0&&eW()},[eF,eG]),(0,s.useEffect)(()=>{let e=()=>{(async()=>{try{let e=await fetch("/api/plataformas-catalogo");if(e.ok){let a=await e.json();T(Array.isArray(a)?a:[])}}catch(e){console.error("Error recargando plataformas:",e)}})()};return window.addEventListener("focus",e),(()=>{let a=sessionStorage.getItem("platforms_updated");if(a){let r=parseInt(a,10);Date.now()-r<3e5&&(e(),sessionStorage.removeItem("platforms_updated"))}})(),()=>{window.removeEventListener("focus",e)}},[]),(0,s.useEffect)(()=>{let r=a.get("model"),t=a.get("email");if(r&&t&&!j){console.log("\uD83D\uDD0D Aplicando filtro autom\xe1tico por modelo:",{modelId:r,modelEmail:t}),eH(r);let a=new URL(window.location.href);a.searchParams.delete("model"),a.searchParams.delete("email"),e.replace(a.pathname+a.search,{scroll:!1})}},[a,e,j]),(0,s.useEffect)(()=>{j||(q||G||W||J?eB():Z([]))},[G,q,W,J]);let eW=async()=>{try{_(!0);let{supabase:e}=await Promise.all([r.e(5257),r.e(5922)]).then(r.bind(r,5922)),{data:{session:a}}=await e.auth.getSession(),t=null==a?void 0:a.access_token;if(!t){console.error("❌ [PORTAFOLIO] No hay token de autenticaci\xf3n"),C("No hay sesi\xf3n activa"),_(!1);return}let s=await fetch("/api/groups",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userRole:eF,userGroups:eG})});if(s.ok){let e=await s.json();e.success&&M(e.groups)}let l=await fetch("/api/plataformas-catalogo");if(l.ok){let e=await l.json();T(Array.isArray(e)?e:[])}let o=await fetch("/api/users?role=modelo");if(o.ok){let e=await o.json(),a=(Array.isArray(e)?e:Array.isArray(null==e?void 0:e.users)?e.users:[]).filter(e=>"modelo"===e.role);I(a.map(e=>e.id))}}catch(e){console.error("Error loading initial data:",e),C("Error al cargar los datos iniciales")}finally{_(!1)}},eB=async()=>{try{q&&await eJ(q);let e=new URLSearchParams;G&&e.append("model_id",G),q&&e.append("group_id",q),W&&e.append("jornada",W),J&&e.append("platform_id",J);let a=await fetch("/api/modelo-plataformas?".concat(e.toString()));if(a.ok){let e=await a.json(),r=Array.isArray(e)?e.filter(e=>e.model_name&&!e.model_name.includes("Administrator")&&!e.model_name.includes("Super Administrator")):[];Z(r),("admin"===eF||"super_admin"===eF)&&r.length>0&&await e3(r)}else C("Error al cargar las plataformas")}catch(e){console.error("Error loading platforms:",e),C("Error al cargar las plataformas")}},eJ=async e=>{try{let a=await fetch("/api/groups/".concat(e,"/models"));if(a.ok){let e=await a.json(),r=Array.isArray(e)?e:Array.isArray(null==e?void 0:e.models)?e.models:[];P(r)}}catch(e){console.error("Error loading models:",e)}},e$=e=>{X(e),U(""),P([]),e&&eJ(e)},eH=async e=>{console.log("\uD83D\uDD0D Aplicando filtro por modelo:",e);let a=await fetch("/api/modelo-plataformas?model_id=".concat(e));if(a.ok){let e=await a.json(),r=Array.isArray(e)?e:Array.isArray(null==e?void 0:e.platforms)?e.platforms:[];if(r.length>0){let e=r[0].group_id;e&&(console.log("\uD83D\uDD0D Encontrado grupo para modelo:",e),X(e),await eJ(e))}}U(e)},eV=e=>{switch(e){case"disponible":return"bg-slate-200 text-slate-700 border border-slate-300 hover:bg-slate-300";case"solicitada":return"bg-blue-300 text-blue-800 border border-blue-400 hover:bg-blue-400";case"pendiente":return"bg-yellow-300 text-yellow-800 border border-yellow-400 hover:bg-yellow-400";case"entregada":return"bg-green-300 text-green-800 border border-green-400 hover:bg-green-400";case"desactivada":return"bg-gray-800 text-white border border-gray-800 hover:opacity-90";case"inviable":return"bg-red-300 text-red-800 border border-red-400 hover:bg-red-400";default:return"bg-gray-50 text-gray-600 border border-gray-200"}},eY=(e,a)=>{switch(a&&"desactivada"!==e?"confirmada":e){case"disponible":return(0,t.jsx)(o.Z,{className:"w-4 h-4"});case"solicitada":return(0,t.jsx)(d.Z,{className:"w-4 h-4"});case"pendiente":return(0,t.jsx)(i.Z,{className:"w-4 h-4"});case"entregada":case"confirmada":default:return(0,t.jsx)(n.Z,{className:"w-4 h-4"});case"desactivada":return(0,t.jsx)(m,{className:"w-4 h-4"});case"inviable":return(0,t.jsx)(u.Z,{className:"w-4 h-4"})}},eK=(e,a)=>{switch(a&&"desactivada"!==e?"confirmada":e){case"disponible":return"Disponible";case"solicitada":return"Solicitada";case"pendiente":return"Pendiente";case"entregada":return"Entregada";case"desactivada":return"Desactivada";case"inviable":return"Inviable";default:return"Confirmada"}},eQ=async(e,a)=>{console.log("\uD83D\uDFE2 handlePlatformAction llamado",{platform:e.platform_name,action:a}),ee(e),es(a),eo("");let r=e.is_initial_config&&"desactivada"!==e.status?"entregada":e.status;if(ec(r||"disponible"),er(!0),console.log("\uD83D\uDFE2 showActionModal establecido a true"),"entregada"===r&&("admin"===eF||"super_admin"===eF)){var t,s;await e1(e.model_id,e.platform_id),(null===(t=e.platform_id)||void 0===t?void 0:t.toLowerCase())==="superfoon"||(null===(s=e.platform_name)||void 0===s?void 0:s.toLowerCase().includes("superfoon"))?await e2(e.model_id,e.platform_id):(eC(""),eE(""),eM(!1))}else eu(""),eg(""),eh(""),ek(!1),eC(""),eE(""),eM(!1)},e0=async()=>{try{let{supabase:e}=await Promise.all([r.e(5257),r.e(5922)]).then(r.bind(r,5922)),{data:{session:a},error:t}=await e.auth.getSession();if(t||!a)return null;let s=a.expires_at;if(s){let a=Math.floor(Date.now()/1e3);if(s-a<60){let{data:{session:a},error:r}=await e.auth.refreshSession();if(r||!a)return null;return a.access_token}}return a.access_token}catch(e){return console.error("Error obteniendo token:",e),null}},e1=async(e,a)=>{if(eq)try{ev(!0);let t=await e0();if(!t){eu(""),eg(""),eh(""),ek(!1);return}let s=await fetch("/api/calculator/platforms");if(s.ok){var r;let e=await s.json();if(e.success&&(null===(r=e.config)||void 0===r?void 0:r.platforms)){let r=e.config.platforms.find(e=>e.id===a);(null==r?void 0:r.login_url)?eu(r.login_url):eu("")}}let l=await fetch("/api/modelo-plataformas/credentials?model_id=".concat(e,"&platform_id=").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});if(l.ok){let e=await l.json();e.success&&e.hasCredentials&&e.data?(eg(e.data.login_username||""),eh(e.data.login_password||""),ek(!0)):(eg(""),eh(""),ek(!1))}else eg(""),eh(""),ek(!1)}catch(e){console.error("Error cargando credenciales:",e),eu(""),eg(""),eh(""),ek(!1)}finally{ev(!1)}},e2=async(e,a)=>{if(eq)try{eP(!0);let r=await e0();if(!r){eC(""),eE(""),eM(!1);return}let t=await fetch("/api/modelo-plataformas/credentials-3cx?model_id=".concat(e,"&platform_id=").concat(a),{headers:{Authorization:"Bearer ".concat(r)}});if(t.ok){let e=await t.json();e.success&&e.data&&e.data.hasCredentials?(eC(e.data.app_3cx_username||""),eE(e.data.app_3cx_password||""),eM(!0)):(eC(""),eE(""),eM(!1))}else eC(""),eE(""),eM(!1)}catch(e){console.error("Error cargando credenciales 3CX:",e),eC(""),eE(""),eM(!1)}finally{eP(!1)}},e3=async e=>{if(eq&&("admin"===eF||"super_admin"===eF))try{let a=await e0();if(!a)return;let r=new Set,t=e.filter(e=>"entregada"===e.status);for(let e=0;e<t.length;e+=10){let s=t.slice(e,e+10).map(async e=>{try{let r=await fetch("/api/modelo-plataformas/credentials?model_id=".concat(e.model_id,"&platform_id=").concat(e.platform_id),{headers:{Authorization:"Bearer ".concat(a)}});if(r.ok){let a=await r.json();if(a.success&&a.hasCredentials)return"".concat(e.model_id,"-").concat(e.platform_id)}}catch(a){console.error("Error verificando credenciales para ".concat(e.platform_id,":"),a)}return null});(await Promise.all(s)).forEach(e=>{e&&r.add(e)})}e_(r)}catch(e){console.error("Error cargando informaci\xf3n de credenciales:",e)}},e4=async()=>{if(Q&&eq){if(!ex.trim()||!ep.trim()){C("Usuario y contrase\xf1a son requeridos");return}if(!em.trim()){C('La plataforma no tiene URL de login configurado. Config\xfaralo en "Gesti\xf3n de Plataformas"');return}try{ei(!0),C("");let e=await e0();if(!e){C("Error de autenticaci\xf3n");return}let a=await fetch("/api/modelo-plataformas/credentials",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({platform_id:Q.platform_id,model_id:Q.model_id,login_username:ex.trim(),login_password:ep})});if(a.ok){let e=await a.json();e.success?(E("Credenciales guardadas correctamente"),ek(!0),e_(e=>{let a=new Set(e);return a.add("".concat(Q.model_id,"-").concat(Q.platform_id)),a})):C(e.error||"Error al guardar credenciales")}else{let e=await a.json();C(e.error||"Error al guardar credenciales")}}catch(e){console.error("Error guardando credenciales:",e),C("Error al guardar credenciales")}finally{ei(!1)}}},e5=async()=>{if(Q&&eq){if(!eN.trim()||!eS.trim()){C("Por favor completa usuario y contrase\xf1a de 3CX");return}try{ei(!0),C("");let e=await e0();if(!e){C("Error de autenticaci\xf3n");return}let a=await fetch("/api/modelo-plataformas/credentials-3cx",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({model_id:Q.model_id,platform_id:Q.platform_id,app_3cx_username:eN.trim(),app_3cx_password:eS})});if(a.ok){let e=await a.json();e.success?(E("Credenciales de 3CX guardadas correctamente"),eM(!0)):C(e.error||"Error al guardar credenciales de 3CX")}else{let e=await a.json();C(e.error||"Error al guardar credenciales de 3CX")}}catch(e){console.error("Error guardando credenciales 3CX:",e),C("Error al guardar credenciales de 3CX")}finally{ei(!1)}}},e6=async()=>{if(Q&&eq)try{ei(!0),C("");let e=await fetch("/api/modelo-plataformas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_id:Q.model_id,platform_id:Q.platform_id,new_status:en,changed_by:eq,reason:el||null})});if(e.ok)E("Plataforma ".concat(eK(en).toLowerCase()," correctamente")),er(!1),await eB();else{let a=await e.json();C(a.error||"Error al procesar la acci\xf3n")}}catch(e){console.error("Error executing action:",e),C("Error al procesar la acci\xf3n")}finally{ei(!1)}},e7=Object.values(A.filter(e=>0===F.length||F.includes(e.model_id)).reduce((e,a)=>{let r=a.model_id;return e[r]||(e[r]={model_id:a.model_id,model_name:a.model_name,model_email:a.model_email,group_name:a.group_name,group_id:a.group_id,platforms:[]}),e[r].platforms.push(a),e},{}));return j?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsx)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,t.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Cargando portafolio..."})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,t.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:["admin"===eF&&0===L.length&&(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-yellow-50/80 to-orange-50/80 dark:bg-yellow-900/20 dark:border-yellow-700/50 backdrop-blur-sm rounded-xl p-6 border border-yellow-200/30 dark:border-yellow-700/50",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-300",children:"Sin Sedes Asignadas"}),(0,t.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:"No tienes sedes asignadas para ver portafolios. Contacta al Super Admin para que te asigne sedes."})]})]})})}),(0,t.jsx)("div",{className:"mb-8 sm:mb-12",children:(0,t.jsx)("div",{className:"bg-white/80 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:(0,t.jsx)(x,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h1",{className:"text-base sm:text-lg md:text-2xl font-bold text-gray-900 dark:text-gray-100 leading-tight whitespace-nowrap overflow-hidden text-ellipsis",children:"Portafolio Modelos"}),(0,t.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:block",children:"Gesti\xf3n de plataformas por modelo y sede"})]})]})})})}),N&&(0,t.jsx)("div",{className:"mb-6 bg-red-50/80 dark:bg-red-900/20 dark:border-red-700/50 backdrop-blur-sm border border-red-200/50 dark:border-red-700/50 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg shadow-sm",children:N}),S&&(0,t.jsx)("div",{className:"mb-6 bg-green-50/80 dark:bg-green-900/20 dark:border-green-700/50 backdrop-blur-sm border border-green-200/50 dark:border-green-700/50 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg shadow-sm",children:S}),(0,t.jsx)("div",{className:"mb-4 sm:mb-8 z-40 relative",children:(0,t.jsxs)("div",{className:"bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-3 sm:p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,t.jsxs)("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[(0,t.jsx)(g,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2"}),"Filtros"]}),(0,t.jsx)("button",{onClick:()=>K(!Y),className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors active:scale-95 touch-manipulation",children:Y?"Ocultar":"Mostrar"})]}),Y&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:[(0,t.jsx)(y.Z,{label:"Grupo",value:q,options:[{label:"Todos los grupos",value:""},...L.map(e=>({label:e.name,value:e.id}))],onChange:e=>e$(e),className:"text-xs sm:text-sm"}),(0,t.jsx)(y.Z,{label:"Modelo",value:G,options:[{label:"Todas las modelos",value:""},...D.map(e=>({label:(0,w.W)(e.email),value:e.id}))],onChange:e=>U(e),className:"text-xs sm:text-sm"}),(0,t.jsx)(y.Z,{label:"Jornada",value:W,options:[{label:"Todas las jornadas",value:""},...["MA\xd1ANA","TARDE","NOCHE"].map(e=>({label:e,value:e}))],onChange:e=>B(e),className:"text-xs sm:text-sm"}),(0,t.jsx)(y.Z,{label:"Plataforma",value:J,options:[{label:"Todas las plataformas",value:""},...z.map(e=>({label:e.name,value:e.id}))],onChange:e=>$(e),className:"text-xs sm:text-sm"})]})]})}),(0,t.jsxs)("div",{className:"bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-600/20 p-3 sm:p-6 transition-all dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3 sm:mb-6",children:(0,t.jsxs)("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Modelos (",e7.length,")"]})}),0===e7.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(p.Z,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Aplica un filtro de Grupo, Modelo, Room, Jornada o Plataforma para ver resultados."})]}):(0,t.jsx)("div",{className:"space-y-3 sm:space-y-6",children:e7.map(e=>(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm rounded-xl border border-white/30 dark:border-gray-600/30 shadow-lg p-3 sm:p-6 dark:shadow-lg dark:shadow-blue-900/10 dark:ring-0.5 dark:ring-blue-500/15",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-3 sm:mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md flex-shrink-0",children:(0,t.jsx)(p.Z,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h4",{className:"text-sm sm:text-lg font-semibold text-gray-900 dark:text-gray-100 cursor-pointer hover:text-blue-700 dark:hover:text-blue-400 transition-colors truncate",onClick:()=>c(e.model_id,e.model_email),title:"Ver calculadora de la modelo",children:(0,w.W)(e.model_email)}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[(0,t.jsx)(h.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:e.group_name})]})]})]}),(0,t.jsxs)("button",{onClick:()=>{eT({id:e.model_id,name:(0,w.W)(e.model_email),email:e.model_email}),eR(!0)},className:"w-full sm:w-auto px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center justify-center gap-2 text-xs sm:text-sm font-medium active:scale-95 touch-manipulation",title:"Abrir Boost Pages para subir fotos a las plataformas",children:[(0,t.jsx)(f.Z,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Boost Pages"]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:(z||[]).map(a=>{let r=e.platforms.find(e=>e.platform_id===a.id)||{id:null,model_id:e.model_id,model_name:e.model_name,model_email:e.model_email,platform_id:a.id,platform_name:a.name,platform_code:a.id,status:"disponible",requested_at:null,delivered_at:null,confirmed_at:null,deactivated_at:null,reverted_at:null,requested_by_name:null,delivered_by_name:null,confirmed_by_name:null,deactivated_by_name:null,reverted_by_name:null,notes:null,revert_reason:null,is_initial_config:!1,calculator_sync:!1,calculator_activated_at:null,group_name:e.group_name,group_id:e.group_id,created_at:null,updated_at:null},s=ej.has("".concat(r.model_id,"-").concat(r.platform_id)),l=r.is_initial_config&&"desactivada"!==r.status?"entregada":r.status;return(0,t.jsx)("button",{type:"button",className:"px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-[11px] leading-4 sm:leading-5 font-medium transition-colors inline-flex items-center relative active:scale-95 touch-manipulation ".concat(eV(l)),onClick:()=>eQ(r,"request"),children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-0.5 sm:gap-1 align-middle",children:[eY(r.status,r.is_initial_config),r.platform_name,s&&"entregada"===l&&("admin"===eF||"super_admin"===eF)&&(0,t.jsx)("span",{className:"ml-0.5 sm:ml-1 w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full bg-blue-500 dark:bg-blue-400",title:"Credenciales guardadas","aria-label":"Credenciales guardadas"})]})},"".concat(e.model_id,"-").concat(a.id))})}),(0,t.jsx)("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-200/50 dark:border-gray-600/50",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1.5 sm:gap-0 text-[10px] sm:text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("span",{children:["Total: ",z.length," plataformas"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-x-2 sm:gap-x-4 gap-y-1",children:[(0,t.jsx)("span",{className:"text-green-600 dark:text-green-400",children:(()=>{let a=e.platforms.filter(e=>{let a=e.is_initial_config&&"desactivada"!==e.status;return"entregada"===e.status||a}).length;return(0,t.jsxs)(t.Fragment,{children:["Entregadas: ",a]})})()}),(0,t.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:["Solicitadas: ",e.platforms.filter(e=>"solicitada"===e.status).length]}),(0,t.jsxs)("span",{className:"text-gray-500 dark:text-gray-500",children:["Disponibles: ",z.length-e.platforms.length]})]})]})})]},e.model_id))})]}),ea&&Q&&(0,t.jsxs)(t.Fragment,{children:[console.log("\uD83D\uDFE1 Renderizando StandardModal",{showActionModal:ea,hasPlatform:!!Q}),(0,t.jsxs)(v.Z,{isOpen:ea,onClose:()=>{console.log("\uD83D\uDD34 Cerrando modal"),er(!1)},title:"request"===et&&"Estado de Plataforma"||"deliver"===et&&"Entregar Plataforma"||"deactivate"===et&&"Desactivar Plataforma"||"revert"===et&&"Revertir Plataforma"||"Acci\xf3n",maxWidthClass:"request"===et?"max-w-4xl":"max-w-md",children:["request"===et?(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Informaci\xf3n"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Plataforma:"})," ",Q.platform_name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Modelo:"})," ",(0,w.W)(Q.model_email)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Estado actual:"})," ",eK(Q.status)]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Estado"}),(0,t.jsx)(y.Z,{value:en,onChange:e=>ec(e),options:[{label:"Disponible",value:"disponible",color:"#e2e8f0"},{label:"Solicitada",value:"solicitada",color:"#93c5fd"},{label:"Pendiente",value:"pendiente",color:"#fde047"},{label:"Entregada",value:"entregada",color:"#86efac"},{label:"Desactivada",value:"desactivada",color:"#1f2937"},{label:"Inviable",value:"inviable",color:"#fca5a5"}],className:"text-sm"})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Detalles"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Notas (opcional)"}),(0,t.jsx)("textarea",{value:el,onChange:e=>eo(e.target.value),rows:8,className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Agregar notas sobre esta acci\xf3n..."})]})]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[(0,t.jsx)("strong",{children:"Plataforma:"})," ",Q.platform_name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[(0,t.jsx)("strong",{children:"Modelo:"})," ",(0,w.W)(Q.model_email)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Estado actual:"})," ",eK(Q.status)]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Estado"}),(0,t.jsx)(y.Z,{value:en,onChange:e=>ec(e),options:[{label:"Disponible",value:"disponible",color:"#e2e8f0"},{label:"Solicitada",value:"solicitada",color:"#93c5fd"},{label:"Pendiente",value:"pendiente",color:"#fde047"},{label:"Entregada",value:"entregada",color:"#86efac"},{label:"Desactivada",value:"desactivada",color:"#1f2937"},{label:"Inviable",value:"inviable",color:"#fca5a5"}],className:"text-sm"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Notas (opcional)"}),(0,t.jsx)("textarea",{value:el,onChange:e=>eo(e.target.value),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Agregar notas sobre esta acci\xf3n..."})]})]}),(()=>{let e=Q.is_initial_config&&"desactivada"!==Q.status?"entregada":Q.status;return("entregada"===en||"entregada"===e)&&("admin"===eF||"super_admin"===eF)})()&&(0,t.jsxs)("div",{className:"mb-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Credenciales de Login"}),ew&&(0,t.jsxs)("span",{className:"text-xs text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),"Guardadas"]})]}),ey?(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-2",children:"Cargando credenciales..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1",children:"URL de Login de la Plataforma"}),em?(0,t.jsx)("div",{className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:em}):(0,t.jsx)("div",{className:"w-full px-3 py-2 text-sm border border-yellow-300 dark:border-yellow-600 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400",children:'⚠️ URL no configurado. Config\xfaralo en "Gesti\xf3n de Plataformas"'}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Este URL es com\xfan para todas las modelos de esta plataforma"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1",children:["Usuario/Email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:ex,onChange:e=>eg(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"usuario@ejemplo.com"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1",children:["Contrase\xf1a ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:ef?"text":"password",value:ep,onChange:e=>eh(e.target.value),className:"w-full px-3 py-2 pr-10 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"••••••••"}),(0,t.jsx)("button",{type:"button",onClick:()=>eb(!ef),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:ef?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:ef?(0,t.jsx)(o.Z,{className:"w-4 h-4"}):(0,t.jsx)(b.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("button",{type:"button",onClick:e4,disabled:ed||!ex.trim()||!ep.trim(),className:"w-full px-3 py-2 text-xs font-medium bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ew?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{className:"w-4 h-4"}),ed?"Guardando...":"Actualizar Credenciales"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Z,{className:"w-4 h-4"}),ed?"Guardando...":"Guardar Credenciales"]})})]})]}),(()=>{var e,a;let r=(null==Q?void 0:Q.is_initial_config)&&"desactivada"!==Q.status?"entregada":null==Q?void 0:Q.status,t="entregada"===en||"entregada"===r,s=Q&&((null===(e=Q.platform_id)||void 0===e?void 0:e.toLowerCase())==="superfoon"||(null===(a=Q.platform_name)||void 0===a?void 0:a.toLowerCase().includes("superfoon")));return t&&("admin"===eF||"super_admin"===eF)&&s})()&&(0,t.jsxs)("div",{className:"mb-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Credenciales App 3CX"}),eL&&(0,t.jsxs)("span",{className:"text-xs text-purple-600 dark:text-purple-400 flex items-center gap-1",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),"Guardadas"]})]}),eD?(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-2",children:"Cargando credenciales 3CX..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1",children:["Usuario 3CX ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:eN,onChange:e=>eC(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"usuario@ejemplo.com"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1",children:["Contrase\xf1a 3CX ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:eA?"text":"password",value:eS,onChange:e=>eE(e.target.value),className:"w-full px-3 py-2 pr-10 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"••••••••"}),(0,t.jsx)("button",{type:"button",onClick:()=>eZ(!eA),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:eA?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:eA?(0,t.jsx)(o.Z,{className:"w-4 h-4"}):(0,t.jsx)(b.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("button",{type:"button",onClick:e5,disabled:ed||!eN.trim()||!eS.trim(),className:"w-full px-3 py-2 text-xs font-medium bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-200 shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:eL?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{className:"w-4 h-4"}),ed?"Guardando...":"Actualizar Credenciales 3CX"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Z,{className:"w-4 h-4"}),ed?"Guardando...":"Guardar Credenciales 3CX"]})})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:()=>er(!1),className:"flex-1 px-3 py-1.5 text-xs font-medium border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",disabled:ed,children:"Cancelar"}),(0,t.jsx)("button",{onClick:e6,disabled:ed,className:"flex-1 px-3 py-1.5 text-xs font-medium bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-md disabled:opacity-50",children:ed?"Procesando...":"Confirmar"})]})]})]}),eO&&ez&&eq&&(0,t.jsx)(k.Z,{isOpen:eO,onClose:()=>{eR(!1),eT(null)},modelId:ez.id,modelName:ez.name,modelEmail:ez.email,userId:eq})]})})}},327:function(e,a,r){"use strict";r.d(a,{W:function(){return t}});let t=e=>e?e.split("@")[0].split(".").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(""):""},622:function(e,a,r){"use strict";var t=r(2265),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,d=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function n(e,a,r){var t,l={},n=null,c=null;for(t in void 0!==r&&(n=""+r),void 0!==a.key&&(n=""+a.key),void 0!==a.ref&&(c=a.ref),a)o.call(a,t)&&!i.hasOwnProperty(t)&&(l[t]=a[t]);if(e&&e.defaultProps)for(t in a=e.defaultProps)void 0===l[t]&&(l[t]=a[t]);return{$$typeof:s,type:e,key:n,ref:c,props:l,_owner:d.current}}a.Fragment=l,a.jsx=n,a.jsxs=n},7437:function(e,a,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[6918,3470,2971,4938,1744],function(){return e(e.s=5974)}),_N_E=e.O()}]);
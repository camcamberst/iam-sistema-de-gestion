(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8608],{2601:function(e,r,t){"use strict";var a,s;e.exports=(null==(a=t.g.process)?void 0:a.env)&&"object"==typeof(null==(s=t.g.process)?void 0:s.env)?t.g.process:t(8960)},3912:function(e,r,t){Promise.resolve().then(t.bind(t,4590))},4590:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return o}});var a=t(7437),s=t(2265),i=t(4033);function o(){let[e,r]=(0,s.useState)(null),[o,n]=(0,s.useState)(!0);(0,i.useRouter)();let d=t(5922).O;return((0,s.useEffect)(()=>{(async()=>{try{var e,t,a,s;n(!0);let{data:i}=await d.auth.getUser(),o=null==i?void 0:null===(e=i.user)||void 0===e?void 0:e.id;if(!o){r(null),n(!1);return}let{data:l}=await d.from("users").select("id,name,email,role").eq("id",o).single(),c=[];if(l&&"super_admin"!==l.role){let{data:e}=await d.from("user_groups").select("groups(name)").eq("user_id",o);c=(e||[]).map(e=>{var r;return null===(r=e.groups)||void 0===r?void 0:r.name}).filter(Boolean)}let u={id:(null==l?void 0:l.id)||o,name:(null==l?void 0:l.name)||(null===(a=i.user)||void 0===a?void 0:null===(t=a.email)||void 0===t?void 0:t.split("@")[0])||"Usuario",email:(null==l?void 0:l.email)||(null===(s=i.user)||void 0===s?void 0:s.email)||"",role:(null==l?void 0:l.role)||"admin",groups:c,organization_id:"",is_active:!0,last_login:new Date().toISOString()};r(u)}catch(e){console.error("Error loading data:",e)}finally{n(!1)}})()},[]),o)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center pt-16",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):e&&("admin"===e.role||"super_admin"===e.role)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[(0,a.jsx)("div",{className:"mb-10",children:(0,a.jsx)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-6 border border-white/20 dark:border-gray-700/20 shadow-lg",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-md",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Gesti\xf3n de Anticipos"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Administra las solicitudes de anticipo del sistema"})]})]})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"relative bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-700/20 p-4 hover:shadow-lg transition-all duration-300 flex flex-col h-full group",children:[(0,a.jsx)("div",{className:"flex items-center mb-3",children:(0,a.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-amber-600 rounded-lg flex items-center justify-center shadow-md",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Solicitudes Pendientes"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mb-3 flex-grow",children:"Revisa y gestiona las solicitudes pendientes de aprobaci\xf3n"}),(0,a.jsx)("div",{className:"w-full px-3 py-2 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-lg hover:from-orange-600 hover:to-amber-700 transition-all duration-300 mt-auto text-center cursor-default text-xs shadow-md group-hover:shadow-lg transform group-hover:scale-105",children:"Gestionar Solicitudes"})]}),(0,a.jsxs)("div",{className:"relative bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-700/20 p-4 hover:shadow-lg transition-all duration-300 flex flex-col h-full group",children:[(0,a.jsx)("div",{className:"flex items-center mb-3",children:(0,a.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Historial de Anticipos"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mb-3 flex-grow",children:"Consulta el historial completo de anticipos procesados"}),(0,a.jsx)("div",{className:"w-full px-3 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 mt-auto text-center cursor-default text-xs shadow-md group-hover:shadow-lg transform group-hover:scale-105",children:"Ver Historial"})]})]}),(0,a.jsxs)("div",{className:"mt-6 relative bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-700/20 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-gradient-to-br from-purple-500 to-violet-600 rounded flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-2 h-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Resumen del Sistema"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-sm",children:[(0,a.jsx)("div",{className:"text-base font-bold text-gray-900",children:"-"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Solicitudes Pendientes"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-sm",children:[(0,a.jsx)("div",{className:"text-base font-bold text-gray-900",children:"-"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Solicitudes Aprobadas"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-200/50 dark:border-gray-700/50 shadow-sm",children:[(0,a.jsx)("div",{className:"text-base font-bold text-gray-900",children:"-"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Total Procesadas"})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center pt-16",children:(0,a.jsx)("div",{className:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 dark:border-gray-700/20 p-8 max-w-md",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,a.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Acceso Denegado"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Solo administradores pueden acceder a esta p\xe1gina."})]})})})}},5922:function(e,r,t){"use strict";t.d(r,{O:function(){return a}});let a=(0,t(5257).createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c")},8960:function(e){!function(){var r={229:function(e){var r,t,a,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function n(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{t="function"==typeof clearTimeout?clearTimeout:o}catch(e){t=o}}();var d=[],l=!1,c=-1;function u(){l&&a&&(l=!1,a.length?d=a.concat(d):c=-1,d.length&&m())}function m(){if(!l){var e=n(u);l=!0;for(var r=d.length;r;){for(a=d,d=[];++c<r;)a&&a[c].run();c=-1,r=d.length}a=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===o||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(r){try{return t.call(null,e)}catch(r){return t.call(this,e)}}}(e)}}function h(e,r){this.fun=e,this.array=r}function x(){}s.nextTick=function(e){var r=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];d.push(new h(e,r)),1!==d.length||l||n(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={exports:{}},o=!0;try{r[e](i,i.exports,a),o=!1}finally{o&&delete t[e]}return i.exports}a.ab="//";var s=a(229);e.exports=s}()},622:function(e,r,t){"use strict";var a=t(2265),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,n=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,t){var a,i={},l=null,c=null;for(a in void 0!==t&&(l=""+t),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(c=r.ref),r)o.call(r,a)&&!d.hasOwnProperty(a)&&(i[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===i[a]&&(i[a]=r[a]);return{$$typeof:s,type:e,key:l,ref:c,props:i,_owner:n.current}}r.Fragment=i,r.jsx=l,r.jsxs=l},7437:function(e,r,t){"use strict";e.exports=t(622)},4033:function(e,r,t){e.exports=t(5313)}},function(e){e.O(0,[5257,2971,4938,1744],function(){return e(e.s=3912)}),_N_E=e.O()}]);
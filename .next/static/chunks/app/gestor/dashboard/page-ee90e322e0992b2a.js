(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2549,5922],{2721:function(e,r,a){Promise.resolve().then(a.bind(a,2364))},2364:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return n}});var s=a(7437),t=a(2265),i=a(5922);function n(){let[e,r]=(0,t.useState)(!0),[a,n]=(0,t.useState)(null);return((0,t.useEffect)(()=>{(async()=>{try{var e,a,s,t;r(!0);let{data:l}=await i.supabase.auth.getUser(),d=null==l?void 0:null===(e=l.user)||void 0===e?void 0:e.id;if(!d){n(null),r(!1);return}let{data:o}=await i.supabase.from("users").select("id,name,email,role").eq("id",d).single(),u=[];if(o&&"super_admin"!==o.role){let{data:e}=await i.supabase.from("user_groups").select("groups(name)").eq("user_id",d);u=(e||[]).map(e=>{var r;return null===(r=e.groups)||void 0===r?void 0:r.name}).filter(Boolean)}let c={id:(null==o?void 0:o.id)||d,name:(null==o?void 0:o.name)||(null===(s=l.user)||void 0===s?void 0:null===(a=s.email)||void 0===a?void 0:a.split("@")[0])||"Usuario",email:(null==o?void 0:o.email)||(null===(t=l.user)||void 0===t?void 0:t.email)||"",role:(null==o?void 0:o.role)||"gestor",groups:u};n(c)}finally{r(!1)}})()},[]),e)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-gray-600 border-t-gray-400 rounded-full"})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,s.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-16",children:[(0,s.jsx)("div",{className:"mb-8 sm:mb-12",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-indigo-600/10 rounded-xl blur-xl"}),(0,s.jsx)("div",{className:"relative bg-white/80 dark:bg-gray-700/70 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 dark:border-gray-600/20 shadow-lg dark:shadow-lg dark:shadow-blue-900/15 dark:ring-0.5 dark:ring-blue-400/20",children:(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 md:gap-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h1",{className:"text-base sm:text-lg md:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent leading-tight whitespace-nowrap overflow-hidden text-ellipsis",children:"Dashboard Gestor"}),a&&(0,s.jsxs)("p",{className:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:block",children:["Bienvenido, ",a.name," \xb7 Rol: Gestor",a.groups.length>0&&" \xb7 Grupos: ".concat(a.groups.join(", "))]})]})]})})})]})}),(0,s.jsx)("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-md border border-white/20 dark:border-gray-700/20 p-6",children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Panel de Gestor - Las funcionalidades espec\xedficas se agregar\xe1n pr\xf3ximamente."})})]})})}},5922:function(e,r,a){"use strict";a.r(r),a.d(r,{supabase:function(){return s}});let s=(0,a(5257).createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c")},622:function(e,r,a){"use strict";var s=a(2265),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function o(e,r,a){var s,i={},o=null,u=null;for(s in void 0!==a&&(o=""+a),void 0!==r.key&&(o=""+r.key),void 0!==r.ref&&(u=r.ref),r)n.call(r,s)&&!d.hasOwnProperty(s)&&(i[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===i[s]&&(i[s]=r[s]);return{$$typeof:t,type:e,key:o,ref:u,props:i,_owner:l.current}}r.Fragment=i,r.jsx=o,r.jsxs=o},7437:function(e,r,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[5257,2971,4938,1744],function(){return e(e.s=2721)}),_N_E=e.O()}]);
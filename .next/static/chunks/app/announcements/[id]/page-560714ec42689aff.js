(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7426,5922],{2222:function(e,n,t){Promise.resolve().then(t.bind(t,9825))},9825:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var r=t(7437),a=t(9102),o=t.n(a),c=t(2265),s=t(4033),d=t(5922);function i(){let e=(0,s.useParams)();(0,s.useRouter)();let[n,t]=(0,c.useState)(null),[a,i]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{let e=()=>{try{let e=localStorage.getItem("theme"),n="light";if(e)n=e;else if(window.opener)try{n=window.opener.document.documentElement.classList.contains("dark")?"dark":"light"}catch(e){n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}else n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";"dark"===n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch(e){console.error("Error aplicando tema:",e),window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark")}};e();let n=n=>{"theme"===n.key&&e()},t=window.matchMedia("(prefers-color-scheme: dark)"),r=e=>{localStorage.getItem("theme")||(e.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))};return window.addEventListener("storage",n),localStorage.getItem("theme")||t.addEventListener("change",r),()=>{window.removeEventListener("storage",n),localStorage.getItem("theme")||t.removeEventListener("change",r)}},[]),(0,c.useEffect)(()=>{u()},[e.id]);let u=async()=>{try{i(!0),m(null);let{data:{session:n}}=await d.supabase.auth.getSession();if(!n){m("No hay sesi\xf3n activa");return}let r=await fetch("/api/announcements/".concat(e.id),{headers:{Authorization:"Bearer ".concat(n.access_token)}});if(!r.ok){m("Error al cargar la publicaci\xf3n");return}let a=await r.json();a.success?t(a.data):m(a.error||"Error al cargar la publicaci\xf3n")}catch(e){console.error("Error cargando publicaci\xf3n:",e),m("Error al cargar la publicaci\xf3n")}finally{i(!1)}};return a?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Cargando publicaci\xf3n..."})]})}):l||!n?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"text-center max-w-md",children:[(0,r.jsx)("div",{className:"text-red-500 text-4xl mb-4",children:"⚠️"}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Error al cargar la publicaci\xf3n"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:l||"La publicaci\xf3n no se pudo cargar"}),(0,r.jsx)("button",{onClick:()=>window.close(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})]})}):(0,r.jsxs)("div",{className:"jsx-1202d2b544ee8f1b min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,r.jsxs)("div",{className:"jsx-1202d2b544ee8f1b max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"jsx-1202d2b544ee8f1b mb-6",children:(0,r.jsx)("div",{className:"jsx-1202d2b544ee8f1b bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:(0,r.jsxs)("div",{className:"jsx-1202d2b544ee8f1b flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"jsx-1202d2b544ee8f1b flex items-start space-x-4 flex-1",children:[n.category&&(0,r.jsx)("div",{style:{backgroundColor:"".concat(n.category.color,"20"),color:n.category.color},className:"jsx-1202d2b544ee8f1b w-12 h-12 rounded-lg flex items-center justify-center text-2xl flex-shrink-0",children:n.category.icon||"\uD83D\uDCCC"}),(0,r.jsxs)("div",{className:"jsx-1202d2b544ee8f1b flex-1 min-w-0",children:[(0,r.jsx)("h1",{className:"jsx-1202d2b544ee8f1b text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n.title}),(0,r.jsxs)("div",{className:"jsx-1202d2b544ee8f1b flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[n.author&&(0,r.jsxs)("span",{className:"jsx-1202d2b544ee8f1b",children:["Por: ",n.author.name]}),(0,r.jsx)("span",{className:"jsx-1202d2b544ee8f1b",children:new Date(n.published_at||n.created_at).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})}),n.category&&(0,r.jsx)("span",{style:{backgroundColor:"".concat(n.category.color,"20"),color:n.category.color},className:"jsx-1202d2b544ee8f1b px-2 py-1 rounded text-xs font-medium",children:n.category.name})]})]})]}),(0,r.jsx)("button",{onClick:()=>window.close(),title:"Cerrar",className:"jsx-1202d2b544ee8f1b text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 flex-shrink-0 ml-4",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-1202d2b544ee8f1b w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-1202d2b544ee8f1b"})})})]})})}),(0,r.jsxs)("div",{className:"jsx-1202d2b544ee8f1b bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[n.featured_image_url&&(0,r.jsx)("img",{src:n.featured_image_url,alt:n.title,className:"jsx-1202d2b544ee8f1b w-full h-96 object-cover rounded-lg mb-6"}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.content||n.excerpt||""},className:"jsx-1202d2b544ee8f1b prose dark:prose-invert max-w-none announcement-content"})]})]}),(0,r.jsx)(o(),{id:"1202d2b544ee8f1b",children:".announcement-content{color:#374151}.dark .announcement-content{color:#f3f4f6}.announcement-content h1,.announcement-content h2,.announcement-content h3,.announcement-content h4,.announcement-content h5,.announcement-content h6{font-weight:600;margin-top:1.5em;margin-bottom:.5em;color:#111827}.dark .announcement-content h1,.dark .announcement-content h2,.dark .announcement-content h3,.dark .announcement-content h4,.dark .announcement-content h5,.dark .announcement-content h6{color:#f9fafb}.announcement-content p{margin-bottom:1em;line-height:1.6}.announcement-content img{max-width:100%;height:auto;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;margin:1.5em 0}.announcement-content ul,.announcement-content ol{margin:1em 0;padding-left:2em}.announcement-content li{margin:.5em 0}.announcement-content a{color:#3b82f6;text-decoration:underline}.dark .announcement-content a{color:#60a5fa}.announcement-content a:hover{color:#2563eb}.dark .announcement-content a:hover{color:#93c5fd}.announcement-content blockquote{border-left:4px solid#e5e7eb;padding-left:1em;margin:1em 0;font-style:italic;color:#6b7280}.dark .announcement-content blockquote{border-left-color:#4b5563;color:#9ca3af}.announcement-content code{background-color:#f3f4f6;padding:.2em .4em;-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem;font-size:.9em;color:#dc2626}.dark .announcement-content code{background-color:#374151;color:#fca5a5}.announcement-content pre{background-color:#f3f4f6;padding:1em;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;overflow-x:auto;margin:1em 0}.dark .announcement-content pre{background-color:#374151}.announcement-content pre code{background-color:transparent;padding:0;color:inherit}"})]})}},5922:function(e,n,t){"use strict";t.r(n),t.d(n,{supabase:function(){return r}});let r=(0,t(5257).createClient)("https://mhernfrkvwigxdubiozm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oZXJuZnJrdndpZ3hkdWJpb3ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MTY1NDcsImV4cCI6MjA3NDM5MjU0N30.v7qBceGTwaqyDZe5h9yLBjWwuuGEwAq6KVsAH_RNw8c")},4033:function(e,n,t){e.exports=t(5313)}},function(e){e.O(0,[5257,1585,2971,4938,1744],function(){return e(e.s=2222)}),_N_E=e.O()}]);